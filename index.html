<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta property="og:image" content="https://www.softwaremeadows.com/images/header.png" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117916694-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-117916694-1');
  </script>
  <script src='https://www.softwaremeadows.com/header-scripts/prism.js'></script>

  <link rel='stylesheet' href='https://www.softwaremeadows.com/css/default.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/kavadocs.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/prism.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/responsive.css' />


  <title>Home | Software Meadows</title>
</head>

<body>
  <div class="row">
    <div class="col-left">
      <nav id="nav" class="nav">
        <div id="menu">
          <ol>
<li><a href="https://www.softwaremeadows.com/">Home</a></li>
<li><a href="https://www.softwaremeadows.com/devops">DevOps</a></li>
<li><a href="https://www.softwaremeadows.com/well-being">Well-Being</a></li>
<li><a href="https://www.softwaremeadows.com/about">About</a></li>
<li><a target="_blank" href="https://github.com/bladewolf55">On GitHub</a></li>
</ol>

        </div>
        <div id="recent">
          <h2>Recent</h2>
          <a href='https://www.softwaremeadows.com/posts/mock_returning_a_list_as_imongoqueryable_for_unit_testing'>Mock returning a List as IMongoQueryable for unit testing</a><a href='https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019'>Git Basics With Visual Studio 2019</a><a href='https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example'>TFS/Azure DevOps: Building and Releasing Git Branches, A Simple Example</a><a href='https://www.softwaremeadows.com/posts/who_are_you_coding_for_'>Who Are You Coding For?</a><a href='https://www.softwaremeadows.com/posts/the_viewservice_pattern__especially_good_for_windows_forms'>The ViewService Pattern: Especially Good For Windows Forms</a>
        </div>
        <div id="history">
          <h2>History</h2>
          <ol class='tree'><li class='history-year'><label for='2020'>2020</label><input type='checkbox'  id='2020' /><ol><li class='history-month'><label for='2020-1'>January</label><input type='checkbox'  id='2020-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/mock_returning_a_list_as_imongoqueryable_for_unit_testing'>Mock returning a List as IMongoQueryable for unit testing</a></li></ol></li></ol></li><li class='history-year'><label for='2019'>2019</label><input type='checkbox'  id='2019' /><ol><li class='history-month'><label for='2019-12'>December</label><input type='checkbox'  id='2019-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019'>Git Basics With Visual Studio 2019</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example'>TFS/Azure DevOps: Building and Releasing Git Branches, A Simple Example</a></li></ol></li><li class='history-month'><label for='2019-10'>October</label><input type='checkbox'  id='2019-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/who_are_you_coding_for_'>Who Are You Coding For?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_viewservice_pattern__especially_good_for_windows_forms'>The ViewService Pattern: Especially Good For Windows Forms</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/most_of_us_developers_arent_smart'>Most of Us Developers Aren't Smart</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/confirmed_android_text_punctuation_voice_commands'>Confirmed Android text punctuation voice commands</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/summary_of_accelerate_state_of_devops_2019'>Summary of "Accelerate State of DevOps 2019"</a></li></ol></li><li class='history-month'><label for='2019-9'>September</label><input type='checkbox'  id='2019-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/posh-git_fork_to_allow_visual_studio_to_use_tfvc_and_ignore_git'>Posh-git Fork to Allow Visual Studio to Use TFVC and Ignore Git</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/asp_net_core_controllers_-_exploring_how_to_test_a_simple_feature'>ASP.NET Core Controllers - Exploring How To Test a Simple Feature</a></li></ol></li><li class='history-month'><label for='2019-8'>August</label><input type='checkbox'  id='2019-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_micro-exclusions-_two_poor_daily_standup_practices'>Remote Micro-Exclusions: Two Poor Daily Standup Practices</a></li></ol></li><li class='history-month'><label for='2019-6'>June</label><input type='checkbox'  id='2019-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/memstate-_the_practical_argument_for_big_in-memory_data'>Memstate: The Practical Argument for Big, In-Memory Data</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/grammar_for_developers_apostrophes_3_simple_rules_3_common_mistakes'>Grammar for Developers - Apostrophes: 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_accelerate__the_best_book_about_devops'>Weekly Sugar: 'Accelerate', the Best Book About DevOps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/20190616-1610 flatts_posts-casts_review_003'>Flatt's Posts/Casts Review #003 - Incentives, Emotions, Diversity, and Applying Bodyguard Training to Coding</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_applying_kanban_principles_to_your_personal_task_list'>Weekly Sugar: Applying Kanban Principles to Your Personal Task List</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/joe_developer-_when_(not)_to_drink_coffee'>Joe Developer: When (not) to Drink Coffee</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/an_open_email_to_blackwing602_com_about_their_poor_account_security'>An Open Email to Blackwing602.com About Their Poor Account Security</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_take_a_walk'>Weekly Sugar: Take a Walk</a></li></ol></li><li class='history-month'><label for='2019-5'>May</label><input type='checkbox'  id='2019-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_response_to_jonathan_cutrells_podcast_episode_crafting_your_work_b'>A Response to Jonathan Cutrell's Podcast Episode "Crafting Your Work By Your Strengths"</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_when_(not)_to_drink_coffe__a_preview'>Weekly Sugar: When (not) to Drink Coffee, a Preview</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/flatts_posts-casts_review_002_-_real_problems__strengths__korean_war'>Flatt's Posts/Casts Review #002 - Real Problems, Strengths, Korean War, Smaller Problems, Good/Bad Shame</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development_repost'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/flatts_post-cast_reviews_001_-_job_search_burnout_blazor_net_core_configuration'>Flatt's Posts/Casts Review #001 - Job Search, Burnout, Blazor, .NET Core Configuration, Personal Agency, Natural Movement, KonMari in Business</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_when_is_music_a_distraction_'>Weekly Sugar: When is Music a Distraction?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/yes_or_no_a_classic_and_effective_book_for_decision_making'>"Yes or No?" -- A Classic and Effective Book For Decision-Making</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_git_aliases_with_a_nod_to_Smith_and_Jones'>"My" Git Aliases (with a nod to Smith and Jones)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/proposal-_combine_agile_and_craftsmanship_manifestos_into_agile_crafted_software_values'>Proposal: Combine Agile and Craftsmanship Manifestos into "Agile Crafted Software Values"</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/suggestion_for_uncle_bob-_change_software_craftsmanship_to_crafted_software'>Suggestion for Uncle Bob: Change "Software Craftsmanship" to "Crafted Software"</a></li></ol></li><li class='history-month'><label for='2019-4'>April</label><input type='checkbox'  id='2019-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_mixed_relationship_with_tdd'>My Mixed Relationship with TDD</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/dont_be_a_lazy_programmer_like_matthew_jones_isnt'>Don't Be a Lazy Programmer Like Matthew Jones Isn't</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/personal_reflections_on_removing_distractions_for_improved_productivity'>Personal Reflections on Removing Distractions for Improved Productivity</a></li></ol></li><li class='history-month'><label for='2019-3'>March</label><input type='checkbox'  id='2019-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating_a_modern__practical_resume'>Creating a Modern, Practical Résumé</a></li></ol></li><li class='history-month'><label for='2019-2'>February</label><input type='checkbox'  id='2019-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_week_of_web_blocking_for_productivity_and_well-being'>Digital Minimalism: A Week of Web Blocking for Productivity and Well-Being</a></li></ol></li><li class='history-month'><label for='2019-1'>January</label><input type='checkbox'  id='2019-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/revert_packagereference_project_to_packages_config'>Revert PackageReference Project to Packages.config</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_a_simple_photo_album_site_with_wix'>Create a Simple Photo Album Site With Wix</a></li></ol></li></ol></li><li class='history-year'><label for='2018'>2018</label><input type='checkbox'  id='2018' /><ol><li class='history-month'><label for='2018-11'>November</label><input type='checkbox'  id='2018-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/three_rules_for_successfully_starting_a_habit'>Three Rules for Successfully Starting a Habit</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/going_full_screen-_when_and_why'>Going Full Screen: When and Why</a></li></ol></li><li class='history-month'><label for='2018-10'>October</label><input type='checkbox'  id='2018-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nuget_packagereference_in_visual_studio'>NuGet PackageReference in Visual Studio</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/accelerate_book_notes_and_quotes'>Accelerate Book Notes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/getting_started_with_software_(and_business_and_life)_skills'>Getting Started With Software (and Business and Life) Skills</a></li></ol></li><li class='history-month'><label for='2018-9'>September</label><input type='checkbox'  id='2018-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shortest_user_story_intro_ever'>Shortest User Story Intro Ever</a></li></ol></li><li class='history-month'><label for='2018-8'>August</label><input type='checkbox'  id='2018-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_simple__effective_meeting_agenda_system'>A Simple, Effective Meeting Agenda System</a></li></ol></li><li class='history-month'><label for='2018-7'>July</label><input type='checkbox'  id='2018-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/highly_opinionated_android_to_do_and_note_apps_comparison'>Highly Opinionated Android To Do and Note Apps Comparison</a></li></ol></li><li class='history-month'><label for='2018-6'>June</label><input type='checkbox'  id='2018-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_vs_code-_orange_icon_resurrection'>Tid Bits: VS Code: Orange Icon Resurrection</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_use_visual_studio_for_git_diff-merge'>Tid Bits: Use Visual Studio for Git Diff/Merge</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/3_chrome_extensions_for_performance__research__and_blogging'>3 Chrome Extensions for Performance, Research, and Blogging</a></li></ol></li><li class='history-month'><label for='2018-5'>May</label><input type='checkbox'  id='2018-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/chrome_browser_pinned_startup_tabs'>Chrome Browser Pinned Startup Tabs</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/solving_nancyfx_tokenizer_keychain_bin_invalid_read_type_request_115'>Solving NancyFx Tokenizer keyChain.bin Invalid Read Type Request '115'</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_ideal_markdown_editor_-_thoughts_and_reviews_part_1'>My Ideal Markdown Editor - Thoughts and Reviews Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_why_and_how_of_posh_git_contenxt_menu_transcripts_and_tf_exe'>My Why and How of posh-git: Context Menu, Transcripts, and TF.exe</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how_to_secure-erase_regular_and_ssd_hard_drives_without_superstition'>How to Secure-Erase Regular and SSD Hard Drives Without Superstition</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sql_permissions_for_data_folders'>SQL Permissions for Data Folders</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/grammar_for_developers_-_3_simple_rules_3_common_mistakes'>Grammar for Developers - 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/notes_on_improving_developer_team_practices_1'>Notes on Improving Developer Team Practices</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/using_git_locally_with_remote_tfvc'>Using Git Locally With Remote TFVC</a></li></ol></li><li class='history-month'><label for='2018-4'>April</label><input type='checkbox'  id='2018-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting'>Raw Code - Picture Renaming and Sorting</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1'>Becoming a Professional Blogger Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid'>Entity Framework 6 Child Deletion and Foreign Keys - String Int GUID</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/linqpad_-_refresh_entity_after_submitchanges_to_avoid_cached_results'>LINQPad - Refresh Entity after SubmitChanges to Avoid Cached Results</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_blog_post_using_markdown_monster_command_addin'>Create Blog Post Using Markdown Monster's Command Addin</a></li></ol></li><li class='history-month'><label for='2018-3'>March</label><input type='checkbox'  id='2018-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/batch_image_resize_checking_min_max_in_both_dimensions'>Batch Image Resize Checking Min Max in Both Dimensions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></li></ol></li><li class='history-month'><label for='2018-1'>January</label><input type='checkbox'  id='2018-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/new-blog-engine'>New Blog Engine</a></li></ol></li></ol></li><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-agent'>TFS Continuous Integration - Agent Installation and Visual Studio Licensing</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-clickonce'>TFS Continuous Integration - ClickOnce Apps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-and-private'>TFS Continuous Integration and Private NuGet Package Sources</a></li></ol></li><li class='history-month'><label for='2017-2'>February</label><input type='checkbox'  id='2017-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_22'>TFS Continuous Integration Walk Through Part 5b - Multiple Solutions: Simple Project References</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_20'>TFS Continuous Integration Walk Through Part 5a - Multiple Solutions: Overview</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_24'>TFS Continuous Integration Walk Through Part 4b - Problems With Traits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_6'>TFS Continuous Integration Walk Through Part 4a - Filtering Tests</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_63'>TFS Continuous Integration Walk Through Part 3 - Notifications</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_5'>TFS Continuous Integration Walk Through Part 2 - Create an Automated Build</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 1 - Installing TFS and Checking In a Test Project</a></li></ol></li><li class='history-month'><label for='2017-1'>January</label><input type='checkbox'  id='2017-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-else-programmers-do-text'>What Else Programmers Do: A Text Manipulation Example</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-does-this-code-do-extended'>What does this code do? Extended explanation</a></li></ol></li></ol></li><li class='history-year'><label for='2016'>2016</label><input type='checkbox'  id='2016' /><ol><li class='history-month'><label for='2016-12'>December</label><input type='checkbox'  id='2016-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nexus-5-gps-lock-problem-and-two'>Nexus 5 GPS Lock Problem and Three--or More!--Solutions</a></li></ol></li><li class='history-month'><label for='2016-11'>November</label><input type='checkbox'  id='2016-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-bypass-new-microsoft-office'>How to Bypass the New Microsoft Office Startup and Save Screens</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-tasks-vs-reminders-in-desktop'>Google Tasks vs Reminders in Desktop and Phone</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-claims-based-identity-part-1_6'>Catching Up on Coding - Claims-Based Identity Part 1</a></li></ol></li><li class='history-month'><label for='2016-10'>October</label><input type='checkbox'  id='2016-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-forms-authentication'>Creating Forms Authentication Membership Tables in LocalDB–Right and Wrong Ways</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-10-complaint-1-auto-update'>Windows 10 Complaint #1: Auto Update State Loss</a></li></ol></li><li class='history-month'><label for='2016-9'>September</label><input type='checkbox'  id='2016-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/disable-windows-10-photo-automatic'>Disable Windows 10 Photo Automatic Albums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-laymans-explanation-of-mocking-and'>A Layman’s Explanation of Mocking and Dependency Injection</a></li></ol></li><li class='history-month'><label for='2016-8'>August</label><input type='checkbox'  id='2016-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></li></ol></li><li class='history-month'><label for='2016-7'>July</label><input type='checkbox'  id='2016-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/writing-to-current-users-registry-when'>Writing to the Current User(s) Registry When Running as System</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-syllabus'>Catching Up on Coding - The Syllabus</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/quickly-enable-mercurial-keyring-for'>Quickly Enable Mercurial Keyring for BitBucket</a></li></ol></li><li class='history-month'><label for='2016-6'>June</label><input type='checkbox'  id='2016-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create-easily-debuggable-windows-service'>Create an Easily Debuggable Windows Service</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/underrated-work-skills'>(Underrated) Work Skills</a></li></ol></li><li class='history-month'><label for='2016-5'>May</label><input type='checkbox'  id='2016-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/vbnet-windows-project-to-c-conversion'>VB.Net Windows Project to C# Conversion Tools Quick Review</a></li></ol></li><li class='history-month'><label for='2016-2'>February</label><input type='checkbox'  id='2016-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/scroll-bars-in-blogger-tags'>Scroll bars in Blogger &lt;pre&gt; Tags</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-keep-changes-taking-to-forums'>Google Keep Changes: Taking to the Forums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/backward-step-for-google-keep'>Backward Step for Google Keep</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/recover-virtualbox-snapshots'>Recover VirtualBox Snapshots</a></li></ol></li><li class='history-month'><label for='2016-1'>January</label><input type='checkbox'  id='2016-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/auto-updating-new-windows-7-installation'>Auto Updating a New Windows 7 Installation</a></li></ol></li></ol></li><li class='history-year'><label for='2015'>2015</label><input type='checkbox'  id='2015' /><ol><li class='history-month'><label for='2015-8'>August</label><input type='checkbox'  id='2015-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shoretel-brilliantly-simple'>ShoreTel - Brilliantly Simple?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the-google-photos-management-problems'>The Google Photos Management Problem(s)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-long-lasting-clickonce'>Creating a Long-Lasting ClickOnce Certificate</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/more-encrypted-config-filesclickonce'>More Encrypted Config Files–ClickOnce Complications</a></li></ol></li><li class='history-month'><label for='2015-7'>July</label><input type='checkbox'  id='2015-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/encrypting-appconfig'>Encrypting app.config</a></li></ol></li><li class='history-month'><label for='2015-3'>March</label><input type='checkbox'  id='2015-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/better-google-sites-designthe-notched'>Better Google Sites Design–The Notched Page</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/removing-unremovable-bluetooth-device'>Removing Unremovable Bluetooth Device: FAIL!</a></li></ol></li></ol></li><li class='history-year'><label for='2014'>2014</label><input type='checkbox'  id='2014' /><ol><li class='history-month'><label for='2014-11'>November</label><input type='checkbox'  id='2014-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-savernet-and-similar'>How to remove Savernet (and similar) Chrome extension</a></li></ol></li><li class='history-month'><label for='2014-9'>September</label><input type='checkbox'  id='2014-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/prevent-word-from-restoring-minimized'>Prevent Word from Restoring Minimized Documents</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clever-phish'>Clever Phish</a></li></ol></li><li class='history-month'><label for='2014-8'>August</label><input type='checkbox'  id='2014-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/enable-synaptics-touchpad-2-finger-tap'>Enable Synaptics touchpad 2-finger tap context menu</a></li></ol></li><li class='history-month'><label for='2014-5'>May</label><input type='checkbox'  id='2014-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/installing-fcm-flow-cytrometry-library'>Installing fcm flow cytrometry library on Windows 8.1</a></li></ol></li><li class='history-month'><label for='2014-4'>April</label><input type='checkbox'  id='2014-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-update-1-driver-problem-dtmb'>Windows 8.1 Update 1 Driver Problem DTMB BDA TV USB</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-window-key-s-search-from'>Windows 8.1: Window Key + S = Search from Desktop</a></li></ol></li><li class='history-month'><label for='2014-3'>March</label><input type='checkbox'  id='2014-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-2011-windows-update-one-or-more'>WHS 2011 Windows Update “One or more services are no running” alert</a></li></ol></li><li class='history-month'><label for='2014-2'>February</label><input type='checkbox'  id='2014-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem-continued'>Lenovo U530 Touch WiFi Problem Continued</a></li></ol></li><li class='history-month'><label for='2014-1'>January</label><input type='checkbox'  id='2014-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem'>Lenovo U530 Touch WiFi Problem</a></li></ol></li></ol></li><li class='history-year'><label for='2013'>2013</label><input type='checkbox'  id='2013' /><ol><li class='history-month'><label for='2013-12'>December</label><input type='checkbox'  id='2013-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-connector-restart-error-in-windows'>WHS Connector Restart Error in Windows 8.0/8.1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-apps-from-google-play-my'>How to Remove Apps from Google Play My Apps Site</a></li></ol></li><li class='history-month'><label for='2013-11'>November</label><input type='checkbox'  id='2013-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-hidden-opt-ins-opt-outs'>Windows 8.1 Hidden Opt Ins/ Opt Outs</a></li></ol></li><li class='history-month'><label for='2013-9'>September</label><input type='checkbox'  id='2013-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-epilogue'>Edward Farley and the Fantastic Library Epilogue</a></li></ol></li><li class='history-month'><label for='2013-7'>July</label><input type='checkbox'  id='2013-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-2-end'>A Week (or More!) of JoliCloud - Day 2: THE END</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-1'>A Week (or More!) of JoliCloud - Day 1</a></li></ol></li><li class='history-month'><label for='2013-5'>May</label><input type='checkbox'  id='2013-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-12'>Edward Farley and the Fantastic Library Part 12</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1019'>Edward Farley and the Fantastic Library Part 11</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-10'>Edward Farley and the Fantastic Library Part 10</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-9'>Edward Farley and the Fantastic Library Part 9</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-8'>Edward Farley and the Fantastic Library Part 8</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-7'>Edward Farley and the Fantastic Library Part 7</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-6'>Edward Farley and the Fantastic Library Part 6</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-5'>Edward Farley and the Fantastic Library Part 5</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-4'>Edward Farley and the Fantastic Library Part 4</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-3'>Edward Farley and the Fantastic Library Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-2'>Edward Farley and the Fantastic Library Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1'>Edward Farley and the Fantastic Library Part 1</a></li></ol></li><li class='history-month'><label for='2013-4'>April</label><input type='checkbox'  id='2013-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clean-up-orphaned-sql-users'>Clean Up Orphaned SQL Users</a></li></ol></li><li class='history-month'><label for='2013-3'>March</label><input type='checkbox'  id='2013-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/t-sql-one-to-one-cant-be-done'>T-SQL One to One Can't Be Done</a></li></ol></li><li class='history-month'><label for='2013-1'>January</label><input type='checkbox'  id='2013-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/test-post-with-code'>Migrating Google Drive</a></li></ol></li></ol></li></ol>
        </div>
        <a href="javascript:void(0);" class="icon" onclick="toggleNav()">&#9776;</a>
      </nav>
    </div>
    <div class="col-right">
      <header>
        <div id="site-image">
          <img src="https://www.softwaremeadows.com/images/header.png" alt="" />
        </div>
        <h1 id="site-name"></h1>
        <div id="site-subtitle">A pleasant walk through computing</div>
      </header>
      <section id="content">
        <hr />

        <p id="comment">
          Comment for me? Send an <a href="mailto:charles@tfhome.us?subject=Comment on Home | Software Meadows">email</a>. I might even update the post!
        </p>
        

      </section>
      <!-- posts only appear in home index -->
      <section id="posts">
        
              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/mock_returning_a_list_as_imongoqueryable_for_unit_testing'>Mock returning a List as IMongoQueryable for unit testing</a></h2>
                <p class='post-info'><span class='posted-on'>2020-01-28 17:29</span></p>
                <div class='post-content'><h2 id="the-problem">The Problem</h2>
<p>The latest MongoDb driver for .Net doesn't have a way to convert a collection such as List<T> to IMongoQueryable. If the code depends on that interface, it needs to be mocked, but how to set the concrete data?</p>
<h2 id="the-solution">The Solution</h2>
<p>What you'll need to run this sample yourself.</p>
<ul>
<li>Visual Studio</li>
<li><a href="https://www.nuget.org/packages/MongoDB.Driver/">MongoDb.Driver</a></li>
<li><a href="https://www.nuget.org/packages/NSubstitute/">NSubstitute</a></li>
<li><a href="https://www.nuget.org/packages/xunit/">xunit</a></li>
<li><a href="https://www.nuget.org/packages/xunit.runner.visualstudio/">xunit.runner.visualstudio</a></li>
</ul>
<p>Let's say you've settled on using MongoDb as your NoSQL data store. You write a simple repository pattern with one method to query for any concrete type.<a id="fnref:1" href="#fn:1" class="footnote-ref"><sup>1</sup></a></p>
<pre><code class="language-csharp">	public interface IMongoRepository&lt;T&gt; where T : class
	{
		public IMongoQueryable&lt;T&gt; QueryAll();
	}
</code></pre>
<p>You also have a simple Customer service that calls the repository</p>
<pre><code class="language-csharp">public class CustomerService
{
	IMongoRepository&lt;Customer&gt; _customerRepository = null;
	public CustomerService(IMongoRepository&lt;Customer&gt; customerRepository)
	{
		_customerRepository = customerRepository;
	}

	public List&lt;Customer&gt; GetCustomers()
	{
		return _customerRepository.QueryAll().ToList();
	}
}
</code></pre>
<p>Finally, you start writing the following test. But you discover there's no way to get a concrete instance of IMongQueryable<T>. There used to be, but it's legacy code.</p>
<pre><code class="language-csharp">public class CustomerService_Should
{
	[Fact]
	public void Return_customers()
	{
		var expected = new List&lt;Customer&gt;() { new Customer() { Id = 1 } };
		var customerRepository = Substitute.For&lt;IMongoRepository&lt;Customer&gt;&gt;();
		
		//return the mocked data. But how to convert the list into IMongoQueryable???

		customerRepository.QueryAll().Returns([argh, what goes here??]);
		var service = new CustomerService(customerRepository);
		var actual = service.GetCustomers();
		Assert.Equal(expected.Count, actual.Count);
		Assert.Equal(expected.First().Id, actual.First().Id);
	}
}
</code></pre>
<p>Like me, you probably try all kinds of typecasting before realizing you're always trying to do something impossible. Finally, you find the answer on Stack Overflow. There are two ways to mock up the data, and both make the IMongoQueryable class accept IQueryable.</p>
<h2 id="using-nsubstitute">Using NSubstitute</h2>
<pre><code class="language-csharp">public class CustomerService_Should
{
	[Fact]
	public void Return_customers()
	{
		var expected = new List&lt;Customer&gt;() { new Customer() { Id = 1 } };
		var customerRepository = Substitute.For&lt;IMongoRepository&lt;Customer&gt;&gt;();
		
		//Mock IMongoQueryable to accept IQueryable, enabling just enough of the interface
		//to work
		var expectedQueryable = expected.AsQueryable();
		var mockQueryable = Substitute.For&lt;IMongoQueryable&lt;Customer&gt;&gt;();
		mockQueryable.ElementType.Returns(expectedQueryable.ElementType);
		mockQueryable.Expression.Returns(expectedQueryable.Expression);
		mockQueryable.Provider.Returns(expectedQueryable.Provider);
		mockQueryable.GetEnumerator().Returns(expectedQueryable.GetEnumerator());

		//return the mocked data
		customerRepository.QueryAll().Returns(mockQueryable);
		var service = new CustomerService(customerRepository);
		var actual = service.GetCustomers();
		Assert.Equal(expected.Count, actual.Count);
		Assert.Equal(expected.First().Id, actual.First().Id);
	}
}
</code></pre>
<p>Pretty slick.</p>
<h2 id="creating-mongoqueryable">Creating MongoQueryable<T></h2>
<p>A simple concrete class that allows setting a List property.</p>
<pre><code class="language-csharp">public class MongoQueryable&lt;T&gt; : IMongoQueryable&lt;T&gt;
{
	public List&lt;T&gt; MockData { get; set; }

	public Type ElementType =&gt; MockData.AsQueryable().ElementType;

	public Expression Expression =&gt; MockData.AsQueryable().Expression;

	public IQueryProvider Provider =&gt; MockData.AsQueryable().Provider;

	public IEnumerator&lt;T&gt; GetEnumerator() =&gt; MockData.AsQueryable().GetEnumerator();
	IEnumerator IEnumerable.GetEnumerator() =&gt; MockData.AsQueryable().GetEnumerator();

	public QueryableExecutionModel GetExecutionModel() =&gt; throw new NotImplementedException();

	public IAsyncCursor&lt;T&gt; ToCursor(CancellationToken cancellationToken = default) =&gt; throw new NotImplementedException();

	public Task&lt;IAsyncCursor&lt;T&gt;&gt; ToCursorAsync(CancellationToken cancellationToken = default) =&gt; throw new NotImplementedException();

}
</code></pre>
<p>The test.</p>
<pre><code class="language-csharp">[Fact]
public void Return_customers2()
{
	var expected = new List&lt;Customer&gt;() { new Customer() { Id = 1 } };
	var customerRepository = Substitute.For&lt;IMongoRepository&lt;Customer&gt;&gt;();

	//Mock IMongoQueryable using a class
	var mockQueryable = new MongoQueryable&lt;Customer&gt;();
	mockQueryable.MockData = expected;

	//return the mocked data
	customerRepository.QueryAll().Returns(mockQueryable);
	var service = new CustomerService(customerRepository);
	var actual = service.GetCustomers();
	Assert.Equal(expected.Count, actual.Count);
	Assert.Equal(expected.First().Id, actual.First().Id);
}
</code></pre>
<h2 id="references">References</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/46035390/unit-testing-with-imongoqueryable">c# - Unit Testing with IMongoQueryable - Stack Overflow</a></li>
</ul>
<div class="footnotes">
<hr />
<ol>
<li id="fn:1">
<p>The comments in Stack Overflow point out that using IMongoQueryable--or IQueryable-- isn't ideal because it tightly couples the code to MongoDb or to a Queryable backend. It might be better to use a truly generic repository and convert to/from MongoDb (or other database) as needed.<a href="#fnref:1" class="footnote-back-ref">&#8617;</a></p>
</li>
</ol>
</div>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019'>Git Basics With Visual Studio 2019</a></h2>
                <p class='post-info'><span class='posted-on'>2019-12-29 19:30</span></p>
                <div class='post-content'><p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/header.png" alt="" /></p>
<h2 id="contents">Contents</h2>
<ul>
<li><a href="#what-problem(s)-does-git-solve?">What problem(s) does Git solve?</a></li>
<li><a href="#how-does-git-basically-work?">How does Git basically work?</a></li>
<li><a href="#what%27s-a-typical-daily-flow?">What's a typical daily flow?</a></li>
<li><a href="#doing-it-in-visual-studio-2019">Doing It In Visual Studio 2019</a>
<ul>
<li><a href="#create-and-checkout-a-new-branch">Create and Checkout a New Branch</a></li>
<li><a href="#stage-changes-for-commit">Stage Changes for Commit</a></li>
<li><a href="#commit-the-change">Commit the Change</a></li>
<li><a href="#make-a-couple-more-commits">Make a Couple More Commits</a></li>
<li><a href="#clean-up-the-commits">Clean Up the Commits</a></li>
<li><a href="#checkout-and-synchronize-master">Checkout and Synchronize Master</a></li>
<li><a href="#checkout-and-rebase-feature-onto-master">Checkout and Rebase Feature Onto Master</a></li>
<li><a href="#checkout-and-merge-feature-into-master">Checkout and Merge Feature Into Master</a></li>
<li><a href="#push-changes-to-the-remote-server">Push Changes to the Remote Server</a></li>
<li><a href="#delete-the-branch">Delete the Branch</a></li>
</ul>
</li>
<li><a href="#common-operations">Common Operations</a>
<ul>
<li><a href="#checkout">Checkout</a></li>
<li><a href="#branch">Branch</a></li>
<li><a href="#add-(stage)">Add (stage)</a></li>
<li><a href="#commit">Commit</a></li>
<li><a href="#merge">Merge</a></li>
<li><a href="#rebase-(changes-history)">Rebase (changes history)</a></li>
<li><a href="#check-status">Check Status</a></li>
<li><a href="#check-history">Check History</a></li>
<li><a href="#revert">Revert</a></li>
<li><a href="#reset-(changes-history)">Reset (changes history)</a></li>
<li><a href="#tag">Tag</a></li>
</ul>
</li>
<li><a href="#the-rules-for-teams">The Rules For Teams</a></li>
<li><a href="#solving-common-problems">Solving Common Problems</a>
<ul>
<li><a href="#pull,-merge-and-rebase-conflicts">Pull, Merge and Rebase Conflicts</a></li>
<li><a href="#remote-vs-local,-plus-base-and-backup">Remote vs Local, plus Base and Backup</a></li>
</ul>
</li>
<li><a href="#last-word">Last Word</a></li>
</ul>
<h2 id="what-problems-does-git-solve">What problem(s) does Git solve?</h2>
<ul>
<li>Multi-user offline development</li>
<li>Rapid, dependable branching and merging</li>
<li>Decentralized version control</li>
</ul>
<p>Git is a distributed version control system that was originally developed by Linus Torvalds in April 2005 to replace BitKeeper, which was withdrawn from free use due to alleged reverse engineering by SourcePuller creator Andrew Tridgell.</p>
<p>Torvalds needed a system that could manage the Linux kernel development and scale to hundreds of merges performed in seconds. Git has been maintained by Junio Hamano since July 2005.</p>
<p>Git is currently the most-used version control system by far. Microsoft recommends Git, has contributed to its development, and hosts the Windows source code using Git--the largest such repository in the world.</p>
<h2 id="how-does-git-basically-work">How does Git basically work?</h2>
<p>A folder, <code>.git</code>, contains the complete repository for files and folders underneath it. A clone of a repository contains the same history as the original.</p>
<p>The repository is a file system. Each file is named with an SHA-1 hash. A file contains either the actual content of source code file, or contains a tree of hash file names. In this way, Git maintains references, sometimes called &quot;pointers&quot;--the hash file names--to content.</p>
<p>There's a file that contains the reference to the root of the solution. From here, all the links to other files can be traced, so this becomes the current state.</p>
<p>If any file changes, Git creates a new copy of the file with a new hash reference, updates links to it, and creates a new root-level reference. This becomes the new point-in-time version.</p>
<p>Branches exist by creating a file with the branch name, e.g. &quot;master&quot;, whose content points to a particular root reference file. When people talk about branching in Git being &quot;cheap,&quot; it's because, to branch from another branch, all Git has to do is create another file, e.g. &quot;feature-1,&quot; with the same reference file name.</p>
<p>If Charlene clones a repository from Blake, all she's doing is making a copy of the .git folder. Let's say Charlene and Blake each make a change to the same file. Each of them will get a <em>different</em> new reference hash. This is how Git knows to merge files: when it finds a divergence in the tree, it can trace backward in the references to find the common ancestor, then determine the changes via a three-way comparison. Once the differences are resolved, a new version of the file is created with a new reference name.</p>
<p>The process is exactly the same with repositories located on remote servers. The only difference is that remote repositories are typically &quot;bare,&quot; meaning there's no working folder.</p>
<blockquote>
<p>Anyone can create a bare repository on their local file filesystem. It's really just the contents of the .git folder moved to the root level.</p>
</blockquote>
<p>Remote branch reference information is maintained in a .git folder named <code>remotes</code>. Where the remotes are located is maintained in a .git config file.</p>
<p>What's important to understand at this point is that your repository can contain branches for your local work, and branches for remote work. When you <code>fetch</code> a remote branch, the contents are merged into your local copy of that branch, e.g. <code>origin/master</code>. You then decide whether to merge those files into your local branch, i.e. <code>master</code></p>
<p>When it comes to tracking local changes, there are potentially three versions of the file in play at any one time.</p>
<p>First, there's the version of the file you're editing. This is the working file.</p>
<p>Second, there's the version of the file you're going to commit. This is the staged file. (Also called being in the &quot;index&quot;.)</p>
<p>Third, there's the version of the file since the last commit. This is the repository file.</p>
<p>How does this look in practice? Let's say the last committed file named Test.txt has one line:</p>
<pre><code class="language-txt">one
</code></pre>
<p>You edit the file and add a line:</p>
<pre><code class="language-txt">one
two
</code></pre>
<p>So, now your working file is changed, but Git doesn't know about the changes. You add the file to the index via <code>git add Test.txt</code>.</p>
<p>If you were to <code>commit</code> now, the repository file would be updated to match the staged file. But what if you don't commit, and instead add a third line?</p>
<pre><code class="language-txt">one
two
three
</code></pre>
<p>If you <code>commit</code>, Git will still only update the repository file with the two lines from the staged file. You'd have to <code>git add</code> again to stage the file with all three lines.</p>
<p>This is a very flexible approach, letting you commit only the changes that you want. While I don't cover it in this guide, it's even possible to only commit portions of a file, called &quot;hunks.&quot;</p>
<h2 id="whats-a-typical-daily-flow">What's a typical daily flow?</h2>
<p>Let's assume you've already cloned a repository from a remote server, and have configured your local Git to work easily with that remote. Your typical day will look something like this.</p>
<ol>
<li>Create and 'checkout' a local branch named 'feature-1' from the 'master' branch to work on a feature.
<blockquote>
<p>This is a local feature branch that's not replicated in the remote.</p>
</blockquote>
</li>
<li>Make a small set of changes to the files.</li>
<li><code>Add</code> the changes to the index.</li>
<li><code>Commit</code> those changes with a short message</li>
<li>Do this a bunch of times until the feature--or enough of the feature to make available to everyone--is complete (tests run, etc).</li>
<li>Interactively <code>rebase</code> those commits, combining them and updating the messages so the changes will be clear in the remote repository history that will be shared with everyone.</li>
<li><code>Checkout</code> the <code>master</code> branch</li>
<li>Pull (fetch and merge) any changes from the remote's <code>master</code> branch into your local <code>master</code> branch.</li>
<li>Checkout the <code>feature-1</code> branch.</li>
<li><code>Rebase</code> onto the <code>master</code> branch. This makes it seem as if all your changes are also the latest changes.</li>
<li>Checkout <code>master</code></li>
<li>Merge <code>feature-1</code> into <code>master</code></li>
<li><code>Push</code> your local <code>master</code> branch to the remote <code>master</code> branch.</li>
<li>Delete your local feature branch</li>
<li>Create and <code>checkout</code> a new feature branch and do the whole thing again.</li>
</ol>
<p>While this is many discreet steps, the flow soon becomes natural, and the result is a history of changes that's easy to follow.</p>
<p>Here are the commands for the above flow, which are explained in the <em>Common Operations</em> section.</p>
<pre><code class="language-git">git checkout -b feature-1
git add -A
git commit -m 'Try use existing GetAddress feature for GetCustomer'
git commit -m 'Update GetCustomer with new collection'
git commit -m 'Fix broken tests'
git rebase -i master (result is a single commit with message 'Allow git GetCustomer to return addresses')
git checkout master
git pull
git checkout feature-1
git rebase master
git checkout master
git merge feature-1 --no-ff (--no-ff forces the feature to appear clearly as a merge in the log)
git push
git branch -d feature-1
git checkout -b feature-1
</code></pre>
<h2 id="doing-it-in-visual-studio-2019">Doing It In Visual Studio 2019</h2>
<p>Here are the same operations from above done in Visual Studio 2019. Using Visual Studio 2017 is very similar.</p>
<blockquote>
<p>I don't recommend using Visual Studio 2015's Git features.</p>
</blockquote>
<h3 id="create-and-checkout-a-new-branch">Create and Checkout a New Branch</h3>
<p><code>git checkout -b feature-1</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/511d12b20ca34c5481c78b3611939ed1.png" alt="d56bf2ea153b26c70f88de059c3bd2b4.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/252361a8b6ba44668e2f52fa9415ec67.png" alt="1ce43676df42b7b589e5f1e858bde163.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/9090dc7c34ef42e6864be762eeb79133.png" alt="726441de43f69112a3b7d22a0229f89c.png" /></p>
<h3 id="stage-changes-for-commit">Stage Changes for Commit</h3>
<p><code>git add -A</code></p>
<blockquote>
<p>Note: In most cases you won't explicitly stage. You'll just Commit All.</p>
</blockquote>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/ae54e77b885b4dc8804fdd082f2c3737.png" alt="8c1abfe61b1708c31429dc860cb16040.png" /></p>
<pre><code class="language-csharp">static void Main(string[] args)
        {
            Console.WriteLine(&quot;Hello Git World!&quot;);
        }
</code></pre>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/5ba1bbb4ef08486c8b44d614eaa59462.png" alt="c8e059f6058183635ecdd882c2df4c3d.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/a8ee3bd871464dbbaef94371a6f9e727.png" alt="e588fe8a85594c950331ee7df4fd6849.png" /></p>
<h3 id="commit-the-change">Commit the Change</h3>
<p><code>git commit -m 'Try use existing GetAddress feature for GetCustomer'</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/ae54e77b885b4dc8804fdd082f2c3737.png" alt="8c1abfe61b1708c31429dc860cb16040.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/9f2490f717ed42aab5075d521419a9eb.png" alt="190cbc8f15ebc9a03600d9489a294c8f.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/c1be3950cb3e47da960ce1da8634c872.png" alt="a852e75d75b3907f161341a813946d27.png" /></p>
<h3 id="make-a-couple-more-commits">Make a Couple More Commits</h3>
<p><code>git commit -m 'Update GetCustomer with new collection</code><br />
<code>git commit -m 'Fix broken tests'</code></p>
<p>[Note shown]</p>
<h3 id="clean-up-the-commits">Clean Up the Commits</h3>
<p><code>git rebase -i master (result is a single commit with message 'Allow git GetCustomer to return addresses')</code></p>
<blockquote>
<p>Note: Visual Studio only gives the option to &quot;squash&quot; the commits. This is what you'll want to do most of the time, anyway.</p>
</blockquote>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/511d12b20ca34c5481c78b3611939ed1.png" alt="d56bf2ea153b26c70f88de059c3bd2b4.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/b32b0cab7def4f79a1d3182e58275331.png" alt="011820fcf438a353cbfd9f2cf638c46c.png" /></p>
<p>Select the commits to squash, right-click, choose &quot;Squash commits...&quot;<br />
<img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/b160e596e1b44a2c99610fa550574124.png" alt="72e0fc55a21c062f8e00eb9f3af21467.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/7f26fb5ea2fc4feb835d26e460d1c7cb.png" alt="42865a089fe639c93271b70295a68f3d.png" /></p>
<blockquote>
<p>Note: Visual Studio's &quot;Squash Commits&quot; dialog is surprisingly terrible. You effectively can't edit the text, because A) there's no way to create a soft return, and B) you can't paste more than the top line of copied text.</p>
<p>Until it's better, I recommend using the command line for squashing.</p>
</blockquote>
<h3 id="checkout-and-synchronize-master">Checkout and Synchronize Master</h3>
<p><code>git checkout master</code><br />
<code>git pull</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/4247d340e64547e18e9c2f029268e8ca.png" alt="9d26612a714f0fa28863d54bbbf77b66.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/0a90d19c67d348adb50c41dad5d8cde1.png" alt="35f579bba4a8184b23c869eba0daf1f5.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/17ecfcd77a034a1e9bbaf058ea439eb2.png" alt="a21d807d67769575d76026ed837b8d39.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/d48f77d71573440cb0b8bc68bbff52c0.png" alt="2d69bff4e05bca1b78988e9a5c2d95ac.png" /></p>
<h3 id="checkout-and-rebase-feature-onto-master">Checkout and Rebase Feature Onto Master</h3>
<p><code>git checkout feature-1</code><br />
<code>git rebase master</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/eefbbc82a8f849e9aec5430520006621.png" alt="e32a0e0f368f590511a459b46d8b9e10.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/03f2a83e4da64e718be250ac7cb30595.png" alt="4dfbf5cbdba3900185bcc5d65e3583e1.png" /></p>
<h3 id="checkout-and-merge-feature-into-master">Checkout and Merge Feature Into Master</h3>
<p><code>git checkout master</code><br />
<code>git merge feature-1 --no-ff</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/4247d340e64547e18e9c2f029268e8ca.png" alt="9d26612a714f0fa28863d54bbbf77b66.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/2d68e0ea94714545bace10749edd9173.png" alt="081e72e7927dc10242f22af4b4e4b72a.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/6b2421e1e0fd414fa8c91f63facbe339.png" alt="3846c6938dca5a4f98eabe249d05c7f5.png" /></p>
<blockquote>
<p>Note: Visual Studio doesn't appear to have a <code>--no-ff</code> option. Because of the value to a good history, I recommend doing the final commit at the command line using an alias.</p>
</blockquote>
<blockquote>
<p>Note: It possible to set Git to always use <code>--no-ff</code> via the <code>merge.ff false</code> option. However, this will only work in your local instance unless a repository-specific config file is used and committed.</p>
</blockquote>
<p>Here's how that commit looks after using <code>--no-ff</code> at the command line. Notice how much clearer it is in both the command window and Visual Studio</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/33f4eacd08d546bf8161ea96a07bf0c6.png" alt="50591bd7eef98c1ca4a6ce8fe50b7de8.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/a13c3fa8a4174de6aae0065741548eed.png" alt="27def2246530c8a31c8a548c1b32f05b.png" /></p>
<h3 id="push-changes-to-the-remote-server">Push Changes to the Remote Server</h3>
<p><code>git push</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/2f17ebf42952430fa19c9151a0ea8594.png" alt="16c89e011e40d24dd6384644f134357c.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/af3613bb2a134f4f85d0fc42b5d5e52a.png" alt="14db281f2c515fd6c663d0249abf073b.png" /></p>
<h3 id="delete-the-branch">Delete the Branch</h3>
<p><code>git branch -d feature-1</code></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/f0ea4f860eaa4cd98c5c814362fa53d9.png" alt="6bd13d905ef6da80cf15c4c379bf22c7.png" /></p>
<h2 id="common-operations">Common Operations</h2>
<h3 id="checkout">Checkout</h3>
<p>Checkout means to set your working folder to a particular point in time. You're always choosing a reference hash of a &quot;root&quot;. However, you can use branch and tag names because they &quot;point&quot; to a particular reference.</p>
<pre><code class="language-git">git checkout master
git checkout feature-1
git checkout origin\master
git checkout head
git checkout head~3
git checkout v2.35.9
git checkout f935ea4
</code></pre>
<h3 id="branch">Branch</h3>
<p>With the above information about how Git works, you should now understand what people mean by &quot;a branch is a pointer to a reference.&quot;</p>
<p>You may not use the branch command to create a branch very often. Typically, you'll create and checkout a branch in a single step using this command:</p>
<p><code>git checkout -b feature-1</code></p>
<p>That single command runs these two commands:</p>
<pre><code class="language-git">git branch master feature-1
git checkout feature-1
</code></pre>
<p>Other branch commands.</p>
<pre><code class="language-git">branch -d feature-1
branch -D featue-1
</code></pre>
<h3 id="add-stage">Add (stage)</h3>
<p>Adds changes to the index, to be committed.</p>
<pre><code class="language-git">git add -A
git add Test.txt
git add Models/Customer.cs
</code></pre>
<h3 id="commit">Commit</h3>
<p>Commits staged changes (in the index) to the repository.</p>
<pre><code class="language-git">commit
commit -m 'Allow GetCustomer to show addresses'
commit -amend (changes history)
</code></pre>
<p>You'll often amend a commit if, for example, you realized you forgot to add a file, or mispelled something in the commit message.</p>
<p>For example, assume this history:</p>
<pre><code class="language-git">1234567 Fix spelling erors
1234568 Fix my wrong spelling fix
1234569 Add marketing copy
123456A Remove temporary files
123456B Add history file
</code></pre>
<p>After committing &quot;Fix spelling erors&quot;, you realize you not only forgot to add the latest spelling file, but also mispelled &quot;errors.&quot; You'd execute something like</p>
<pre><code class="language-git">git add spelling.dat
git commit --amend
</code></pre>
<p>The editor would open, and you could either change the message or--more likely--just close the editor. Here's how the result might look.</p>
<pre><code class="language-git">afgec73 Fix spelling errors
1234568 Fix my wrong spelling fix
1234569 Add marketing copy
123456A Remove temporary files
123456B Add history file
</code></pre>
<p>Here's the important thing to notice: <strong>The &quot;fix spelling errors&quot; commit's ref hash has changed.</strong></p>
<h3 id="merge">Merge</h3>
<p>Merges changes from another branch into the current branch. You must have the destination branch checked out. For example, in order to merge the changes from the <code>feature-1</code> branch into the <code>master</code> branch, you must first be in the <code>master</code> branch.</p>
<pre><code class="language-git">git checkout master
git merge feature-1
</code></pre>
<h3 id="rebase-changes-history">Rebase (changes history)</h3>
<p>Rebase has two main uses. The first is to modify a set of commits, usually combining (&quot;squashing&quot;) them, so that the resulting commits are &quot;the way it should have been&quot;. For example, let's say you have these five commits in a local feature branch.</p>
<pre><code class="language-git">1234567 Fix spelling errors
1234568 Fix my wrong spelling fix
1234569 Add marketing copy
123456A Remove temporary files
123456B Add history file
</code></pre>
<p>Using interactive rebase, you could revise this to two commits:</p>
<pre><code class="language-git">987ABCD Fix spelling errors
987AGF2 Add history file
</code></pre>
<p>Notice that the original file reference hashes were not reused. <em>New</em> commits were created. It's as if these new commits had always been the <em>only</em> commits.</p>
<blockquote>
<p>However, those other five commits still exist in the reflog if needed.</p>
</blockquote>
<p>Here's the command:</p>
<pre><code class="language-git">git rebase -i
</code></pre>
<p>The result is a screen that guides you through the changes.</p>
<p>The second use is making your branch's commits seem like they were just done so that they appear as the latest commits on another branch. For example, you're working on your feature branch and have cleaned up your commits. Now you want to merge your changes into master, so you checkout master and pull.</p>
<p>The problem is, while you were working, someone else committed changes to master. So now your changes are <em>behind</em> that other person's. If you were to merge your changes, then view history, they'd be kind of jumbled in. Instead, you want your changes to appear after the other person's.</p>
<p>To do that, you rebase your changes onto master. Git will temporarily reset your branch to when you originally branched, merge the latest changes from master into your branch (making them identical), then <em>replay</em> your commits on top of this history. Each of your commits is treated as new, so it gets a new reference hash.</p>
<p>The command sequence to do this is:</p>
<pre><code class="language-git">git checkout master
git pull
git checout feature-1
git rebase master
</code></pre>
<blockquote>
<p>There's a chance you'll need to resolve conflicts between your changes and the other persons.</p>
</blockquote>
<h3 id="check-status">Check Status</h3>
<p>Shows which files are modified, new, or deleted. Also shows which files are staged.</p>
<p><code>git status</code></p>
<h3 id="check-history">Check History</h3>
<p>Shows information about commits.</p>
<pre><code class="language-git">git log
git log --graph --oneline
</code></pre>
<h3 id="revert">Revert</h3>
<p>The <code>revert</code> command &quot;unapplies&quot; a set of commits that appear after a commit in history, and creates a new commit at the top. Let's say you have this history.</p>
<pre><code class="language-git">6293daae maybe ok 
fec62970 mistake 2
96ca7600 mistake 1
bac6d253 working fine
</code></pre>
<pre><code class="language-git">// reverts the top three commits
git revert 96ca7600^..6293daae


// reverts the middle two commits
git revert 96ca7600^..fec62970
</code></pre>
<p>Each commit that's reverted gets its own new commit. After each reversion, you need to enter <code>git revert --continue</code> until all reversions are complete.</p>
<h3 id="reset-changes-history">Reset (changes history)</h3>
<p>The <code>reset</code> command undoes a set of commits starting at the latest. It does <em>not</em> create a new commit. It effectively throws away the changes.</p>
<blockquote>
<p>Basically, the HEAD file is updated to point to the given ref hash. In the example below, HEAD would change from 6293daae to bac6d253. The only other question is whether the commit changes are retained in some way.</p>
</blockquote>
<p>Given this history,</p>
<pre><code class="language-git">6293daae maybe ok 
fec62970 mistake 2
96ca7600 mistake 1
bac6d253 working fine
</code></pre>
<p>Here are the common ways to use the command to remove the top three commits.</p>
<p><code>git reset bac6d253</code></p>
<p>The default command executes in --mixed mode. The index is reset, but the working folder is left alone. This means any changes are ready to add and commit.</p>
<p><code>git reset bac6d253 --soft</code></p>
<p>The index is <em>not</em> reset, nor is the working folder. Any changes are already added and ready to commit.</p>
<p><code>git reset bac6d253 --hard</code></p>
<p>Both the index and working folder are reset. All changes are lost.</p>
<h3 id="tag">Tag</h3>
<p>There are two kinds of tags: annotated and lightweight. Annotated tags are meant for release (such as pushing to the remote repository), while lightweight tags are good for local use and cannot be pushed.</p>
<blockquote>
<p>Personally, I only use annotated tags.</p>
</blockquote>
<p>List all tags</p>
<p><code>git tag</code></p>
<p>Create a lightweight tag at the HEAD</p>
<p><code>git tag temp1</code></p>
<p>Create annotated tag at the HEAD, with a message of the same text</p>
<p><code>git tag -a v1.2.4 -m v1.2.4</code></p>
<p>Delete a tag</p>
<p><code>git tag -d v1.2.4</code></p>
<p>Force an existing tag onto a different commit</p>
<p><code>git tag -a -f 63fac95</code></p>
<h2 id="the-rules-for-teams">The Rules For Teams</h2>
<p>Git is powerful, and one of its powers comes with a risk. That is the power to &quot;rewrite history.&quot; What this means in practice is that a user could push changes to a remote repository that conflict with existing log entries others have already pulled. I show an example below, but first here are the rules.</p>
<blockquote>
<ol>
<li>Don't push changes from <code>rebase</code>,<code>revert</code>, <code>commit</code>, or <code>tag</code> if you've previously pushed the affected commits.</li>
<li>Rebase features onto master, then merge features into master.</li>
</ol>
</blockquote>
<p>First, here's an example of an easy mistake to make. The user is on the master branch, commits locally, pushes to the remote, then amends the commit and pushes again.</p>
<pre><code class="language-git">git commit -m &quot;All done!&quot;
git log --graph --oneline
  afea725 All done!
  7c934ag Pass all tests

git push
--Forgot to add some files!
git add --all
git commit --amend -m &quot;All done!&quot; &lt;= gets a warning
git pull &lt;= thinks this is the right thing to do, but it isn't
git commit --amend -m &quot;All done!&quot;
git log --graph --oneline
  024ag7d All done!
  7c934ag Pass all tests

git push
</code></pre>
<p>Notice that the &quot;All done!&quot; commit's reference hash is different after being amended. The problem above would be compounded if the user didn't amend the commit for awhile.</p>
<p>What if developer B pulls from the server after user A's first push? B will have a history that includes ref <code>afea725</code>. In the meantime, the A amends and pushes. Now B pulls. Does her ref <code>afea725</code> magically disappear? No. She ends up with something like this.</p>
<pre><code class="language-git">  024ag7d All done!
  afea725 All done!
  7c934ag Pass all tests
</code></pre>
<p>Or, it could be worse. User A could force the amended commit. This will lead B to getting an even worse history.</p>
<p>The problems arising from using the other commands that change history are similar.</p>
<p>Second, if a user doesn't rebase features onto master, then this leads to an unclear history where the branch the user just finished and is pushing to the remote server looks as if it was done a week ago (or whatever). That's because, according to the history, it has. But that's not what the user intended.</p>
<h2 id="solving-common-problems">Solving Common Problems</h2>
<h3 id="pull-merge-and-rebase-conflicts">Pull, Merge and Rebase Conflicts</h3>
<p>The first time I encountered a merge conflict, I was utterly <a href="https://www.dictionary.com/browse/flummox">flummoxed</a>. I didn't understand what to do, and I was definitely confused by whether my local files were actually &quot;local&quot; or &quot;remote&quot;.</p>
<p>Here's a message from trying to push changes that conflict with local changes.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/dab337fda0444befb3c250f0da10859d.png" alt="69d8820294e311fe814870be03de14d8.png" /></p>
<pre><code class="language-txt">Error: hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.

Error encountered while pushing to the remote repository: rejected Updates were rejected because the remote contains work that you do not have locally. This is usually caused by another repository pushing to the same ref. You may want to first integrate the remote changes before pushing again.
</code></pre>
<p>So, we do what we're told and try to pull.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/61e153c157ba4c1f9b3b51088b2ba0a2.png" alt="d7d0d0f7dddc3c2971ccb392e65b6910.png" /></p>
<p>We're now in the midst of resolving a merge conflict. At this point we have two options: resolve the conflict, or abort. If we abort, it's as if the pull never happened.</p>
<p>To visually merge the files, click &quot;Conflicts: 1&quot;, then select a file that has a conflict.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/bd246b9b8fdf4a94a435c0e7496d965a.png" alt="a7b756d8efc2495e6ea4f652b111ee50.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/342e36015852460fb51eb06d640f1e5c.png" alt="47b2758f25fe31fa6f8fe2659855627c.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/2d8b7f0aeed247b79d3a1769b0cbf4d9.png" alt="a76231cdf708eb9070d7fb8dbef685d7.png" /></p>
<p>There are several options for comparing and merging files. The one we'll look at is the three-way merge. Click Merge. This will run whatever merge tool you've configured Git to use.</p>
<blockquote>
<p>I've used KDiff3 for years because it's very clear about where the conflict is. However, since this article is about using Visual Studio, that's what I'll demonstrate. It looks like Microsoft has improved Visual Studio's diff/merge quite a bit, which is good!</p>
</blockquote>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/3e369ebec9594156b5b8bef6a401dfa0.png" alt="7ac96fb74ef0e5e5cb024288e58fb1bd.png" /></p>
<p>Choose which version you want to keep, the left or right <em>or both</em>. You can also type directly into the base. We'll take the left (our) change, Accept Merge, and close the editor.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/190f0d2bf8904fa6bb3fc9326b3fcc1f.png" alt="7fa4131d5f8f086fd3a2177b401ac653.png" /></p>
<p>Finally, commit the merge.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/81d0453964fa4dda899377a83cf64716.png" alt="071afeda9a3ac3898e7b02244d7daabb.png" /></p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/aa4d8e8e4e4e46fc9b897fbb9c8c9cfc.png" alt="fec0a2bf91ee0811825e6fabbbf8e6d7.png" /></p>
<p>And, you're ready to push.</p>
<p><img src="https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019/images/6dbad3fbd9794386b4012289003a7c30.png" alt="382ecb4efcec7315a3c9dbfd8e394526.png" /></p>
<h3 id="remote-vs-local-plus-base-and-backup">Remote vs Local, plus Base and Backup</h3>
<p>The &quot;base&quot; file is easy to understand; it's the version that's common to both of the changed versions prior to when they diverged.</p>
<p>If you're dealing with a merge conflict from another developer, that's easy, too. The Remote will be their file, and Local will be yours.</p>
<p>But what if there's a conflict locally between two branches? For example, what if you</p>
<ol>
<li>Branch from master into feature, commit a change there</li>
<li>Go back to master and commit a change there</li>
<li>Try to merge feature into master OR rebase feature onto master</li>
</ol>
<p>Visual Studio makes this pretty easy by using clearer terminology.</p>
<p>In the case of <strong>Merge</strong>, the <code>master</code> branch file is the Target, and the <code>feature</code> file is the Source. If you used the command <code>git mergetool</code>, <code>master</code> would be LOCAL and <code>feature</code> would be REMOTE.</p>
<p>In the case of <strong>Rebase</strong>, it's the same: 'master<code>is Target/LOCAL, and</code>feature` is Source/REMOTE.</p>
<blockquote>
<p>Merge vs Rebase terminology is what confuses people, so let's repeat it:</p>
<ul>
<li>If I'm on <code>master</code> branch and <strong>merge</strong>, <code>master</code> is Target/LOCAL</li>
<li>If I'm on <code>feature</code> branch and <strong>rebase</strong>, <code>master</code> is <em>still</em> Target/LOCAL</li>
</ul>
<p>The target is whichever branch you're merging <em>into</em>, or rebasing <em>onto</em>.</p>
</blockquote>
<p>If Git is configured to keep backups of the file before merging begins (mergetool.keepBackup = true), after the merge is committed there will be files with a .backup extension. These need to be cleaned up.</p>
<p><code>git clean -f</code></p>
<blockquote>
<p>I suggest setting the config file's mergetool.keepBackup to false. Several times I've accidentally added the backup files to a commit.</p>
</blockquote>
<h2 id="last-word">Last Word</h2>
<p>Git's powerful, at times confusing, always complex, and frequently complicated. Hopefully this article has given you a solid foundation in Git's basics.</p>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example'>TFS/Azure DevOps: Building and Releasing Git Branches, A Simple Example</a></h2>
                <p class='post-info'><span class='posted-on'>2019-12-12 18:34</span></p>
                <div class='post-content'><h2 id="contents">Contents</h2>
<ul>
<li><a href="#the-situation">The Situation</a></li>
<li><a href="#implementation">Implementation</a>
<ul>
<li><a href="#git">Git</a></li>
<li><a href="#tfs-build">TFS Build</a></li>
<li><a href="#tfs-release">TFS Release</a></li>
<li><a href="#code-freeze">Code Freeze</a></li>
</ul>
</li>
</ul>
<h2 id="the-situation">The Situation</h2>
<p>The development teams run on a two-week release cycle. The final three days of the cycle they are in code freeze. Code is deployed to two environments: Test and Production.</p>
<p>During code freeze:</p>
<ol>
<li>At the start, all repos are built and released to Test. This is the production code.</li>
<li>Newly developed code must be committed to the repository and built, but it must <em>not</em> be released to Test.</li>
<li>At the end, all production code is deployed to Production, and newly developed code is deployed to Test.</li>
</ol>
<p>Finally, the teams want to have just one build and one deployement definition for each solution.</p>
<h2 id="implementation">Implementation</h2>
<h3 id="git">Git</h3>
<p>Git is configured with two long-lived branches: master and development.</p>
<ul>
<li>Developers always work against the development branch, pushing their local, short-lived feature branches.</li>
<li>At code freeze, development is merged into master.</li>
<li>If there are emergency production deployments, ideally they're made first to deployment and then to master. If they're made directly to master then the changes need to be merged into development (or, ideally, development is rebased onto master)</li>
</ul>
<h3 id="tfs-build">TFS Build</h3>
<p>The build definition is configured with Triggers, specifically Branch filters for both master and development branches. Continuous Integration is enabled.</p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_08-55-31.png" alt="" /></p>
<p>This allows commits to both development and master branches to trigger the build.</p>
<h3 id="tfs-release">TFS Release</h3>
<p>The deployment definition is configured in the following way:</p>
<p><strong>Pipeline</strong></p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-18-00.png" alt="" /></p>
<p><strong>Artifacts</strong><br />
There's a single artifact with a Source type of Build. The Source is the build definition.</p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-18-03.png" alt="" /></p>
<p>Continuous deployment is enabled, and both branches are allowed.</p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-18-55.png" alt="" /></p>
<p><strong>Environments</strong><br />
Both environments use the After release trigger.</p>
<p><em>Test Environment</em><br />
The artifact filters include both branches</p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-21-51.png" alt="" /></p>
<p>In the sample, a Copy Files task is used to move the binaries to their release folder. While not required for the solution, it demonstrates using variables to create release subfolders. In this case, folders for branch and build number are created. Also note the Overwrite and Flatten Folders checkboxes.</p>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-43-07.png" alt="" /></p>
<p><em>Production Environment</em><br />
The differences between this and the Test environment are</p>
<ul>
<li>Only the master branch is included in the artifact filters</li>
<li>Approvers are added</li>
<li>Only the latest build is deployed upon approval</li>
</ul>
<p><img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-45-58.png" alt="" /><br />
<img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-46-23.png" alt="" /><br />
<img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_09-48-16.png" alt="" /></p>
<h3 id="code-freeze">Code Freeze</h3>
<p>What has to happen during the code freeze?</p>
<blockquote>
<p>Development branch commits don't deploy. That's it.</p>
</blockquote>
<p>There are at least two ways to prevent development branch deployments during code freeze.</p>
<ol>
<li><p>Add a build tag using a custom task that checks for the presense of a particular file. A custom build task would be used for this.</p>
<blockquote>
<p>Sorry, I don't have an example of this. But I've seen it done in a real-world environment.</p>
</blockquote>
</li>
<li><p>Use a Gated release. For example, check a web service endpoint. If it fails to return, you're in code freeze and the gate fails.</p>
</li>
</ol>
<p><strong>Recommendation: Stick with build tags</strong></p>
<p>The disadvantage to tagging builds is that the custom task needs to be added to each build definition. The advantage is that the tag is part of the artifact trigger.</p>
<p>The disadvantage to gates is that there's a required timeout period of at-minimum 6 minutes before the gate fails. The advantage is that build definitions don't need to create tags.</p>
<p>REST API Gate Sample<br />
<img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_12-22-08.png" alt="" /><br />
<img src="https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example/ScreenCap_2019-12-11_12-22-35.png" alt="" /></p>
<p>Web API Endpoint Sample</p>
<pre><code class="language-csharp">   public class InCodeFreezeController : ApiController
    {
        public IHttpActionResult Get()
        {
            //IsInCodeFreeze checks some condition. Could be the same file-existence
            //check that's used for tagging today.
            //Not ideal, but simpler for TFS Gate to just fail the request
            if (IsInCodeFreeze)
            {
                return BadRequest();
            }
            return Ok();
        }
    }
</code></pre>
</div>
              </div>
               <div class='paging'>&nbsp;&nbsp;&nbsp;<a href='index1.html'>Older</a></div>
      </section>
      <footer><p>All original content copyright (c) Charles L Flatt</p>
</footer>
    </div>
  </div>
  
  <script>
    function toggleNav() {
      var x = document.getElementById("nav");
      if (x.className === "nav") {
        x.className += " responsive";
      } else {
        x.className = "nav";
      }
    }</script>

  

</body>

</html>