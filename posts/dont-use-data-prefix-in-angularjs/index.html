<!DOCTYPE html>
<html>
  <head>
    <title>Don't use "data" prefix in AngularJS</title>
    <link rel="stylesheet" type="text/css" href="http://bladewolf55.gitlab.io/smblog/css/default.css">
  </head>
  <body>
    <header>Questor</header>
    <nav>
      <ul>
        <li><a href="http://bladewolf55.gitlab.io/smblog/">Home</a></li>
        <li class="dropdown">
          <a href="http://bladewolf55.gitlab.io/smblog/about">About</a>
          <div class="dropdown-content">
            <a href="http://bladewolf55.gitlab.io/smblog/about/contact">Contact Us</a>
            <a href="http://bladewolf55.gitlab.io/smblog/about-team">Our Team</a>
          </div>
        </li>
      </ul>
    </nav>
   	<aside id="sidebar">
	   <div id="recent">
       <p><strong>History</strong></p>
       <ol class='tree'><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='post'><a class='post' href='http://bladewolf55.gitlab.io/smblog/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li></ol></li></ol></li></ol>
      </div>
	    <div id="tags"></div>
	  </aside>
    <section id="content"><div class='post-title'>
                <a href='http://bladewolf55.gitlab.io/smblog/posts/dont-use-data-prefix-in-angularjs'><h1>Don't use "data" prefix in AngularJS</h1></a>
                <p class='post-info'>2017-08-10 16:41</p>
            </div><p>I lost a couple of hours over this. When creating a directive or attribute name in AngularJS that will be &quot;kebab-cased,&quot; do <em>not</em> prefix it with <code>data</code>, such <code>dataFn</code> or <code>dataFromApi</code>. It becomes <code>data-fn</code> or <code>data-from-api</code> and won't work because <code>data-</code> is reserved by javascript for values.</p>
<p>Note: I'm taking a hard line, here. Such a name <em>might</em> work in some cases--but definitely doesn't when trying to invoke an expression passed to an isolate-scope directive.</p>
<p>This will work.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body</span><span class="ot"> ng-app=</span><span class="st">&quot;app&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span><span class="ot"> ng-controller=</span><span class="st">&quot;MyController as vm&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;button</span><span class="ot"> ng-click=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;</span>From Body<span class="kw">&lt;/button&gt;</span>
    <span class="kw">&lt;my-directive</span><span class="ot"> fn=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;&lt;/my-directive&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span>

<span class="kw">&lt;script&gt;</span>
  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;app&#39;</span><span class="op">,</span>[<span class="st">&#39;MyModule&#39;</span>])<span class="op">;</span>

  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;MyModule&#39;</span><span class="op">,</span> [])
    .<span class="at">controller</span>(<span class="st">&#39;MyController&#39;</span><span class="op">,</span> MyController)
    .<span class="at">directive</span>(<span class="st">&#39;myDirective&#39;</span><span class="op">,</span> myDirective)<span class="op">;</span>

  <span class="kw">function</span> <span class="at">MyController</span>()<span class="op">{</span>
    <span class="kw">var</span> vm <span class="op">=</span> <span class="kw">this</span><span class="op">;</span>
    <span class="va">vm</span>.<span class="at">alert</span> <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span><span class="at">alert</span>(<span class="st">&#39;alert&#39;</span>)<span class="op">;}</span>
  <span class="op">}</span>

  <span class="kw">function</span> <span class="at">myDirective</span>() <span class="op">{</span>
    <span class="kw">var</span> directive <span class="op">=</span> <span class="op">{</span>      
      <span class="dt">scope</span><span class="op">:</span> <span class="op">{</span>
        <span class="dt">fn</span><span class="op">:</span> <span class="st">&#39;&amp;&#39;</span>
      <span class="op">},</span>
      <span class="dt">template</span><span class="op">:</span> <span class="st">&quot;&lt;button ng-click=&#39;fn()&#39;&gt;From Directive&lt;/button&gt;&quot;</span>
    <span class="op">}</span>
    <span class="cf">return</span> directive<span class="op">;</span>
  <span class="op">}</span>
<span class="kw">&lt;/script&gt;</span></code></pre></div>
<p>This won't work, because <code>data-</code> is reserved by javascript.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body</span><span class="ot"> ng-app=</span><span class="st">&quot;app&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span><span class="ot"> ng-controller=</span><span class="st">&quot;MyController as vm&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;button</span><span class="ot"> ng-click=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;</span>From Body<span class="kw">&lt;/button&gt;</span>
    <span class="co">&lt;!-- data-fn WILL NOT WORK --&gt;</span>
    <span class="kw">&lt;my-directive</span><span class="ot"> data-fn=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;&lt;/my-directive&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span>

<span class="kw">&lt;script&gt;</span>
  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;app&#39;</span><span class="op">,</span>[<span class="st">&#39;MyModule&#39;</span>])<span class="op">;</span>

  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;MyModule&#39;</span><span class="op">,</span> [])
    .<span class="at">controller</span>(<span class="st">&#39;MyController&#39;</span><span class="op">,</span> MyController)
    .<span class="at">directive</span>(<span class="st">&#39;myDirective&#39;</span><span class="op">,</span> myDirective)<span class="op">;</span>

  <span class="kw">function</span> <span class="at">MyController</span>()<span class="op">{</span>
    <span class="kw">var</span> vm <span class="op">=</span> <span class="kw">this</span><span class="op">;</span>
    <span class="va">vm</span>.<span class="at">alert</span> <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span><span class="at">alert</span>(<span class="st">&#39;alert&#39;</span>)<span class="op">;}</span>
  <span class="op">}</span>

  <span class="kw">function</span> <span class="at">myDirective</span>() <span class="op">{</span>
    <span class="kw">var</span> directive <span class="op">=</span> <span class="op">{</span>      
      <span class="dt">scope</span><span class="op">:</span> <span class="op">{</span>
        <span class="dt">dataFn</span><span class="op">:</span> <span class="st">&#39;&amp;&#39;</span>
      <span class="op">},</span>
      <span class="dt">template</span><span class="op">:</span> <span class="st">&quot;&lt;button ng-click=&#39;dataFn()&#39;&gt;From Directive&lt;/button&gt;&quot;</span>
    <span class="op">}</span>
    <span class="cf">return</span> directive<span class="op">;</span>
  <span class="op">}</span>
<span class="kw">&lt;/script&gt;</span></code></pre></div>
<p>This works, using the non-reserved <code>my-</code> prefix.</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span>
<span class="kw">&lt;html&gt;</span>
<span class="kw">&lt;head&gt;</span>
  <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.6.5/angular.min.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span>
<span class="kw">&lt;/head&gt;</span>
<span class="kw">&lt;body</span><span class="ot"> ng-app=</span><span class="st">&quot;app&quot;</span><span class="kw">&gt;</span>
  <span class="kw">&lt;div</span><span class="ot"> ng-controller=</span><span class="st">&quot;MyController as vm&quot;</span><span class="kw">&gt;</span>
    <span class="kw">&lt;button</span><span class="ot"> ng-click=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;</span>From Body<span class="kw">&lt;/button&gt;</span>
    <span class="co">&lt;!-- my-fn WORKS --&gt;</span>
    <span class="kw">&lt;my-directive</span><span class="ot"> my-fn=</span><span class="st">&quot;vm.alert()&quot;</span><span class="kw">&gt;&lt;/my-directive&gt;</span>
  <span class="kw">&lt;/div&gt;</span>
<span class="kw">&lt;/body&gt;</span>
<span class="kw">&lt;/html&gt;</span>

<span class="kw">&lt;script&gt;</span>
  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;app&#39;</span><span class="op">,</span>[<span class="st">&#39;MyModule&#39;</span>])<span class="op">;</span>

  <span class="va">angular</span>.<span class="at">module</span>(<span class="st">&#39;MyModule&#39;</span><span class="op">,</span> [])
    .<span class="at">controller</span>(<span class="st">&#39;MyController&#39;</span><span class="op">,</span> MyController)
    .<span class="at">directive</span>(<span class="st">&#39;myDirective&#39;</span><span class="op">,</span> myDirective)<span class="op">;</span>

  <span class="kw">function</span> <span class="at">MyController</span>()<span class="op">{</span>
    <span class="kw">var</span> vm <span class="op">=</span> <span class="kw">this</span><span class="op">;</span>
    <span class="va">vm</span>.<span class="at">alert</span> <span class="op">=</span> <span class="kw">function</span>()<span class="op">{</span><span class="at">alert</span>(<span class="st">&#39;alert&#39;</span>)<span class="op">;}</span>
  <span class="op">}</span>

  <span class="kw">function</span> <span class="at">myDirective</span>() <span class="op">{</span>
    <span class="kw">var</span> directive <span class="op">=</span> <span class="op">{</span>      
      <span class="dt">scope</span><span class="op">:</span> <span class="op">{</span>
        <span class="dt">myFn</span><span class="op">:</span> <span class="st">&#39;&amp;&#39;</span>
      <span class="op">},</span>
      <span class="dt">template</span><span class="op">:</span> <span class="st">&quot;&lt;button ng-click=&#39;myFn()&#39;&gt;From Directive&lt;/button&gt;&quot;</span>
    <span class="op">}</span>
    <span class="cf">return</span> directive<span class="op">;</span>
  <span class="op">}</span>
<span class="kw">&lt;/script&gt;</span></code></pre></div>
</section>
    
    <footer><p>Copyright &copy; Charles L Flatt</p></footer>
  </body>
</html>
