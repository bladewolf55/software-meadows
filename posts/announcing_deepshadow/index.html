<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <link rel='stylesheet' href='http://www.softwaremeadows.com/css/default.css' />
<link rel='stylesheet' href='http://www.softwaremeadows.com/css/tango.css' />

  <title>Announcing Deepshadow | Software Meadows</title>
</head>

<body>
  <nav>
    <div id="menu">
      <ol>
<li><a href="http://www.softwaremeadows.com/">Home</a></li>
<li><a href="http://www.softwaremeadows.com/about">About</a></li>
</ol>

    </div>
    <div id="recent">
      <h2>Recent</h2>
      <a href='http://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a><a href='http://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a><a href='http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a><a href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a><a href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a>
    </div>
    <div id="history">
      <h2>History</h2>
      <ol class='tree'><li class='history-year'><label for='2018'>2018</label><input type='checkbox'  id='2018' /><ol><li class='history-month'><label for='2018-3'>March</label><input type='checkbox'  id='2018-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></li></ol></li><li class='history-month'><label for='2018-1'>January</label><input type='checkbox'  id='2018-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/new-blog-engine'>New Blog Engine</a></li></ol></li></ol></li><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-agent'>TFS Continuous Integration - Agent Installation and Visual Studio Licensing</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-clickonce'>TFS Continuous Integration - ClickOnce Apps</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-and-private'>TFS Continuous Integration and Private NuGet Package Sources</a></li></ol></li><li class='history-month'><label for='2017-2'>February</label><input type='checkbox'  id='2017-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_22'>TFS Continuous Integration Walk Through Part 5b - Multiple Solutions: Simple Project References</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_20'>TFS Continuous Integration Walk Through Part 5a - Multiple Solutions: Overview</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_24'>TFS Continuous Integration Walk Through Part 4b - Problems With Traits</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_6'>TFS Continuous Integration Walk Through Part 4a - Filtering Tests</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_63'>TFS Continuous Integration Walk Through Part 3 - Notifications</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_5'>TFS Continuous Integration Walk Through Part 2 - Create an Automated Build</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 1 - Installing TFS and Checking In a Test Project</a></li></ol></li><li class='history-month'><label for='2017-1'>January</label><input type='checkbox'  id='2017-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/what-else-programmers-do-text'>What Else Programmers Do: A Text Manipulation Example</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/what-does-this-code-do-extended'>What does this code do? Extended explanation</a></li></ol></li></ol></li><li class='history-year'><label for='2016'>2016</label><input type='checkbox'  id='2016' /><ol><li class='history-month'><label for='2016-12'>December</label><input type='checkbox'  id='2016-12' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/nexus-5-gps-lock-problem-and-two'>Nexus 5 GPS Lock Problem and Three--or More!--Solutions</a></li></ol></li><li class='history-month'><label for='2016-11'>November</label><input type='checkbox'  id='2016-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-bypass-new-microsoft-office'>How to Bypass the New Microsoft Office Startup and Save Screens</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/google-tasks-vs-reminders-in-desktop'>Google Tasks vs Reminders in Desktop and Phone</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-claims-based-identity-part-1_6'>Catching Up on Coding - Claims-Based Identity Part 1</a></li></ol></li><li class='history-month'><label for='2016-10'>October</label><input type='checkbox'  id='2016-10' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/creating-forms-authentication'>Creating Forms Authentication Membership Tables in LocalDB–Right and Wrong Ways</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-10-complaint-1-auto-update'>Windows 10 Complaint #1: Auto Update State Loss</a></li></ol></li><li class='history-month'><label for='2016-9'>September</label><input type='checkbox'  id='2016-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/disable-windows-10-photo-automatic'>Disable Windows 10 Photo Automatic Albums</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-laymans-explanation-of-mocking-and'>A Layman’s Explanation of Mocking and Dependency Injection</a></li></ol></li><li class='history-month'><label for='2016-8'>August</label><input type='checkbox'  id='2016-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></li></ol></li><li class='history-month'><label for='2016-7'>July</label><input type='checkbox'  id='2016-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/writing-to-current-users-registry-when'>Writing to the Current User(s) Registry When Running as System</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-syllabus'>Catching Up on Coding - The Syllabus</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/quickly-enable-mercurial-keyring-for'>Quickly Enable Mercurial Keyring for BitBucket</a></li></ol></li><li class='history-month'><label for='2016-6'>June</label><input type='checkbox'  id='2016-6' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/create-easily-debuggable-windows-service'>Create an Easily Debuggable Windows Service</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/underrated-work-skills'>(Underrated) Work Skills</a></li></ol></li><li class='history-month'><label for='2016-5'>May</label><input type='checkbox'  id='2016-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/vbnet-windows-project-to-c-conversion'>VB.Net Windows Project to C# Conversion Tools Quick Review</a></li></ol></li><li class='history-month'><label for='2016-2'>February</label><input type='checkbox'  id='2016-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/scroll-bars-in-blogger-tags'>Scroll bars in Blogger &lt;pre&gt; Tags</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/google-keep-changes-taking-to-forums'>Google Keep Changes: Taking to the Forums</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/backward-step-for-google-keep'>Backward Step for Google Keep</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/recover-virtualbox-snapshots'>Recover VirtualBox Snapshots</a></li></ol></li><li class='history-month'><label for='2016-1'>January</label><input type='checkbox'  id='2016-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/auto-updating-new-windows-7-installation'>Auto Updating a New Windows 7 Installation</a></li></ol></li></ol></li><li class='history-year'><label for='2015'>2015</label><input type='checkbox'  id='2015' /><ol><li class='history-month'><label for='2015-8'>August</label><input type='checkbox'  id='2015-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/shoretel-brilliantly-simple'>ShoreTel - Brilliantly Simple?</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/the-google-photos-management-problems'>The Google Photos Management Problem(s)</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/creating-long-lasting-clickonce'>Creating a Long-Lasting ClickOnce Certificate</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/more-encrypted-config-filesclickonce'>More Encrypted Config Files–ClickOnce Complications</a></li></ol></li><li class='history-month'><label for='2015-7'>July</label><input type='checkbox'  id='2015-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/encrypting-appconfig'>Encrypting app.config</a></li></ol></li><li class='history-month'><label for='2015-3'>March</label><input type='checkbox'  id='2015-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/better-google-sites-designthe-notched'>Better Google Sites Design–The Notched Page</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/removing-unremovable-bluetooth-device'>Removing Unremovable Bluetooth Device: FAIL!</a></li></ol></li></ol></li><li class='history-year'><label for='2014'>2014</label><input type='checkbox'  id='2014' /><ol><li class='history-month'><label for='2014-11'>November</label><input type='checkbox'  id='2014-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-remove-savernet-and-similar'>How to remove Savernet (and similar) Chrome extension</a></li></ol></li><li class='history-month'><label for='2014-9'>September</label><input type='checkbox'  id='2014-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/prevent-word-from-restoring-minimized'>Prevent Word from Restoring Minimized Documents</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/clever-phish'>Clever Phish</a></li></ol></li><li class='history-month'><label for='2014-8'>August</label><input type='checkbox'  id='2014-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/enable-synaptics-touchpad-2-finger-tap'>Enable Synaptics touchpad 2-finger tap context menu</a></li></ol></li><li class='history-month'><label for='2014-5'>May</label><input type='checkbox'  id='2014-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/installing-fcm-flow-cytrometry-library'>Installing fcm flow cytrometry library on Windows 8.1</a></li></ol></li><li class='history-month'><label for='2014-4'>April</label><input type='checkbox'  id='2014-4' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-update-1-driver-problem-dtmb'>Windows 8.1 Update 1 Driver Problem DTMB BDA TV USB</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-window-key-s-search-from'>Windows 8.1: Window Key + S = Search from Desktop</a></li></ol></li><li class='history-month'><label for='2014-3'>March</label><input type='checkbox'  id='2014-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/whs-2011-windows-update-one-or-more'>WHS 2011 Windows Update “One or more services are no running” alert</a></li></ol></li><li class='history-month'><label for='2014-2'>February</label><input type='checkbox'  id='2014-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem-continued'>Lenovo U530 Touch WiFi Problem Continued</a></li></ol></li><li class='history-month'><label for='2014-1'>January</label><input type='checkbox'  id='2014-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem'>Lenovo U530 Touch WiFi Problem</a></li></ol></li></ol></li><li class='history-year'><label for='2013'>2013</label><input type='checkbox'  id='2013' /><ol><li class='history-month'><label for='2013-12'>December</label><input type='checkbox'  id='2013-12' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/whs-connector-restart-error-in-windows'>WHS Connector Restart Error in Windows 8.0/8.1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-remove-apps-from-google-play-my'>How to Remove Apps from Google Play My Apps Site</a></li></ol></li><li class='history-month'><label for='2013-11'>November</label><input type='checkbox'  id='2013-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-hidden-opt-ins-opt-outs'>Windows 8.1 Hidden Opt Ins/ Opt Outs</a></li></ol></li><li class='history-month'><label for='2013-9'>September</label><input type='checkbox'  id='2013-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-epilogue'>Edward Farley and the Fantastic Library Epilogue</a></li></ol></li><li class='history-month'><label for='2013-7'>July</label><input type='checkbox'  id='2013-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-2-end'>A Week (or More!) of JoliCloud - Day 2: THE END</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-1'>A Week (or More!) of JoliCloud - Day 1</a></li></ol></li><li class='history-month'><label for='2013-5'>May</label><input type='checkbox'  id='2013-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-12'>Edward Farley and the Fantastic Library Part 12</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-1019'>Edward Farley and the Fantastic Library Part 11</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-10'>Edward Farley and the Fantastic Library Part 10</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-9'>Edward Farley and the Fantastic Library Part 9</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-8'>Edward Farley and the Fantastic Library Part 8</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-7'>Edward Farley and the Fantastic Library Part 7</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-6'>Edward Farley and the Fantastic Library Part 6</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-5'>Edward Farley and the Fantastic Library Part 5</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-4'>Edward Farley and the Fantastic Library Part 4</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-3'>Edward Farley and the Fantastic Library Part 3</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-2'>Edward Farley and the Fantastic Library Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-1'>Edward Farley and the Fantastic Library Part 1</a></li></ol></li><li class='history-month'><label for='2013-4'>April</label><input type='checkbox'  id='2013-4' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/clean-up-orphaned-sql-users'>Clean Up Orphaned SQL Users</a></li></ol></li><li class='history-month'><label for='2013-3'>March</label><input type='checkbox'  id='2013-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/t-sql-one-to-one-cant-be-done'>T-SQL One to One Can't Be Done</a></li></ol></li><li class='history-month'><label for='2013-1'>January</label><input type='checkbox'  id='2013-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/test-post-with-code'>Migrating Google Drive</a></li></ol></li></ol></li></ol>
    </div>
  </nav>
  <header>
    <div id="site-image">
      <img src="http://www.softwaremeadows.com/images/header.png" alt="" />
    </div>
    <h1 id="site-name"></h1>
    <div id="site-subtitle">A pleasant walk through computing</div>
  </header>
  <section id="content">
    
              <div class='post'>
                <h2 class='post-title'><a href='http://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></h2>
                <p class='post-info'><span class='posted-on'>2018-03-23 18:26</span></p>
                <div class='post-content'><h2 id="-an-assembly-to-help-generate-unit-test-data-from-entity-framework"><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/logo-128x128.png"> an assembly to help generate unit test data from Entity Framework</h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#the-problem">The Problem</a></li>
<li><a href="#enter-deepshadow">Enter DeepShadow</a></li>
<li><a href="#masking-data">Masking Data</a></li>
<li><a href="#complete-example">Complete Example</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>DeepShadow helps solve a specific yet common use case: the developer needs unit test data from complex models, and wishes she could use actual data with some modifications.</p>
<p>What if she could do this?</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb1-1" data-line-number="1">db.<span class="fu">Customers</span>.<span class="fu">Take</span>(<span class="dv">2</span>).<span class="fu">GenerateEntitiesFromList</span>(toConsole: <span class="kw">true</span>);</a></code></pre></div>
<p>or this?</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb2-1" data-line-number="1">File.<span class="fu">WriteAllText</span>(<span class="st">"MockData.txt"</span>, db.<span class="fu">Customers</span>.<span class="fu">Take</span>(<span class="dv">2</span>).<span class="fu">GenerateEntitiesFromList</span>());</a></code></pre></div>
<p>And get something like this?</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb3-1" data-line-number="1">List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt; list = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt;();</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">DeepShadowDbContext.<span class="fu">Customer</span> a1 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">a1.<span class="fu">CustomerId</span> = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">a1.<span class="fu">Name</span> = @<span class="st">"Nicolo Paganini"</span>;</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">a1.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">a1.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">list.<span class="fu">Add</span>(a1);</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">DeepShadowDbContext.<span class="fu">Customer</span> a2 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">a2.<span class="fu">CustomerId</span> = <span class="dv">2</span>;</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">a2.<span class="fu">Name</span> = @<span class="st">"Hilary Hahn"</span>;</a>
<a class="sourceLine" id="cb3-15" data-line-number="15">a2.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb3-16" data-line-number="16">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb3-17" data-line-number="17">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb3-18" data-line-number="18">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb3-19" data-line-number="19">a2.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb3-20" data-line-number="20">list.<span class="fu">Add</span>(a2);</a>
<a class="sourceLine" id="cb3-21" data-line-number="21"></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="kw">return</span> list;</a></code></pre></div>
<h2 id="the-problem">The Problem</h2>
<p>Here are relatively simple parent-child domain classes. They map to SQL tables, and the application is using Entity Framework.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">public</span> <span class="kw">class</span> Customer</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">public</span> <span class="dt">int</span> CustomerId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw">public</span> <span class="dt">string</span> Name { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">public</span> List&lt;<span class="dt">string</span>&gt; Codes {<span class="kw">get</span>;<span class="kw">set</span>;}</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">//Nav</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="kw">public</span> List&lt;Order&gt; Orders { <span class="kw">get</span>; <span class="kw">set</span>; } = <span class="kw">new</span> List&lt;Order&gt;();</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb4-9" data-line-number="9"></a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="kw">public</span> <span class="kw">class</span> Order</a>
<a class="sourceLine" id="cb4-11" data-line-number="11">{</a>
<a class="sourceLine" id="cb4-12" data-line-number="12"><span class="kw">public</span> <span class="dt">int</span> OrderId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="kw">public</span> <span class="dt">int</span> CustomerId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-14" data-line-number="14"><span class="kw">public</span> DateTime OrderedOn { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-15" data-line-number="15"><span class="kw">public</span> <span class="dt">decimal</span>? Discount { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-16" data-line-number="16"><span class="co">//Nav</span></a>
<a class="sourceLine" id="cb4-17" data-line-number="17"><span class="kw">public</span> Customer Customer { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb4-18" data-line-number="18">}</a></code></pre></div>
<p>You might need to test a Web API that itself calls a service. The model that comes back from the service includes related classes (i.e. Navigation Properties).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">public</span> <span class="kw">class</span> CustomersController : ApiController</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">ICustomerService _customerService = <span class="kw">null</span>;</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw">public</span> <span class="fu">CustomersController</span>(ICustomerService customerSerivce)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">_customerService = customerService</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">}</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">//GET api/customers</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="kw">public</span> List&lt;CustomerViewModel&gt; <span class="fu">Get</span>()</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">{</a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">//Returns all orders for each customer</span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14">List&lt;Customer&gt; customers = _customerService.<span class="fu">GetAllCustomers</span>();</a>
<a class="sourceLine" id="cb5-15" data-line-number="15"></a>
<a class="sourceLine" id="cb5-16" data-line-number="16">List&lt;CustomerViewModel&gt; model = <span class="kw">new</span> List&lt;CustomerViewModel&gt;();</a>
<a class="sourceLine" id="cb5-17" data-line-number="17"></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="kw">foreach</span> (var customer <span class="kw">in</span> customers)</a>
<a class="sourceLine" id="cb5-19" data-line-number="19">{</a>
<a class="sourceLine" id="cb5-20" data-line-number="20">CustomerViewModel custViewModel = <span class="kw">new</span> <span class="fu">CustomerViewModel</span>()</a>
<a class="sourceLine" id="cb5-21" data-line-number="21">{</a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">//transform to the view model</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23">AllCapsName = customer.<span class="fu">Name</span>.<span class="fu">ToUpper</span>();</a>
<a class="sourceLine" id="cb5-24" data-line-number="24">CodeList = String.<span class="fu">Join</span>(<span class="st">" "</span>, customer.<span class="fu">Codes</span>);</a>
<a class="sourceLine" id="cb5-25" data-line-number="25">Orders = customer.<span class="fu">Orders</span>.<span class="fu">Select</span>(a =&gt; <span class="kw">new</span> <span class="fu">OrderViewModel</span>()</a>
<a class="sourceLine" id="cb5-26" data-line-number="26">{</a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">//likewise transform orders to the view model</span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28">});</a>
<a class="sourceLine" id="cb5-29" data-line-number="29">}</a>
<a class="sourceLine" id="cb5-30" data-line-number="30">model.<span class="fu">Add</span>(custViewModel);</a>
<a class="sourceLine" id="cb5-31" data-line-number="31">}</a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="kw">return</span> <span class="fu">Content</span>(model);</a>
<a class="sourceLine" id="cb5-33" data-line-number="33">}</a>
<a class="sourceLine" id="cb5-34" data-line-number="34">}</a></code></pre></div>
<p>You're not testing the service, but you need to be sure that the Customer/Order properties map correctly to the View Model properties. You don't want to find out in production you set the CustomerViewModel.CodeList property to Customer.Name.</p>
<p>A simplistic unit test might look like this (NOT a working example!):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb6-1" data-line-number="1"></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">[TestMethod]</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="kw">public</span> <span class="dt">void</span> <span class="fu">TestMethod1</span>()</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">{</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">ICustomerService mockService = <span class="kw">new</span> <span class="fu">MockCustomerService</span>();</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">mockService.<span class="fu">TestCustomers</span> = MockData.<span class="fu">CustomersAndOrders</span>;</a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="dt">var</span> controller = <span class="kw">new</span> <span class="fu">CustomersController</span>(mockService);</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="dt">var</span> actual = controller.<span class="fu">Get</span>();</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">Assert.<span class="fu">AreEqual</span>(mockService.<span class="fu">TestCustomers</span>.<span class="fu">Count</span>(), actual.<span class="fu">Count</span>());</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">}</a></code></pre></div>
<p>The mock service could be as simple as this, if you didn't want to use a mocking framework. Each test can set what customers/orders it wants to use.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">public</span> <span class="kw">class</span> CustomerSerivce: ICustomerService</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">{</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="kw">public</span> List&lt;Customer&gt; TestCustomers {<span class="kw">get</span>; <span class="kw">set</span>;}</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="kw">public</span> List&lt;Customer&gt; <span class="fu">GetAllCustomers</span>()</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">{</a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="kw">return</span> TestCustomers;</a>
<a class="sourceLine" id="cb7-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">}</a>
<a class="sourceLine" id="cb7-11" data-line-number="11"></a></code></pre></div>
<p>So, great, but what about the actual test data? In many cases, it's OK to hand-craft what you need, like this:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb8-1" data-line-number="1">Customer customer = <span class="kw">new</span> <span class="fu">Customer</span>()</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">CustomerId = <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">Name = <span class="st">"blamo"</span>,</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">Codes = <span class="kw">new</span> List&lt;<span class="dt">string</span>&gt; {<span class="st">"a"</span>,<span class="st">"b"</span>},</a>
<a class="sourceLine" id="cb8-6" data-line-number="6">Orders = <span class="kw">new</span> List&lt;Order&gt;()</a>
<a class="sourceLine" id="cb8-7" data-line-number="7">{</a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="kw">new</span> <span class="fu">Order</span>()</a>
<a class="sourceLine" id="cb8-9" data-line-number="9">{</a>
<a class="sourceLine" id="cb8-10" data-line-number="10">OrderId = <span class="dv">11</span>,</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">CustomerId = <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb8-12" data-line-number="12">OrderedOn = DateTime.<span class="fu">Parse</span>(<span class="st">"1/1/2001"</span>),</a>
<a class="sourceLine" id="cb8-13" data-line-number="13">Discount = <span class="fl">10.00</span>m,</a>
<a class="sourceLine" id="cb8-14" data-line-number="14">Customer = <span class="kw">this</span></a>
<a class="sourceLine" id="cb8-15" data-line-number="15">}</a>
<a class="sourceLine" id="cb8-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb8-17" data-line-number="17">}</a></code></pre></div>
<p>But what if you have classes with twenty or thirty properties? And what if those properties have some domain-specific data or formats that need careful testing?</p>
<pre><code>Customer.ID = {820bd7ae-fed3-419f-b778-8a817b45a968}
Customer.Name = Lewellen-Taft-O'Brien Marketing, LLC.
Customer.DiscountMatrix = 15.00|13.25|10.973
etc.
</code></pre>
<p>It's both tedious and error-prone to fabricate values like that when excellent test data <em>right there in the database</em>! And, you already have code in the service to return that data. You just want to generate code to recreate the data in memory.</p>
<h2 id="enter-deepshadow">Enter DeepShadow</h2>
<p>With DeepShadow, you can potentially generate your models as simply as this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co">//This is an Entity Framework DbContext</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">MyDb db = <span class="kw">new</span> <span class="fu">MyDb</span>();</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">//REQUIRED FOR Mock Data Generation</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">db.<span class="fu">Configuration</span>.<span class="fu">ProxyCreationEnabled</span> = <span class="kw">false</span>;</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">//Generate a list of models</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8">db.<span class="fu">Customers</span>.<span class="fu">Take</span>(<span class="dv">5</span>).<span class="fu">GenerateEntitiesFromList</span>(toConsole: <span class="kw">true</span>);</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">//Generate from a single entity</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11">db.<span class="fu">Customers</span>.<span class="fu">First</span>().<span class="fu">GenerateEntitiesFromObject</span>(toConsole: <span class="kw">true</span>);</a></code></pre></div>
<p>The output will look like this:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb11-1" data-line-number="1">List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt; list = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt;();</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"></a>
<a class="sourceLine" id="cb11-3" data-line-number="3">DeepShadowDbContext.<span class="fu">Customer</span> a1 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">a1.<span class="fu">CustomerId</span> = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb11-5" data-line-number="5">a1.<span class="fu">Name</span> = @<span class="st">"Nicolo Paganini"</span>;</a>
<a class="sourceLine" id="cb11-6" data-line-number="6">a1.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb11-7" data-line-number="7">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb11-8" data-line-number="8">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb11-9" data-line-number="9">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb11-10" data-line-number="10">a1.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb11-11" data-line-number="11">list.<span class="fu">Add</span>(a1);</a>
<a class="sourceLine" id="cb11-12" data-line-number="12">DeepShadowDbContext.<span class="fu">Customer</span> a2 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb11-13" data-line-number="13">a2.<span class="fu">CustomerId</span> = <span class="dv">2</span>;</a>
<a class="sourceLine" id="cb11-14" data-line-number="14">a2.<span class="fu">Name</span> = @<span class="st">"Hilary Hahn"</span>;</a>
<a class="sourceLine" id="cb11-15" data-line-number="15">a2.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb11-16" data-line-number="16">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb11-17" data-line-number="17">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb11-18" data-line-number="18">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb11-19" data-line-number="19">a2.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb11-20" data-line-number="20">list.<span class="fu">Add</span>(a2);</a>
<a class="sourceLine" id="cb11-21" data-line-number="21"></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="kw">return</span> list;</a></code></pre></div>
<p>You'd put the above in some kind of unit testing MockData class, which is used to set the mock service method's return value.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">public</span> <span class="kw">static</span> <span class="kw">class</span> MockData</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">{</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="kw">public</span> <span class="kw">static</span> List&lt;Customer&gt; CustomersAndOrders</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">{</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw">get</span> {</a>
<a class="sourceLine" id="cb12-6" data-line-number="6">List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt; list = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt;();</a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co">//data</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="kw">return</span> list;</a>
<a class="sourceLine" id="cb12-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb12-10" data-line-number="10">}</a>
<a class="sourceLine" id="cb12-11" data-line-number="11">}</a></code></pre></div>
<h2 id="masking-data">Masking Data</h2>
<p>Often you'll want to retrieve data from your database, but obscure sensitive data. That's easy enough in most cases without any help from DeepShadow.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="co">//This is an Entity Framework DbContext</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2">MyDb db = <span class="kw">new</span> <span class="fu">MyDb</span>();</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="co">//REQUIRED FOR Mock Data Generation</span></a>
<a class="sourceLine" id="cb13-5" data-line-number="5">db.<span class="fu">Configuration</span>.<span class="fu">ProxyCreationEnabled</span> = <span class="kw">false</span>;</a>
<a class="sourceLine" id="cb13-6" data-line-number="6"></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="dt">var</span> employees = db.<span class="fu">Employees</span>.<span class="fu">Where</span>(a =&gt; a.<span class="fu">Inactive</span> == <span class="kw">true</span>).<span class="fu">ToList</span>();</a>
<a class="sourceLine" id="cb13-8" data-line-number="8"></a>
<a class="sourceLine" id="cb13-9" data-line-number="9"><span class="co">//mask data</span></a>
<a class="sourceLine" id="cb13-10" data-line-number="10"><span class="kw">foreach</span> (var employee <span class="kw">in</span> employees )</a>
<a class="sourceLine" id="cb13-11" data-line-number="11">{</a>
<a class="sourceLine" id="cb13-12" data-line-number="12">employee.<span class="fu">SSN</span> = <span class="st">"111-22-3456"</span>;</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">employee.<span class="fu">DateOfBirth</span> = DateTime.<span class="fu">Parse</span>(<span class="st">"1/1/2001"</span>);</a>
<a class="sourceLine" id="cb13-14" data-line-number="14">}</a>
<a class="sourceLine" id="cb13-15" data-line-number="15"></a>
<a class="sourceLine" id="cb13-16" data-line-number="16"><span class="co">//Generate a list of models</span></a>
<a class="sourceLine" id="cb13-17" data-line-number="17">employees.<span class="fu">GenerateEntitiesFromList</span>(toConsole: <span class="kw">true</span>);</a>
<a class="sourceLine" id="cb13-18" data-line-number="18"></a></code></pre></div>
<h2 id="complete-example">Complete Example</h2>
<p>I use (and recommend) the registered version of <a href="http://www.linqpad.net/">LINQPad</a> for generating the data, though you could also create a console app to do it. The code's almost exactly the same. In this example, I've created a SQL database named DeepShadowSample, and a console application with an Entity Framework DbContext named DeepShadowDb.</p>
<blockquote>
<p><strong>Important</strong> If you're using LINQPad, you must have a registered version in order to easily install the NuGet package.</p>
</blockquote>
<h4 id="table-schema-and-data">Table Schema and Data</h4>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">create</span> <span class="kw">table</span> Customers</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">(</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">CustomerId <span class="dt">int</span> <span class="kw">not</span> <span class="kw">null</span> <span class="kw">primary</span> <span class="kw">key</span>,</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">Name <span class="dt">varchar</span>(<span class="fu">max</span>)</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb14-6" data-line-number="6"></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="kw">create</span> <span class="kw">table</span> Codes</a>
<a class="sourceLine" id="cb14-8" data-line-number="8">(</a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="kw">Id</span> <span class="dt">int</span> identity <span class="kw">primary</span> <span class="kw">key</span>,</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">Name <span class="dt">varchar</span>(<span class="fu">max</span>)</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">)</a>
<a class="sourceLine" id="cb14-12" data-line-number="12"></a>
<a class="sourceLine" id="cb14-13" data-line-number="13"><span class="kw">create</span> <span class="kw">table</span> Orders</a>
<a class="sourceLine" id="cb14-14" data-line-number="14">(</a>
<a class="sourceLine" id="cb14-15" data-line-number="15">OrderId <span class="dt">int</span> <span class="kw">not</span> <span class="kw">null</span> <span class="kw">primary</span> <span class="kw">key</span>,</a>
<a class="sourceLine" id="cb14-16" data-line-number="16">CustomerId <span class="dt">int</span> <span class="kw">not</span> <span class="kw">null</span> <span class="kw">foreign</span> <span class="kw">key</span> <span class="kw">references</span> Customers(CustomerId),</a>
<a class="sourceLine" id="cb14-17" data-line-number="17">OrderedOn datetime <span class="kw">not</span> <span class="kw">null</span>,</a>
<a class="sourceLine" id="cb14-18" data-line-number="18">Discount <span class="dt">decimal</span> <span class="kw">null</span></a>
<a class="sourceLine" id="cb14-19" data-line-number="19">)</a>
<a class="sourceLine" id="cb14-20" data-line-number="20"></a>
<a class="sourceLine" id="cb14-21" data-line-number="21"></a>
<a class="sourceLine" id="cb14-22" data-line-number="22"><span class="kw">insert</span> Customers <span class="kw">select</span> <span class="dv">1</span>, <span class="st">'Nicolo Paganini'</span></a>
<a class="sourceLine" id="cb14-23" data-line-number="23"><span class="kw">insert</span> Customers <span class="kw">select</span> <span class="dv">2</span>, <span class="st">'Jasha Heifetz'</span></a>
<a class="sourceLine" id="cb14-24" data-line-number="24"><span class="kw">insert</span> Customers <span class="kw">select</span> <span class="dv">3</span>, <span class="st">'Erica Morini'</span></a>
<a class="sourceLine" id="cb14-25" data-line-number="25"><span class="kw">insert</span> Customers <span class="kw">select</span> <span class="dv">4</span>, <span class="st">'Hilary Hahn'</span></a>
<a class="sourceLine" id="cb14-26" data-line-number="26"></a>
<a class="sourceLine" id="cb14-27" data-line-number="27"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">'2001-01-01'</span>, <span class="dv">10</span></a>
<a class="sourceLine" id="cb14-28" data-line-number="28"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">3</span>, <span class="dv">2</span>, <span class="st">'2002-01-01'</span>, <span class="dv">0</span></a>
<a class="sourceLine" id="cb14-29" data-line-number="29"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">4</span>, <span class="dv">2</span>, <span class="st">'2002-02-02'</span>, <span class="dv">5</span></a>
<a class="sourceLine" id="cb14-30" data-line-number="30"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">5</span>, <span class="dv">3</span>, <span class="st">'2012-05-23'</span>, <span class="dv">0</span></a>
<a class="sourceLine" id="cb14-31" data-line-number="31"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">6</span>, <span class="dv">3</span>, <span class="st">'2012-05-23 12:00:00.000'</span>, <span class="kw">NULL</span></a>
<a class="sourceLine" id="cb14-32" data-line-number="32"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">7</span>, <span class="dv">3</span>, <span class="st">'2012-05-24'</span>, <span class="dv">0</span></a>
<a class="sourceLine" id="cb14-33" data-line-number="33"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">9</span>, <span class="dv">4</span>, <span class="st">'2015-12-12'</span>, <span class="kw">NULL</span></a>
<a class="sourceLine" id="cb14-34" data-line-number="34"><span class="kw">insert</span> Orders <span class="kw">select</span> <span class="dv">10</span>, <span class="dv">4</span>, <span class="st">'2017-12-15'</span>, <span class="dv">3</span></a>
<a class="sourceLine" id="cb14-35" data-line-number="35"></a>
<a class="sourceLine" id="cb14-36" data-line-number="36"><span class="kw">insert</span> Codes (Name) <span class="kw">values</span> (<span class="st">'A1,A2,A3'</span>)</a>
<a class="sourceLine" id="cb14-37" data-line-number="37"><span class="kw">insert</span> Codes (Name) <span class="kw">values</span> (<span class="st">'B4,B7'</span>)</a></code></pre></div>
<h4 id="deepshadowdbcontext-console-app">DeepShadowDbContext Console App</h4>
<div class="sourceCode" id="cb15"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">using</span> System;</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="kw">using</span> System.<span class="fu">Collections</span>.<span class="fu">Generic</span>;</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="kw">using</span> System.<span class="fu">Linq</span>;</a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="kw">using</span> System.<span class="fu">Data</span>.<span class="fu">Entity</span>;</a>
<a class="sourceLine" id="cb15-5" data-line-number="5"></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="kw">namespace</span> DeepShadowDbContext</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">{</a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="kw">class</span> Program</a>
<a class="sourceLine" id="cb15-9" data-line-number="9">{</a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="kw">static</span> <span class="dt">void</span> <span class="fu">Main</span>(<span class="dt">string</span>[] args)</a>
<a class="sourceLine" id="cb15-11" data-line-number="11">{</a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="dt">var</span> service = <span class="kw">new</span> <span class="fu">CustomerService</span>(<span class="kw">new</span> <span class="fu">DeepShadowDb</span>());</a>
<a class="sourceLine" id="cb15-13" data-line-number="13">Console.<span class="fu">WriteLine</span>(service.<span class="fu">GetAllCustomers</span>().<span class="fu">Count</span>()); <span class="co">//should return 4</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14">Console.<span class="fu">ReadLine</span>();</a>
<a class="sourceLine" id="cb15-15" data-line-number="15">}</a>
<a class="sourceLine" id="cb15-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb15-17" data-line-number="17"></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="kw">public</span> <span class="kw">class</span> CustomerService</a>
<a class="sourceLine" id="cb15-19" data-line-number="19">{</a>
<a class="sourceLine" id="cb15-20" data-line-number="20">DeepShadowDb _db;</a>
<a class="sourceLine" id="cb15-21" data-line-number="21"></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="kw">public</span> <span class="fu">CustomerService</span>(DeepShadowDb db)</a>
<a class="sourceLine" id="cb15-23" data-line-number="23">{</a>
<a class="sourceLine" id="cb15-24" data-line-number="24">_db = db;</a>
<a class="sourceLine" id="cb15-25" data-line-number="25">}</a>
<a class="sourceLine" id="cb15-26" data-line-number="26"></a>
<a class="sourceLine" id="cb15-27" data-line-number="27"><span class="kw">public</span> List&lt;Customer&gt; <span class="fu">GetAllCustomers</span>()</a>
<a class="sourceLine" id="cb15-28" data-line-number="28">{</a>
<a class="sourceLine" id="cb15-29" data-line-number="29"><span class="dt">var</span> customers = _db.<span class="fu">Customers</span>.<span class="fu">ToList</span>();</a>
<a class="sourceLine" id="cb15-30" data-line-number="30"><span class="dt">var</span> codes = _db.<span class="fu">Codes</span>.<span class="fu">First</span>();</a>
<a class="sourceLine" id="cb15-31" data-line-number="31"><span class="kw">foreach</span> (var customer <span class="kw">in</span> customers)</a>
<a class="sourceLine" id="cb15-32" data-line-number="32">{</a>
<a class="sourceLine" id="cb15-33" data-line-number="33">customer.<span class="fu">Codes</span> = codes.<span class="fu">Name</span>.<span class="fu">Split</span>(<span class="ch">','</span>).<span class="fu">ToList</span>();</a>
<a class="sourceLine" id="cb15-34" data-line-number="34">}</a>
<a class="sourceLine" id="cb15-35" data-line-number="35"><span class="kw">return</span> customers;</a>
<a class="sourceLine" id="cb15-36" data-line-number="36">}</a>
<a class="sourceLine" id="cb15-37" data-line-number="37">}</a>
<a class="sourceLine" id="cb15-38" data-line-number="38"></a>
<a class="sourceLine" id="cb15-39" data-line-number="39"><span class="kw">public</span> <span class="kw">class</span> Customer</a>
<a class="sourceLine" id="cb15-40" data-line-number="40">{</a>
<a class="sourceLine" id="cb15-41" data-line-number="41"><span class="kw">public</span> <span class="dt">int</span> CustomerId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-42" data-line-number="42"><span class="kw">public</span> <span class="dt">string</span> Name { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-43" data-line-number="43"><span class="kw">public</span> List&lt;<span class="dt">string</span>&gt; Codes { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-44" data-line-number="44"><span class="co">//Navigation</span></a>
<a class="sourceLine" id="cb15-45" data-line-number="45"><span class="kw">public</span> List&lt;Order&gt; Orders { <span class="kw">get</span>; <span class="kw">set</span>; } = <span class="kw">new</span> List&lt;Order&gt;();</a>
<a class="sourceLine" id="cb15-46" data-line-number="46">}</a>
<a class="sourceLine" id="cb15-47" data-line-number="47"></a>
<a class="sourceLine" id="cb15-48" data-line-number="48"><span class="kw">public</span> <span class="kw">class</span> Order</a>
<a class="sourceLine" id="cb15-49" data-line-number="49">{</a>
<a class="sourceLine" id="cb15-50" data-line-number="50"><span class="kw">public</span> <span class="dt">int</span> OrderId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-51" data-line-number="51"><span class="kw">public</span> <span class="dt">int</span> CustomerId { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-52" data-line-number="52"><span class="kw">public</span> DateTime OrderedOn { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-53" data-line-number="53"><span class="kw">public</span> <span class="dt">decimal</span>? Discount { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-54" data-line-number="54"><span class="co">//Navigation</span></a>
<a class="sourceLine" id="cb15-55" data-line-number="55"><span class="kw">public</span> Customer Customer { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-56" data-line-number="56">}</a>
<a class="sourceLine" id="cb15-57" data-line-number="57"></a>
<a class="sourceLine" id="cb15-58" data-line-number="58"><span class="kw">public</span> <span class="kw">class</span> Code</a>
<a class="sourceLine" id="cb15-59" data-line-number="59">{</a>
<a class="sourceLine" id="cb15-60" data-line-number="60"><span class="kw">public</span> <span class="dt">int</span> Id { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-61" data-line-number="61"><span class="kw">public</span> <span class="dt">string</span> Name { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-62" data-line-number="62">}</a>
<a class="sourceLine" id="cb15-63" data-line-number="63"></a>
<a class="sourceLine" id="cb15-64" data-line-number="64"><span class="kw">public</span> <span class="kw">class</span> DeepShadowDb : DbContext</a>
<a class="sourceLine" id="cb15-65" data-line-number="65">{</a>
<a class="sourceLine" id="cb15-66" data-line-number="66"><span class="kw">public</span> DbSet&lt;Customer&gt; Customers { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-67" data-line-number="67"><span class="kw">public</span> DbSet&lt;Order&gt; Order { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-68" data-line-number="68"><span class="kw">public</span> DbSet&lt;Code&gt; Codes { <span class="kw">get</span>; <span class="kw">set</span>; }</a>
<a class="sourceLine" id="cb15-69" data-line-number="69"></a>
<a class="sourceLine" id="cb15-70" data-line-number="70"><span class="kw">protected</span> <span class="kw">override</span> <span class="dt">void</span> <span class="fu">OnModelCreating</span>(DbModelBuilder modelBuilder)</a>
<a class="sourceLine" id="cb15-71" data-line-number="71">{</a>
<a class="sourceLine" id="cb15-72" data-line-number="72">modelBuilder.<span class="fu">Entity</span>&lt;Customer&gt;().<span class="fu">Ignore</span>(a =&gt; a.<span class="fu">Codes</span>);</a>
<a class="sourceLine" id="cb15-73" data-line-number="73">}</a>
<a class="sourceLine" id="cb15-74" data-line-number="74">}</a>
<a class="sourceLine" id="cb15-75" data-line-number="75">}</a></code></pre></div>
<h4 id="appconfig">App.Config</h4>
<div class="sourceCode" id="cb16"><pre class="sourceCode xml"><code class="sourceCode xml"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">&lt;?xml</span> version="1.0" encoding="utf-8"<span class="kw">?&gt;</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="kw">&lt;configuration&gt;</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="kw">&lt;configSections&gt;</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="kw">&lt;/configSections&gt;</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="kw">&lt;startup&gt;</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="kw">&lt;supportedRuntime</span><span class="ot"> version=</span><span class="st">"v4.0"</span><span class="ot"> sku=</span><span class="st">".NETFramework,Version=v4.6.1"</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="kw">&lt;/startup&gt;</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="kw">&lt;connectionStrings&gt;</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="kw">&lt;add</span><span class="ot"> name=</span><span class="st">"DeepShadowDb"</span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="ot">connectionString=</span><span class="st">"Server=.\SQLEXPRESS2016;Database=DeepShadowSample;Trusted_Connection=True;"</span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="ot">providerName=</span><span class="st">"System.Data.SqlClient"</span><span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="kw">&lt;/connectionStrings&gt;</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="kw">&lt;/configuration&gt;</span></a></code></pre></div>
<h4 id="1-open-linqpad-to-a-new-c-statements-query">1. Open LINQPad to a new C# Statements query</h4>
<h4 id="2-add-entity-framework-connection">2. Add Entity Framework connection</h4>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_19_33.png"></p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_22_32.png"></p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_23_55.png"></p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_27_14.png"></p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_30_01.png"></p>
<h4 id="3-set-the-query-connection">3. Set the query connection</h4>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_31_44.png"></p>
<h4 id="4-press-f4-to-open-the-query-settings-and-click-add-nuget">4. Press F4 to open the query settings, and click Add NuGet</h4>
<h4 id="5-search-online-for-deepshadow-and-add-to-query">5. Search online for DeepShadow, and add to query</h4>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_36_34.png"></p>
<h4 id="6-in-the-query-properties-window-additional-namespace-imports-tab-click-pick-from-assemblies-and-add-the-deepshadow-namespace">6. In the Query Properties window, Additional Namespace Imports tab, click Pick from assemblies and add the <code>DeepShadow</code> namespace.</h4>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_42_34.png"></p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deepshadow/images/2018-03-23%2015_41_19.png"></p>
<h4 id="7-in-the-query-window-add-this-code-notice-how-its-essentially-copypaste-from-customerservicegetallcustomers">7. In the query window, add this code. Notice how it's essentially copy/paste from <code>CustomerService.GetAllCustomers</code>.</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb17-1" data-line-number="1">DeepShadowDb _db = <span class="kw">this</span>;</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">//REQUIRED FOR Mock Data Generation</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">_db.<span class="fu">Configuration</span>.<span class="fu">ProxyCreationEnabled</span> = <span class="kw">false</span>;</a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">//_db.Database.Connection.ConnectionString.Dump();</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">//////////////////</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">//This is the code copied from the supposed CustomerService.GetAllCustomers method</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">//Note that the service does some data manipulation by setting Codes from another table.</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="dt">var</span> customers = _db.<span class="fu">Customers</span>.<span class="fu">ToList</span>();</a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="dt">var</span> codes = _db.<span class="fu">Codes</span>.<span class="fu">First</span>();</a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="kw">foreach</span> (var customer <span class="kw">in</span> Customers)</a>
<a class="sourceLine" id="cb17-14" data-line-number="14">{</a>
<a class="sourceLine" id="cb17-15" data-line-number="15">customer.<span class="fu">Codes</span> = codes.<span class="fu">Name</span>.<span class="fu">Split</span>(<span class="ch">','</span>).<span class="fu">ToList</span>();</a>
<a class="sourceLine" id="cb17-16" data-line-number="16">}</a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">//This generates the code</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18">customers.<span class="fu">GenerateEntitiesFromList</span>(toConsole: <span class="kw">true</span>);</a>
<a class="sourceLine" id="cb17-19" data-line-number="19"></a></code></pre></div>
<h4 id="8-the-result">8. The result</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode csharp"><code class="sourceCode cs"><a class="sourceLine" id="cb18-1" data-line-number="1">List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt; list = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Customer</span>&gt;();</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"></a>
<a class="sourceLine" id="cb18-3" data-line-number="3">DeepShadowDbContext.<span class="fu">Customer</span> a1 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">a1.<span class="fu">CustomerId</span> = <span class="dv">1</span>;</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">a1.<span class="fu">Name</span> = @<span class="st">"Nicolo Paganini"</span>;</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">a1.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb18-7" data-line-number="7">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb18-8" data-line-number="8">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb18-9" data-line-number="9">a1.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb18-10" data-line-number="10">a1.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb18-11" data-line-number="11">list.<span class="fu">Add</span>(a1);</a>
<a class="sourceLine" id="cb18-12" data-line-number="12">DeepShadowDbContext.<span class="fu">Customer</span> a2 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb18-13" data-line-number="13">a2.<span class="fu">CustomerId</span> = <span class="dv">2</span>;</a>
<a class="sourceLine" id="cb18-14" data-line-number="14">a2.<span class="fu">Name</span> = @<span class="st">"Jasha Heifetz"</span>;</a>
<a class="sourceLine" id="cb18-15" data-line-number="15">a2.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb18-16" data-line-number="16">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb18-17" data-line-number="17">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb18-18" data-line-number="18">a2.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb18-19" data-line-number="19">a2.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb18-20" data-line-number="20">list.<span class="fu">Add</span>(a2);</a>
<a class="sourceLine" id="cb18-21" data-line-number="21">DeepShadowDbContext.<span class="fu">Customer</span> a3 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb18-22" data-line-number="22">a3.<span class="fu">CustomerId</span> = <span class="dv">3</span>;</a>
<a class="sourceLine" id="cb18-23" data-line-number="23">a3.<span class="fu">Name</span> = @<span class="st">"Erica Morini"</span>;</a>
<a class="sourceLine" id="cb18-24" data-line-number="24">a3.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb18-25" data-line-number="25">a3.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb18-26" data-line-number="26">a3.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb18-27" data-line-number="27">a3.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb18-28" data-line-number="28">a3.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb18-29" data-line-number="29">list.<span class="fu">Add</span>(a3);</a>
<a class="sourceLine" id="cb18-30" data-line-number="30">DeepShadowDbContext.<span class="fu">Customer</span> a4 = <span class="kw">new</span> DeepShadowDbContext.<span class="fu">Customer</span>();</a>
<a class="sourceLine" id="cb18-31" data-line-number="31">a4.<span class="fu">CustomerId</span> = <span class="dv">4</span>;</a>
<a class="sourceLine" id="cb18-32" data-line-number="32">a4.<span class="fu">Name</span> = @<span class="st">"Hilary Hahn"</span>;</a>
<a class="sourceLine" id="cb18-33" data-line-number="33">a4.<span class="fu">Codes</span> = <span class="kw">new</span> List&lt;String&gt;();</a>
<a class="sourceLine" id="cb18-34" data-line-number="34">a4.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A1"</span>);</a>
<a class="sourceLine" id="cb18-35" data-line-number="35">a4.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A2"</span>);</a>
<a class="sourceLine" id="cb18-36" data-line-number="36">a4.<span class="fu">Codes</span>.<span class="fu">Add</span>(<span class="st">"A3"</span>);</a>
<a class="sourceLine" id="cb18-37" data-line-number="37">a4.<span class="fu">Orders</span> = <span class="kw">new</span> List&lt;DeepShadowDbContext.<span class="fu">Order</span>&gt;();</a>
<a class="sourceLine" id="cb18-38" data-line-number="38">list.<span class="fu">Add</span>(a4);</a>
<a class="sourceLine" id="cb18-39" data-line-number="39"></a>
<a class="sourceLine" id="cb18-40" data-line-number="40"><span class="kw">return</span> list;</a></code></pre></div>
</div>
              </div>
              
  </section>
  <!-- posts only appear in home index -->
  <section id="posts">
    
    
  </section>
  <footer><p>Copyright (c) 2018 Charles L Flatt</p>
</footer>
  
</body>

</html>