<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta property="og:image" content="https://www.softwaremeadows.com/images/header.png" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117916694-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-117916694-1');
  </script>
  <script src='https://www.softwaremeadows.com/header-scripts/prism.js'></script>

  <link rel='stylesheet' href='https://www.softwaremeadows.com/css/responsive.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/prism.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/default.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/kavadocs.css' />


  <title>Home | Software Meadows</title>
</head>

<body>
  <div class="row">
    <div class="col-left">
      <nav id="nav" class="nav">
        <div id="menu">
          <ol>
<li><a href="https://www.softwaremeadows.com/">Home</a></li>
<li><a href="https://www.softwaremeadows.com/devops">DevOps</a></li>
<li><a href="https://www.softwaremeadows.com/well-being">Well-Being</a></li>
<li><a href="https://www.softwaremeadows.com/about">About</a></li>
<li><a target="_blank" href="https://github.com/bladewolf55">On GitHub</a></li>
</ol>

        </div>
        <div id="recent">
          <h2>Recent</h2>
          <a href='https://www.softwaremeadows.com/posts/2021_dora_explorer_my_highlights'>2021 DORA Explorer - My Highlights from the State of DevOps report</a><a href='https://www.softwaremeadows.com/posts/azure_devops_locally-hosted_build_agent_with_global_npm-_net_tools'>Azure DevOps Locally-Hosted Build Agent With Global NPM/.NET Tools</a><a href='https://www.softwaremeadows.com/posts/developing_with_project_dependencies_-_when_to_package__when_not_to'>Developing With Project Dependencies - When to Package, When Not To</a><a href='https://www.softwaremeadows.com/posts/ability_capability_capacity_are_basically_the_same'>Ability, Capability, Capacity are basically the same</a><a href='https://www.softwaremeadows.com/posts/solutions_to_error_unable_to_connect_to_web_server_iis_express'>Solutions to Error "Unable to connect to Web Server IIS Express"</a>
        </div>
        <div id="history">
          <h2>History</h2>
          <ol class='tree'><li class='history-year'><label for='2021'>2021</label><input type='checkbox'  id='2021' /><ol><li class='history-month'><label for='2021-12'>December</label><input type='checkbox'  id='2021-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/2021_dora_explorer_my_highlights'>2021 DORA Explorer - My Highlights from the State of DevOps report</a></li></ol></li><li class='history-month'><label for='2021-10'>October</label><input type='checkbox'  id='2021-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/azure_devops_locally-hosted_build_agent_with_global_npm-_net_tools'>Azure DevOps Locally-Hosted Build Agent With Global NPM/.NET Tools</a></li></ol></li><li class='history-month'><label for='2021-8'>August</label><input type='checkbox'  id='2021-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/developing_with_project_dependencies_-_when_to_package__when_not_to'>Developing With Project Dependencies - When to Package, When Not To</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/ability_capability_capacity_are_basically_the_same'>Ability, Capability, Capacity are basically the same</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/solutions_to_error_unable_to_connect_to_web_server_iis_express'>Solutions to Error "Unable to connect to Web Server IIS Express"</a></li></ol></li><li class='history-month'><label for='2021-7'>July</label><input type='checkbox'  id='2021-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/configuring_iterations_for_teams_in_azure_devops'>Configuring Iterations for Teams in Azure DevOps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/basic_daily_git_commands__including_rebase_is_good'>Basic Daily Git Commands, including "Rebase is Good"</a></li></ol></li><li class='history-month'><label for='2021-5'>May</label><input type='checkbox'  id='2021-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/professional_development_fundamentals'>Professional Development Fundamentals</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/unit_testing_is_part_of_a_developers_job_description'>Unit Testing is Part of a Developer's Job Description</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/graphic_-_git_merge_vs_rebase'>Graphic - Git Merge vs Rebase</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/scrum_in_azure_devops_-_a_simpler_custom_process'>Scrum in Azure DevOps - A simpler (custom) process</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/git_commit_checkout_is_a_snapshot__not_a_delta'>Git commit/checkout is a snapshot, not a delta</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what_do_you_mean_by_automated_tests_and_continuous_integration_'>What do you mean by automated tests and continuous integration?</a></li></ol></li><li class='history-month'><label for='2021-4'>April</label><input type='checkbox'  id='2021-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_simple_intro_to_scrum_in_azure_devops'>A Simple Intro to Scrum in Azure DevOps</a></li></ol></li><li class='history-month'><label for='2021-3'>March</label><input type='checkbox'  id='2021-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how_and_why_to_maintain_a_readme_md_file_-_onboarding_and_continuous_integration'>How (and why) to maintain a README.md file for internal projects: Onboarding and Continuous Integration</a></li></ol></li><li class='history-month'><label for='2021-1'>January</label><input type='checkbox'  id='2021-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summry-_leadership_is_language'>One Sheet Summary: Leadership is Language</a></li></ol></li></ol></li><li class='history-year'><label for='2020'>2020</label><input type='checkbox'  id='2020' /><ol><li class='history-month'><label for='2020-12'>December</label><input type='checkbox'  id='2020-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nuget_5_7+_ignores_nuspec_replacement_tokens_-_and_other_weird_behavio'>NuGet 5.7+ Ignores NuSpec CSProj Replacement Tokens - and other weird behaviors</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tech_debt_-_you_cant_put_maintenance_last_if_you_want_to_drive_a_race'>Tech Debt - You can't put maintenance last if you want to drive a race car</a></li></ol></li><li class='history-month'><label for='2020-10'>October</label><input type='checkbox'  id='2020-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_four_foundations_of_software_improvement_-_letter-size_poster'>The Four Foundations of Software Improvement - Letter-Size Art Deco Poster</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/path_is_ambiguous__here_are_clear__consistent_variable_names_'>"Path" is ambiguous. Here are clear, consistent variable names.</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_tiny_habits'>One Sheet Summary: Tiny Habits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_atomic_habits'>One Sheet Summary: Atomic Habits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_good_habits__bad_habits'>One Sheet Summary: Good Habits, Bad Habits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/bizarre_nuget_exe_5_7_behaviors'>Bizarre NuGet.exe 5.7 "authors is required" behaviors</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_drive'>One Sheet Summary: Drive</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/introducing_nutcase_-_a_new_case_for_coding'>Introducing NUtCasE - A New Case for Coding</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_getting_things_done'>One Sheet Summary: Getting Things Done</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/one_sheet_summary-_accelerate-_the_science_of_lean_software_and_devop'>One Sheet Summary: "Accelerate: The Science of Lean Software and DevOps"</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/five_(so_far)_dynamics_of_group_problem_solving'>Five (so far) Dynamics of Group Problem Solving</a></li></ol></li><li class='history-month'><label for='2020-8'>August</label><input type='checkbox'  id='2020-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/domain-driven_design_-_opinionated_layers_graphic'>Domain-Driven Design - An Opinionated Layers Graphic</a></li></ol></li><li class='history-month'><label for='2020-7'>July</label><input type='checkbox'  id='2020-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/net_framework_nuget_packages_-_versioning__dependency_resolution__and'>.Net Framework NuGet Packages - Solving Assembly Redirection From Package vs Assembly Versioning, Dependency Resolution, and Strong-Naming</a></li></ol></li><li class='history-month'><label for='2020-6'>June</label><input type='checkbox'  id='2020-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/when_did__save__yes,_no,_cancel__become_wrong__'>When Did "Save? Yes, No, Cancel" Become Wrong?</a></li></ol></li><li class='history-month'><label for='2020-5'>May</label><input type='checkbox'  id='2020-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tabs_vs_spaces_is_dumb__convert_tabs_into_spaces_'>Tabs vs Spaces is Dumb. Convert Tabs INTO Spaces.</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what_is_cyclomatic_complexity_md'>What Is Cyclomatic Complexity In a Nutshell?</a></li></ol></li><li class='history-month'><label for='2020-4'>April</label><input type='checkbox'  id='2020-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/using_fluentassertions_with_xunit_theory_to_test_for_an_exception_and_'>Using FluentAssertions with xUnit Theory to Test for an Exception AND a Successful Return</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_last_one-_overcoming_obstacles'>Remote Work Tiny Tips - Last One: Overcoming Obstacles</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_staying_social'>Remote Work Tiny Tips - Staying Social</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_hugs_in_a_no-touch_world'>Remote Work Tiny Tips - Hugs in a No-Touch World</a></li></ol></li><li class='history-month'><label for='2020-3'>March</label><input type='checkbox'  id='2020-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_gratitude__gosh_darn_it!'>Remote Work Tiny Tips - Gratitude, Gosh Darn It!</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_habits_-_staying_healthy_food'>Remote Work Tiny Tips - Staying Healthy (Food)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_staying_healthy_exercise'>Remote Work Tiny Tips - Staying Healthy (Exercise)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_focusing_and_breaking'>Remote Work Tiny Tips - Focusing</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_forming_new_habits'>Remote Work Tiny Tips - Forming New Habits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_work_tiny_tips_-_keeping_your_routine'>Remote Work Tiny Tips - Keeping Your Routine</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/continuous_integration_flow_-_an_accurate_and_unlovely_graphic'>Continuous Integration Flow - An Accurate and Unlovely Graphic</a></li></ol></li><li class='history-month'><label for='2020-2'>February</label><input type='checkbox'  id='2020-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/why_the_repository_pattern_fails_for_legacy_database_like_yours_and_wh'>Why the Repository Pattern Fails for Legacy Databases Like Yours and What to Do About It</a></li></ol></li><li class='history-month'><label for='2020-1'>January</label><input type='checkbox'  id='2020-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/mock_returning_a_list_as_imongoqueryable_for_unit_testing'>Mock returning a List as IMongoQueryable for unit testing</a></li></ol></li></ol></li><li class='history-year'><label for='2019'>2019</label><input type='checkbox'  id='2019' /><ol><li class='history-month'><label for='2019-12'>December</label><input type='checkbox'  id='2019-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/git_basics_with_visual_studio_2019'>Git Basics With Visual Studio 2019</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs_azure_devops__building_and_releasing_git_branches,_a_simple_example'>TFS/Azure DevOps: Building and Releasing Git Branches, A Simple Example</a></li></ol></li><li class='history-month'><label for='2019-10'>October</label><input type='checkbox'  id='2019-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/who_are_you_coding_for_'>Who Are You Coding For?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_viewservice_pattern__especially_good_for_windows_forms'>The ViewService Pattern: Especially Good For Windows Forms</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/most_of_us_developers_arent_smart'>Most of Us Developers Aren't Smart</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/confirmed_android_text_punctuation_voice_commands'>Confirmed Android text punctuation voice commands</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/summary_of_accelerate_state_of_devops_2019'>Summary of "Accelerate State of DevOps 2019"</a></li></ol></li><li class='history-month'><label for='2019-9'>September</label><input type='checkbox'  id='2019-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/posh-git_fork_to_allow_visual_studio_to_use_tfvc_and_ignore_git'>Posh-git Fork to Allow Visual Studio to Use TFVC and Ignore Git</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/asp_net_core_controllers_-_exploring_how_to_test_a_simple_feature'>ASP.NET Core Controllers - Exploring How To Test a Simple Feature</a></li></ol></li><li class='history-month'><label for='2019-8'>August</label><input type='checkbox'  id='2019-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/remote_micro-exclusions-_two_poor_daily_standup_practices'>Remote Micro-Exclusions: Two Poor Daily Standup Practices</a></li></ol></li><li class='history-month'><label for='2019-6'>June</label><input type='checkbox'  id='2019-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/memstate-_the_practical_argument_for_big_in-memory_data'>Memstate: The Practical Argument for Big, In-Memory Data</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/grammar_for_developers_apostrophes_3_simple_rules_3_common_mistakes'>Grammar for Developers - Apostrophes: 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_accelerate__the_best_book_about_devops'>Weekly Sugar: 'Accelerate', the Best Book About DevOps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/20190616-1610 flatts_posts-casts_review_003'>Flatt's Posts/Casts Review #003 - Incentives, Emotions, Diversity, and Applying Bodyguard Training to Coding</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_applying_kanban_principles_to_your_personal_task_list'>Weekly Sugar: Applying Kanban Principles to Your Personal Task List</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/joe_developer-_when_(not)_to_drink_coffee'>Joe Developer: When (not) to Drink Coffee</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/an_open_email_to_blackwing602_com_about_their_poor_account_security'>An Open Email to Blackwing602.com About Their Poor Account Security</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_take_a_walk'>Weekly Sugar: Take a Walk</a></li></ol></li><li class='history-month'><label for='2019-5'>May</label><input type='checkbox'  id='2019-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_response_to_jonathan_cutrells_podcast_episode_crafting_your_work_b'>A Response to Jonathan Cutrell's Podcast Episode "Crafting Your Work By Your Strengths"</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_when_(not)_to_drink_coffe__a_preview'>Weekly Sugar: When (not) to Drink Coffee, a Preview</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/flatts_posts-casts_review_002_-_real_problems__strengths__korean_war'>Flatt's Posts/Casts Review #002 - Real Problems, Strengths, Korean War, Smaller Problems, Good/Bad Shame</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development_repost'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/flatts_post-cast_reviews_001_-_job_search_burnout_blazor_net_core_configuration'>Flatt's Posts/Casts Review #001 - Job Search, Burnout, Blazor, .NET Core Configuration, Personal Agency, Natural Movement, KonMari in Business</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/weekly_sugar-_when_is_music_a_distraction_'>Weekly Sugar: When is Music a Distraction?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/yes_or_no_a_classic_and_effective_book_for_decision_making'>"Yes or No?" -- A Classic and Effective Book For Decision-Making</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_git_aliases_with_a_nod_to_Smith_and_Jones'>"My" Git Aliases (with a nod to Smith and Jones)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/proposal-_combine_agile_and_craftsmanship_manifestos_into_agile_crafted_software_values'>Proposal: Combine Agile and Craftsmanship Manifestos into "Agile Crafted Software Values"</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/suggestion_for_uncle_bob-_change_software_craftsmanship_to_crafted_software'>Suggestion for Uncle Bob: Change "Software Craftsmanship" to "Crafted Software"</a></li></ol></li><li class='history-month'><label for='2019-4'>April</label><input type='checkbox'  id='2019-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_mixed_relationship_with_tdd'>My Mixed Relationship with TDD</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/dont_be_a_lazy_programmer_like_matthew_jones_isnt'>Don't Be a Lazy Programmer Like Matthew Jones Isn't</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/personal_reflections_on_removing_distractions_for_improved_productivity'>Personal Reflections on Removing Distractions for Improved Productivity</a></li></ol></li><li class='history-month'><label for='2019-3'>March</label><input type='checkbox'  id='2019-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating_a_modern__practical_resume'>Creating a Modern, Practical Résumé</a></li></ol></li><li class='history-month'><label for='2019-2'>February</label><input type='checkbox'  id='2019-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_week_of_web_blocking_for_productivity_and_well-being'>Digital Minimalism: A Week of Web Blocking for Productivity and Well-Being</a></li></ol></li><li class='history-month'><label for='2019-1'>January</label><input type='checkbox'  id='2019-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/revert_packagereference_project_to_packages_config'>Revert PackageReference Project to Packages.config</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_a_simple_photo_album_site_with_wix'>Create a Simple Photo Album Site With Wix</a></li></ol></li></ol></li><li class='history-year'><label for='2018'>2018</label><input type='checkbox'  id='2018' /><ol><li class='history-month'><label for='2018-11'>November</label><input type='checkbox'  id='2018-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/three_rules_for_successfully_starting_a_habit'>Three Rules for Successfully Starting a Habit</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/going_full_screen-_when_and_why'>Going Full Screen: When and Why</a></li></ol></li><li class='history-month'><label for='2018-10'>October</label><input type='checkbox'  id='2018-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nuget_packagereference_in_visual_studio'>NuGet PackageReference in Visual Studio</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/accelerate_book_notes_and_quotes'>Accelerate Book Notes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/getting_started_with_software_(and_business_and_life)_skills'>Getting Started With Software (and Business and Life) Skills</a></li></ol></li><li class='history-month'><label for='2018-9'>September</label><input type='checkbox'  id='2018-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shortest_user_story_intro_ever'>Shortest User Story Intro Ever</a></li></ol></li><li class='history-month'><label for='2018-8'>August</label><input type='checkbox'  id='2018-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_simple__effective_meeting_agenda_system'>A Simple, Effective Meeting Agenda System</a></li></ol></li><li class='history-month'><label for='2018-7'>July</label><input type='checkbox'  id='2018-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/highly_opinionated_android_to_do_and_note_apps_comparison'>Highly Opinionated Android To Do and Note Apps Comparison</a></li></ol></li><li class='history-month'><label for='2018-6'>June</label><input type='checkbox'  id='2018-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_vs_code-_orange_icon_resurrection'>Tid Bits: VS Code: Orange Icon Resurrection</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_use_visual_studio_for_git_diff-merge'>Tid Bits: Use Visual Studio for Git Diff/Merge</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/3_chrome_extensions_for_performance__research__and_blogging'>3 Chrome Extensions for Performance, Research, and Blogging</a></li></ol></li><li class='history-month'><label for='2018-5'>May</label><input type='checkbox'  id='2018-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/chrome_browser_pinned_startup_tabs'>Chrome Browser Pinned Startup Tabs</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/solving_nancyfx_tokenizer_keychain_bin_invalid_read_type_request_115'>Solving NancyFx Tokenizer keyChain.bin Invalid Read Type Request '115'</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_ideal_markdown_editor_-_thoughts_and_reviews_part_1'>My Ideal Markdown Editor - Thoughts and Reviews Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_why_and_how_of_posh_git_contenxt_menu_transcripts_and_tf_exe'>My Why and How of posh-git: Context Menu, Transcripts, and TF.exe</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how_to_secure-erase_regular_and_ssd_hard_drives_without_superstition'>How to Secure-Erase Regular and SSD Hard Drives Without Superstition</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sql_permissions_for_data_folders'>SQL Permissions for Data Folders</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/grammar_for_developers_-_3_simple_rules_3_common_mistakes'>Grammar for Developers - 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/notes_on_improving_developer_team_practices_1'>Notes on Improving Developer Team Practices</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/using_git_locally_with_remote_tfvc'>Using Git Locally With Remote TFVC</a></li></ol></li><li class='history-month'><label for='2018-4'>April</label><input type='checkbox'  id='2018-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting'>Raw Code - Picture Renaming and Sorting</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1'>Becoming a Professional Blogger Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid'>Entity Framework 6 Child Deletion and Foreign Keys - String Int GUID</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/linqpad_-_refresh_entity_after_submitchanges_to_avoid_cached_results'>LINQPad - Refresh Entity after SubmitChanges to Avoid Cached Results</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_blog_post_using_markdown_monster_command_addin'>Create Blog Post Using Markdown Monster's Command Addin</a></li></ol></li><li class='history-month'><label for='2018-3'>March</label><input type='checkbox'  id='2018-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/batch_image_resize_checking_min_max_in_both_dimensions'>Batch Image Resize Checking Min Max in Both Dimensions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></li></ol></li><li class='history-month'><label for='2018-1'>January</label><input type='checkbox'  id='2018-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/new-blog-engine'>New Blog Engine</a></li></ol></li></ol></li><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-agent'>TFS Continuous Integration - Agent Installation and Visual Studio Licensing</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-clickonce'>TFS Continuous Integration - ClickOnce Apps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-and-private'>TFS Continuous Integration and Private NuGet Package Sources</a></li></ol></li><li class='history-month'><label for='2017-2'>February</label><input type='checkbox'  id='2017-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_22'>TFS Continuous Integration Walk Through Part 5b - Multiple Solutions: Simple Project References</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_20'>TFS Continuous Integration Walk Through Part 5a - Multiple Solutions: Overview</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_24'>TFS Continuous Integration Walk Through Part 4b - Problems With Traits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_6'>TFS Continuous Integration Walk Through Part 4a - Filtering Tests</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_63'>TFS Continuous Integration Walk Through Part 3 - Notifications</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_5'>TFS Continuous Integration Walk Through Part 2 - Create an Automated Build</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 1 - Installing TFS and Checking In a Test Project</a></li></ol></li><li class='history-month'><label for='2017-1'>January</label><input type='checkbox'  id='2017-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-else-programmers-do-text'>What Else Programmers Do: A Text Manipulation Example</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-does-this-code-do-extended'>What does this code do? Extended explanation</a></li></ol></li></ol></li><li class='history-year'><label for='2016'>2016</label><input type='checkbox'  id='2016' /><ol><li class='history-month'><label for='2016-12'>December</label><input type='checkbox'  id='2016-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nexus-5-gps-lock-problem-and-two'>Nexus 5 GPS Lock Problem and Three--or More!--Solutions</a></li></ol></li><li class='history-month'><label for='2016-11'>November</label><input type='checkbox'  id='2016-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-bypass-new-microsoft-office'>How to Bypass the New Microsoft Office Startup and Save Screens</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-tasks-vs-reminders-in-desktop'>Google Tasks vs Reminders in Desktop and Phone</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-claims-based-identity-part-1_6'>Catching Up on Coding - Claims-Based Identity Part 1</a></li></ol></li><li class='history-month'><label for='2016-10'>October</label><input type='checkbox'  id='2016-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-forms-authentication'>Creating Forms Authentication Membership Tables in LocalDB–Right and Wrong Ways</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-10-complaint-1-auto-update'>Windows 10 Complaint #1: Auto Update State Loss</a></li></ol></li><li class='history-month'><label for='2016-9'>September</label><input type='checkbox'  id='2016-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/disable-windows-10-photo-automatic'>Disable Windows 10 Photo Automatic Albums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-laymans-explanation-of-mocking-and'>A Layman’s Explanation of Mocking and Dependency Injection</a></li></ol></li><li class='history-month'><label for='2016-8'>August</label><input type='checkbox'  id='2016-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></li></ol></li><li class='history-month'><label for='2016-7'>July</label><input type='checkbox'  id='2016-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/writing-to-current-users-registry-when'>Writing to the Current User(s) Registry When Running as System</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-syllabus'>Catching Up on Coding - The Syllabus</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/quickly-enable-mercurial-keyring-for'>Quickly Enable Mercurial Keyring for BitBucket</a></li></ol></li><li class='history-month'><label for='2016-6'>June</label><input type='checkbox'  id='2016-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create-easily-debuggable-windows-service'>Create an Easily Debuggable Windows Service</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/underrated-work-skills'>(Underrated) Work Skills</a></li></ol></li><li class='history-month'><label for='2016-5'>May</label><input type='checkbox'  id='2016-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/vbnet-windows-project-to-c-conversion'>VB.Net Windows Project to C# Conversion Tools Quick Review</a></li></ol></li><li class='history-month'><label for='2016-2'>February</label><input type='checkbox'  id='2016-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/scroll-bars-in-blogger-tags'>Scroll bars in Blogger &lt;pre&gt; Tags</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-keep-changes-taking-to-forums'>Google Keep Changes: Taking to the Forums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/backward-step-for-google-keep'>Backward Step for Google Keep</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/recover-virtualbox-snapshots'>Recover VirtualBox Snapshots</a></li></ol></li><li class='history-month'><label for='2016-1'>January</label><input type='checkbox'  id='2016-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/auto-updating-new-windows-7-installation'>Auto Updating a New Windows 7 Installation</a></li></ol></li></ol></li><li class='history-year'><label for='2015'>2015</label><input type='checkbox'  id='2015' /><ol><li class='history-month'><label for='2015-8'>August</label><input type='checkbox'  id='2015-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shoretel-brilliantly-simple'>ShoreTel - Brilliantly Simple?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the-google-photos-management-problems'>The Google Photos Management Problem(s)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-long-lasting-clickonce'>Creating a Long-Lasting ClickOnce Certificate</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/more-encrypted-config-filesclickonce'>More Encrypted Config Files–ClickOnce Complications</a></li></ol></li><li class='history-month'><label for='2015-7'>July</label><input type='checkbox'  id='2015-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/encrypting-appconfig'>Encrypting app.config</a></li></ol></li><li class='history-month'><label for='2015-3'>March</label><input type='checkbox'  id='2015-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/better-google-sites-designthe-notched'>Better Google Sites Design–The Notched Page</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/removing-unremovable-bluetooth-device'>Removing Unremovable Bluetooth Device: FAIL!</a></li></ol></li></ol></li><li class='history-year'><label for='2014'>2014</label><input type='checkbox'  id='2014' /><ol><li class='history-month'><label for='2014-11'>November</label><input type='checkbox'  id='2014-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-savernet-and-similar'>How to remove Savernet (and similar) Chrome extension</a></li></ol></li><li class='history-month'><label for='2014-9'>September</label><input type='checkbox'  id='2014-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/prevent-word-from-restoring-minimized'>Prevent Word from Restoring Minimized Documents</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clever-phish'>Clever Phish</a></li></ol></li><li class='history-month'><label for='2014-8'>August</label><input type='checkbox'  id='2014-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/enable-synaptics-touchpad-2-finger-tap'>Enable Synaptics touchpad 2-finger tap context menu</a></li></ol></li><li class='history-month'><label for='2014-5'>May</label><input type='checkbox'  id='2014-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/installing-fcm-flow-cytrometry-library'>Installing fcm flow cytrometry library on Windows 8.1</a></li></ol></li><li class='history-month'><label for='2014-4'>April</label><input type='checkbox'  id='2014-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-update-1-driver-problem-dtmb'>Windows 8.1 Update 1 Driver Problem DTMB BDA TV USB</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-window-key-s-search-from'>Windows 8.1: Window Key + S = Search from Desktop</a></li></ol></li><li class='history-month'><label for='2014-3'>March</label><input type='checkbox'  id='2014-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-2011-windows-update-one-or-more'>WHS 2011 Windows Update “One or more services are no running” alert</a></li></ol></li><li class='history-month'><label for='2014-2'>February</label><input type='checkbox'  id='2014-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem-continued'>Lenovo U530 Touch WiFi Problem Continued</a></li></ol></li><li class='history-month'><label for='2014-1'>January</label><input type='checkbox'  id='2014-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem'>Lenovo U530 Touch WiFi Problem</a></li></ol></li></ol></li><li class='history-year'><label for='2013'>2013</label><input type='checkbox'  id='2013' /><ol><li class='history-month'><label for='2013-12'>December</label><input type='checkbox'  id='2013-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-connector-restart-error-in-windows'>WHS Connector Restart Error in Windows 8.0/8.1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-apps-from-google-play-my'>How to Remove Apps from Google Play My Apps Site</a></li></ol></li><li class='history-month'><label for='2013-11'>November</label><input type='checkbox'  id='2013-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-hidden-opt-ins-opt-outs'>Windows 8.1 Hidden Opt Ins/ Opt Outs</a></li></ol></li><li class='history-month'><label for='2013-9'>September</label><input type='checkbox'  id='2013-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-epilogue'>Edward Farley and the Fantastic Library Epilogue</a></li></ol></li><li class='history-month'><label for='2013-7'>July</label><input type='checkbox'  id='2013-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-2-end'>A Week (or More!) of JoliCloud - Day 2: THE END</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-1'>A Week (or More!) of JoliCloud - Day 1</a></li></ol></li><li class='history-month'><label for='2013-5'>May</label><input type='checkbox'  id='2013-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-12'>Edward Farley and the Fantastic Library Part 12</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1019'>Edward Farley and the Fantastic Library Part 11</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-10'>Edward Farley and the Fantastic Library Part 10</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-9'>Edward Farley and the Fantastic Library Part 9</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-8'>Edward Farley and the Fantastic Library Part 8</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-7'>Edward Farley and the Fantastic Library Part 7</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-6'>Edward Farley and the Fantastic Library Part 6</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-5'>Edward Farley and the Fantastic Library Part 5</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-4'>Edward Farley and the Fantastic Library Part 4</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-3'>Edward Farley and the Fantastic Library Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-2'>Edward Farley and the Fantastic Library Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1'>Edward Farley and the Fantastic Library Part 1</a></li></ol></li><li class='history-month'><label for='2013-4'>April</label><input type='checkbox'  id='2013-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clean-up-orphaned-sql-users'>Clean Up Orphaned SQL Users</a></li></ol></li><li class='history-month'><label for='2013-3'>March</label><input type='checkbox'  id='2013-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/t-sql-one-to-one-cant-be-done'>T-SQL One to One Can't Be Done</a></li></ol></li><li class='history-month'><label for='2013-1'>January</label><input type='checkbox'  id='2013-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/test-post-with-code'>Migrating Google Drive</a></li></ol></li></ol></li></ol>
        </div>
        <a href="javascript:void(0);" class="icon" onclick="toggleNav()">&#9776;</a>
      </nav>
    </div>
    <div class="col-right">
      <header>
        <div id="site-image">
          <img src="https://www.softwaremeadows.com/images/header.png" alt="" />
        </div>
        <h1 id="site-name"></h1>
        <div id="site-subtitle">A pleasant walk through computing</div>
      </header>
      <section id="content">
        <hr />

        <p id="comment">
          Comment for me? Send an <a href="mailto:charles@tfhome.us?subject=Comment on Home | Software Meadows">email</a>. I might even update the post!
        </p>
        

      </section>
      <!-- posts only appear in home index -->
      <section id="posts">
        
              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></h2>
                <p class='post-info'><span class='posted-on'>2016-08-31 11:07</span></p>
                <div class='post-content'><p><img src="http://www.tvparty.com/bgifs17/aliasdvd.jpg" alt="" />I’ve been a software developer for twenty years, but am behind in some skills. This series chronicles my self-improvement.</p>
<p>It turns out that unit testing exercises a lot of coding methods for more maintainable code. Some methods involve deception, so who better to inspire us than our “Butch Cassidy/Sundance Kid” knockoffs from 70s show <a href="https://en.wikipedia.org/wiki/Alias_Smith_and_Jones">Alias Smith and Jones</a>? The difference is, I’m not trying to “<a href="https://www.youtube.com/watch?v=4nmxLeNd0ck">get out of this business</a>.”</p>
<p>Previously on CUOC: <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-2.html">TDD Part 2</a><br />
Next Episode: <a href="http://www.softwaremeadows.com/2016/11/catching-up-on-coding-claims-based-identity-part-1_6.html">Claims-Based Identity Part 1</a></p>
<p> </p>
<h1 id="teaser">Teaser</h1>
<p>Unit testing benefits from mocking and Inversion of Control. I’d argue that it’s hard to effectively unit test <em>without</em> these techniques. Parts <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-1.html">one</a> and <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-2.html">two</a> of this TDD series used hand-crafted mocking and IoC. Today, we’ll redo some tests using 3rd party tools/frameworks.</p>
<h1 id="act-1-choosing-the-tools">Act 1 – Choosing the Tools</h1>
<p>I researched what developers are recommending for mocking and IoC. Of course, opinions abound, but in the end I came to a few conclusions.</p>
<p><strong>Mocking</strong></p>
<ul>
<li>No one recommends <a href="https://www.hibernatingrhinos.com/oss/rhino-mocks">Rhino Mocks</a> anymore. It appears to be a mostly dead project.</li>
<li><a href="https://github.com/Moq/moq4/wiki/Quickstart">Moq</a> is still used, but is falling out of favor.</li>
<li>Developers like <a href="http://nsubstitute.github.io/">NSubstitute</a> and <a href="https://code.google.com/archive/p/fakeiteasy/">FakeItEasy</a>.</li>
<li>NSubstitute has a more concise API. FakeItEasy is more natural language and less ambiguous.</li>
<li>My reaction to seeing them side-by-side is that I like FIE’s syntax more. I like tests that are immediately easy to understand.</li>
<li>But I’m a little put off by the verbosity, so I’ll try NSubstitute first.</li>
</ul>
<p><em>References</em></p>
<p><a href="https://helloacm.com/c-test-mocking-frameworks/">C# Test Mocking Frameworks</a></p>
<p><a href="http://blog.travisgosselin.com/nsubstitute-a-refreshingly-simple-mocking-framework-for-unit-tests/">NSubstitute: A Refreshingly Simple Mocking Framework for Unit Tests</a></p>
<p><a href="http://weareadaptive.com/2014/09/30/why-nsubstitute/">Mocking: why we picked NSubstitute</a></p>
<p><a href="http://sweetsciencecoding.com/easy-mocking-with-fakeiteasy/">Easy Mocking with FakeItEasy</a></p>
<p><strong>IoC</strong></p>
<ul>
<li>Ninject is the most popular, and has the worst performance (though some developers argue that IoC container performance doesn’t matter).</li>
<li>Unity is supported (for now) by Microsoft, but people have complained about some limitations.</li>
<li>StructureMap, Autofac, and Simple Injector remain as the choices. Based on a few reviews—but mostly gut instinct—I’m going to use Simple Injector. (Autofac would be my second choice.)</li>
</ul>
<p><em>References</em></p>
<p><a href="http://www.palmmedia.de/Blog/2011/8/30/ioc-container-benchmark-performance-comparison">IoC Container Benchmark – Performance comparison</a></p>
<p><a href="http://www.denisoliva.com/2015/09/16/inversion-of-control-ioc-containers-basic-comparison-between-some-ioc-containers/">Inversion of Control Containers Basic Comparison</a></p>
<p><a href="https://cardinalcore.co.uk/2015/01/28/ioc-battle-in-2015-results-using-ninject-think-again/">IoC Battle in 2015 results: Using Ninject – think again!</a></p>
<p><a href="https://lostechies.com/jimmybogard/2015/01/13/generic-variance-in-di-containers/">Generic variance in DI containers</a></p>
<p><a href="https://simpleinjector.codeplex.com/wikipage?title=Migration%20Guide">Simple Injector Migration Guide</a> &lt;-I love that they include how to migrate <em>away</em> from their product. Also serves as a coding comparison.</p>
<h1 id="act-2-making-a-mockery-of-testing">Act 2 – Making a Mockery of Testing</h1>
<h2 id="install-nsubstitute">Install NSubstitute</h2>
<ol>
<li>Install the package into the unit test project using NuGet.</li>
<li>After installation, a nice readme.txt file opens. Read it.</li>
</ol>
<h2 id="replace-a-previous-test">Replace a Previous Test</h2>
<p>In my <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-2.html">previous tests</a>, I created my own mock Registry wrappers from IRegistryWrapper and IRegistryMockWrapper. These are interfaces I created to allow Inversion of Control of the Registry. IRegistryWrapper looks like this</p>
<pre><code class="language-csharp">    public interface IRegistryWrapper
    {
        object GetValue(string keyName, string valueName, object defaultValue);
        void SetValue(string keyName, string valueName, object value, RegistryValueKind valueKind);
    }
</code></pre>
<p>the hand-crafted mock looks like this</p>
<pre><code class="language-csharp">    class RegistryMock : IRegistryWrapper
    {
        public object GetValue(string keyName, string valueName, object defaultValue)
        {
            //this may become cumbersome, but for now specify some return values
            switch (keyName)
            {
                case @&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;:
                    if (valueName == &quot;Version&quot;) return defaultValue;
                    break;
            }
            throw new Exception(&quot;Invalid keyName&quot;);
        }

        public void SetValue(string keyName, string valueName, object value, RegistryValueKind valueKind)
        {
            throw new NotImplementedException();
        }
    }
</code></pre>
<p>here’s the unit test</p>
<pre><code class="language-csharp">    public class RegistryService_GetRegistryKeyValue_Should
    {
        IRegistryWrapper _registry = new RegistryMock();
        IRegistryKeyWrapper _registryKey = new RegistryKeyMock();

        [Fact]
        public void ReturnNullConstantTextIfValueIsMissing()
        {
            var service = new RegistryService(_registry, _registryKey);
            var result = service.GetRegistryKeyValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;);
            Assert.Equal(result, service.NoValue);
        }
    }
</code></pre>
<p>and finally, here's the RegistryService method that passes the test</p>
<pre><code class="language-csharp">        public string GetRegistryKeyValue(string keyName, string valueName)
        {
            try
            {
                //value will be null if no value found, and the default value if the key is missing. But we only care that there's no value.
                //Null can't be returned to the client. Don't return empty, since that's ambigious (did the key exist?).
                //Return a magic string.
                object value = _registry.GetValue(keyName, valueName, null); //guarantees null if no value or missing key.
                return value != null ? value.ToString() : NoValue;

            }
            catch (Exception ex)
            {
                return &quot;Error attempting keyName '&quot; + keyName + &quot;' and valueName '&quot; + valueName + &quot;'\r\n&quot; + ex.GetBaseException().Message;
            }
        }
</code></pre>
<p>All I’m going to do is refactor the test so that I use NSubstitute instead of my own mocks. I’ll need a mock for IRegistryKeyWrapper because the class expects it, but I won’t set any behavior on it.</p>
<blockquote>
<p>Note: remember to add “using NSubstitute;”</p>
</blockquote>
<p>In my hand-crafted mock, I specified return values based on the arguments to GetValue, and otherwise threw an exception. For my unit test, I need to do something similar. Here’s my first attempt, and it does indeed pass.</p>
<pre><code class="language-csharp">            
            var registry = Substitute.For&lt;IRegistryWrapper&gt;();
            var registryKey = Substitute.For&lt;IRegistryKeyWrapper&gt;();
            //Registry.GetValue will return null if the valueName doesn't exist.
            registry.GetValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;, null).Returns(null);
            var service = new RegistryService(registry, registryKey);
            var result = service.GetRegistryKeyValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;);
            Assert.Equal(result, service.NoValue);
</code></pre>
<p>The problem is (or <em>seems to be</em>), if I change the substitute's argument &quot;Version&quot; to &quot;Blamo&quot;, the test still passes. This is happening because given an unknown argument the method will still return null. I need to tell the substitute that it should only return null if it gets the right arguments.</p>
<p><em>Or do I?</em></p>
<p>No, I don’t. I’m attempting to give my mock too much behavior. I <em>only</em> want the mocked Registry to pretend that the value was missing and return null. Elsewhere I’ll test the behavior if the value exists. My hand-crafted mock was eventually going to give me trouble because it was doing too much <em>and</em> it wasn’t really behaving like the Registry class.</p>
<h2 id="the-heart-of-mocking">The Heart of Mocking</h2>
<p>The method I’m testing happens to be  a good one for getting at the essence of mocking. RegistryService.GetValue is <em>almost</em> a pass-through to Registry.GetValue. But, it has its own behavior and is supposed to call Registry.GetValue.</p>
<p>As the developer and tester, I know three things:</p>
<ol>
<li>How external dependencies behave (Microsoft.Win32.Registry).</li>
<li>How my test behaves.</li>
<li>What’s in my method.</li>
</ol>
<p>That last one is the problem. I <em>know</em> my method calls Registry.GetValue(), because I wrote it. But that’s a serious mental mistake when it comes to the test. I need to write my tests, whether before or after, as if I knew nothing about the method’s code. I should pretend the <em>only</em> things I know about the method are:</p>
<ol>
<li>The parameters it’s called with.</li>
<li>The dependencies it has.</li>
<li>The result when it’s called with particular values.</li>
</ol>
<p>In short, my method is a black box. It could be empty, for all I know. That’s why TDD starts with an empty method, so that it fails first. If it succeeds when empty, that’s a problem. When my method has a dependency, I need to only mock up what that dependency will do if it’s called with the expected value.</p>
<p><em>But, I mustn’t assume the mocked dependency has been called at all</em>.</p>
<p>So, here’s how my test should look.</p>
<pre><code class="language-csharp">            //Arrange
            var registry = Substitute.For&lt;IRegistryWrapper&gt;();
            var registryKey = Substitute.For&lt;IRegistryKeyWrapper&gt;();
            //Registry.GetValue will return null if the valueName doesn't exist.
            registry.GetValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;, null).Returns(null);
            var service = new RegistryService(registry, registryKey);
            //Act
            var result = service.GetRegistryKeyValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;);
            //Assert
            //First, make sure the mocked Registry was called at least once. Otherwise, we might have a false positive.
            registry.Received().GetValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;, null);
            //Now make sure we got back the expected value from our method.
            Assert.Equal(result, service.NoValue);
</code></pre>
<p>To sum up, some key lessons of unit testing are:</p>
<ol>
<li>Treat the method under test as a black box.</li>
<li>Test behaviors of the method, not its dependencies.</li>
<li>Verify mocked dependencies are called.</li>
</ol>
<p>A mocking framework gives more value than just controlling return values. It lets you know that your dependencies are being used the way you expect.</p>
<h1 id="act-3-ouch-injecting-dependencies">Act 3 – Ouch! Injecting Dependencies</h1>
<ol>
<li>Interfaces are used in production code to make it easier to inject dependencies.</li>
<li>Mocking frameworks are used in unit testing code to control injected dependencies.</li>
<li>IoC containers are used in production code to manage injected dependencies.</li>
</ol>
<p>For the first two, see <em>Act 2</em>, above.</p>
<p>I don’t <em>have</em>  to use an IoC container. I can write code like this:</p>
<pre><code class="language-csharp">//pass the live registry wrappers
RegistryService service = new RegistryService(new RegistryWrapper(), new RegistryKeyWrapper());
</code></pre>
<p>I could also let my class have default dependencies. This might be OK, as long as the caller knows what to expect. It would be considered &quot;convention over configuration.&quot;</p>
<pre><code class="language-csharp">    public class RegistryService
    {
        private IRegistryWrapper _registry;
        private IRegistryKeyWrapper _registryKey;

        public RegistryService()
        {
            _registry = new RegistryWrapper();
            _registryKey = new RegistryKeyWrapper();
        }
        public RegistryService(IRegistryWrapper registry, IRegistryKeyWrapper key)
        {
            _registry = registry;
            _registryKey = key;
        }
        ...
    }

    //usage, by default uses the Windows Registry.
    var service = new RegistryService();
</code></pre>
<p>For simple cases, using an IoC is overkill. In fact, I would say:</p>
<blockquote>
<p>Don’t use an IoC container unless you have to.</p>
</blockquote>
<p>When do you “have to”?</p>
<ul>
<li>Where there are lots of dependencies.</li>
<li>When you have lots of nested dependencies.</li>
<li>When you want your dependency initialization to be in one place.</li>
</ul>
<p>There are probably other reasons, but those will do for now.</p>
<h2 id="install-simple-injector">Install Simple Injector</h2>
<ol>
<li>Get it from NuGet, install to the project that’s injecting the dependencies.</li>
</ol>
<h2 id="injection">Injection!</h2>
<p>First, I prepare my RegistryService class for dependency injection.</p>
<pre><code class="language-csharp">    public class RegistryService
    {
        private IRegistryWrapper _registry;
        private IRegistryKeyWrapper _registryKey;

        public RegistryService(IRegistryWrapper registry, IRegistryKeyWrapper key)
        {
            _registry = registry;
            _registryKey = key;
        }
</code></pre>
<p>My Windows service, EduAgent, is calling the RegistryService, which is in a separate DLL. I want all my dependencies initialized once, in one place. The service’s Main method is the starting point. But, you know what, to make it easier for another developer, I’ll create a class called DependencyInjection, which we’ll call from Main. That makes it pretty clear where the dependencies are maintained, and how.</p>
<p>All we’re doing here is saying “if I request from ‘container’ a type of IRegistryWrapper, give me an instance of the class RegistryWrapper.”</p>
<pre><code class="language-csharp">    public static class DependencyInjection
    {
        public static Container container;
        public static void InitializeDependencies()
        {
            //create container
            container = new Container();
            //register interfaces
            container.Register&lt;IRegistryWrapper, RegistryWrapper&gt;();
            container.Register&lt;IRegistryKeyWrapper, RegistryKeyWrapper&gt;();
            //register concrete types
            container.Register&lt;RegistryService&gt;();
            //optionally verify
            container.Verify();
        }
    }
</code></pre>
<p>I initialize the dependencies.</p>
<pre><code class="language-csharp">    static class Program
    {
        /// 
        /// The main entry point for the application.
        /// 
        static void Main()
        {
            DependencyInjection.InitializeDependencies();
            ServiceBase[] ServicesToRun;
            ...
</code></pre>
<p>Notice that during initialization, I’m also registering the concrete type RegistryService. I’m doing this so that I can request an instance of RegistryService <em>without</em> passing any constructor arguments. The container knows what to pass in on my behalf.</p>
<pre><code class="language-csharp">   //pass the live registry wrappers, which are auto-wired by Simple Injector
   RegistryService service = DependencyInjection.container.GetInstance&lt;RegistryService&gt;();
</code></pre>
<p>This is the same as if I had done this:</p>
<pre><code class="language-csharp">   RegistryService service = new RegistryService(new RegistryWrapper(), new RegistryKeyWrapper());
</code></pre>
<p>But by using an IoC container, if I use a different (again, fictitious) registry provider, I only need to set it in one place: InitializeDependencies.</p>
<h1 id="tag">Tag</h1>
<p>There’s a lot more to mocking and dependency injection than the above samples show. I ran into a pretty significant problem because my original IRegistryKeyWrapper included IDisposable, which plays hell with dependency injection.</p>
<blockquote>
<p>Lesson: Sometimes these tools add complications. But other times, they reveal problems in your code.</p>
</blockquote>
<p>On the subject of complications, one of the stars of <em>Alias Smith and Jones</em> killed himself during the first season. He suffered from depression and alcoholism. To this day, that makes me sad. <a href="http://www.imdb.com/name/nm0240233/?ref_=fn_al_nm_1">Pete Duel</a>, I miss what you could have done.</p>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3/images/image.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3/images/image.png" alt="image" title="image" /></a></p>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></h2>
                <p class='post-info'><span class='posted-on'>2016-08-24 17:13</span></p>
                <div class='post-content'><p><img src="https://johnkennethmuir.files.wordpress.com/2012/01/journey1.jpg" alt="" /></p>
<p>I’ve been a software developer for twenty years, but am behind in some skills. This series chronicles my self-improvement.</p>
<p>Taking a cue from the 70s and its badass fonts, my <a href="https://en.wikipedia.org/wiki/The_Fantastic_Journey">Fantastic Journey</a> is traveling from skill to skill, trying to escape every software engineer’s Bermuda Triangle: obsolescence. I don’t have Jared Martin’s Sonic Energizer to focus my thoughts and manipulate matter. All I can do is listen to the <a href="https://www.youtube.com/watch?v=fqKEENAGSBo">groovy theme music</a>.</p>
<p>Previously on CUOC: <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-1.html">TDD Part 1</a><br />
Next Episode: <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-3.html">TDD Part 3</a></p>
<p> </p>
<p> </p>
<h1 id="teaser">Teaser</h1>
<p>It’s one thing to practice TDD from the start. It’s another to take legacy code <em>that you wrote</em> and create unit tests for it. My EduAgent project includes a client service that processes requests to update the registry.</p>
<p>Looking at my code, I right away see my first stumbling block: the purpose of the code is changing the registry. For testing, this means:</p>
<ul>
<li>Affecting the registry of whatever computer the tests run on.</li>
<li>Guaranteeing each test starts with a clean environment. What does this mean for parallel testing?</li>
<li>Guaranteeing the registry returns to its original state, regardless of test results.</li>
<li>Not breaking the computer.</li>
</ul>
<p>These are characteristics of integration/functional tests, not unit tests. Should I mock the registry classes to deal with this code?</p>
<pre><code class="language-csharp">object value = Registry.GetValue(keyName, valueName, null);
</code></pre>
<p>If I do—if I <em>can</em>—am I really testing anything? Or am I creating fake conditions that assure the test will pass? There’s a danger, in unit testing, of creating tests that don’t actually test the method: they “test” a mock that will always return the expected value.</p>
<h1 id="act-1-what-i-can-test-what-i-should">Act 1 – What I Can Test, What I Should</h1>
<p>The purpose of mocks is to allow the unit test to focus on what it can test, and ignore what can corrupt the test—assuming what can corrupts the test isn’t exactly what should be tested!</p>
<p>A classic, challenging example is methods that access a database. I don’t want to test if I can access the database. I want to test what I’m doing with the data. For example, consider this class method.</p>
<pre><code class="language-csharp">public class EmployeeInfoService
{
    IEmployeeDbContext _db;
    public EmployeeInfoService(IEmployeeDbContext db) { _db = db; }
    public List GetAverageHourlyPay(int[] employeeIds)
    {
        return from stats in _db.PayStubs
        //...a bunch of code that gets data and calculates the hourly pay by doing this:
                // stats.Hours / stats.Amount
        ;
    }
}
</code></pre>
<p>I don’t care, <em>in the test I’m about to write,</em> if I can access the database, or if the database is returning the right data, or breaks when I hand it a list of EmployeeIds. All I care about is whether the method properly does the math given specific numbers. So, I’d mock the EmployeeDbContext and fabricate the numbers.</p>
<pre><code class="language-csharp"> [Fact]
    public void EmployeeInfoService_GetAverageHourlyPay_Should_Correctly_Calculate()
    {
        var db = new MockEmployeeDbContext();
        //...add a bunch of test data to the mock, then pass it to service
        var service = new EmployeeInfoService(db);
        var list = service.GetAverageHourlyPay(new int[] { 1, 2, 3 });
        Assert.Equals(23.34, list[0].AverageHourlyPay);
        Assert.Equals(17.98, list[1].AverageHourlyPay);
    }
</code></pre>
<p>Contrast that to this method.</p>
<pre><code class="language-csharp">    public string[] GetEmployeeNames()
    {      return _db.Employees.Select(a =&gt; a.Name).ToArray();
    }
</code></pre>
<p>Is there any reason to create a unit test for this method? I don’t think so. The test would look something like this.</p>
<pre><code class="language-csharp">    [Fact]
    public void EmployeeInfoService_GetEmployeeNames_Should_Return_A_List_Of_Names()
    {
        var db = new MockEmployeeDbContext();
        //...add a bunch of mock Employees with names, then pass to service
        var service = new EmployeeInfoService(db);
        var list = service.GetEmployeeNames();
        Assert.True(list.Contains(&quot;Varian&quot;));
    }
</code></pre>
<p>This gets us nothing. All we did was test that our mocking framework works. So…</p>
<blockquote>
<p>Lesson 1: Be sure you’re testing something that can fail.</p>
</blockquote>
<h1 id="act-2-the-simple-test">Act 2 – The Simple Test</h1>
<p>For my RegistryService class, I have a different problem as stated above. Can I even mock the .Net Registry class? We’ll look at that shortly. For right now, I’ll evaluate all the methods and see which ones I can test without mocking. Here’s the complete list:</p>
<ul>
<li>ProcessRequest</li>
<li>GetRegistryKeyValue</li>
<li>GetRegistryValueKind</li>
<li>SetRegistryKeyValue</li>
<li>DeleteRegistryKey</li>
<li>DeleteRegistryValue</li>
<li>OpenSubKey64</li>
<li>ParseRegistryHive</li>
<li>NotifyAppsOfRegistryChange</li>
</ul>
<p>Of all these, just one doesn’t require using registry data: ParseRegistryHive. The method’s purpose is to return the hive enum given a string.</p>
<pre><code class="language-csharp">        public static RegistryHive ParseRegistryHive(string hiveName)
        {
            if (hiveName.ToUpper() == &quot;HKEY_CLASSES_ROOT&quot;) { return RegistryHive.ClassesRoot; }
            else if (hiveName.ToUpper() == &quot;HKEY_CURRENT_USER&quot;) { return RegistryHive.CurrentUser; }
            else if (hiveName.ToUpper() == &quot;HKEY_LOCAL_MACHINE&quot;) { return RegistryHive.LocalMachine; }
            else if (hiveName.ToUpper() == &quot;HKEY_USERS&quot;) { return RegistryHive.Users; }
            else if (hiveName.ToUpper() == &quot;HKEY_CURRENT_CONFIG&quot;) { return RegistryHive.CurrentConfig; }
            //last chance, will throw error if invalid
            else return (RegistryHive)Enum.Parse(typeof(RegistryHive), hiveName);
        }
</code></pre>
<p>I’m using xUnit.net for my unit testing. xUnit’s Theories are pretty nice, allowing testing sets of data. My tests verify that the method throws errors—or doesn’t—appropriately, and also that it returns the correct hive. I wrote a note to myself about that last one, summed up as:</p>
<blockquote>
<p>Lesson 2: Don’t copy/paste any code from your test into the method you’re testing. What if your test has a bug?</p>
</blockquote>
<pre><code class="language-csharp">    public class RegistryService_ParseRegistryHive_Should
    {
        [Theory]
        [InlineData(&quot;HKEY_CLASSES_ROOT&quot;)]
        [InlineData(&quot;HKEY_CURRENT_USER&quot;)]
        [InlineData(&quot;HKEY_LOCAL_MACHINE&quot;)]
        [InlineData(&quot;HKEY_USERS&quot;)]
        [InlineData(&quot;HKEY_CURRENT_CONFIG&quot;)]
        [InlineData(&quot;hkey_current_config&quot;)]
        public void NotThrowErrorWithValidHive(string name)
        {
            var hive = RegistryService.ParseRegistryHive(name);
        }

        [Theory]
        [InlineData(&quot;HKEY_CLASSES_ROOT&quot;)]
        [InlineData(&quot;HKEY_CURRENT_USER&quot;)]
        [InlineData(&quot;HKEY_LOCAL_MACHINE&quot;)]
        [InlineData(&quot;HKEY_USERS&quot;)]
        [InlineData(&quot;HKEY_CURRENT_CONFIG&quot;)]
        public void ReturnCorrectEnumWithValidHive(string name)
        {
            //This basically reproduces the method code. Need to NOT copy/paste from method, but
            //instead rewrite. In TDD, would NOT copy/paste from the test, otherwise there's a danger
            //the test duplicates a wrong condition.
            var hive = RegistryService.ParseRegistryHive(name);
            switch (name)
            {
                case &quot;HKEY_CLASSES_ROOT&quot;:
                    Assert.True(hive == Microsoft.Win32.RegistryHive.ClassesRoot);
                    break;
                case &quot;HKEY_CURRENT_USER&quot;:
                    Assert.True(hive == Microsoft.Win32.RegistryHive.CurrentUser);
                    break;
                case &quot;HKEY_LOCAL_MACHINE&quot;:
                    Assert.True(hive == Microsoft.Win32.RegistryHive.LocalMachine);
                    break;
                case &quot;HKEY_USERS&quot;:
                    Assert.True(hive == Microsoft.Win32.RegistryHive.Users);
                    break;
                case &quot;HKEY_CURRENT_CONFIG&quot;:
                    Assert.True(hive == Microsoft.Win32.RegistryHive.CurrentConfig);
                    break;
                default:
                    Assert.True(false,name + &quot; didn't return a valid hive. Hive enum returned was &quot; + hive);
                    break;
            }
        }

        [Theory]
        [InlineData(&quot;fail&quot;)]
        [InlineData(&quot;&quot;)]
        public void ThrowErrorWithInvalidHive(string name)
        {
            Assert.Throws(() =&gt;  RegistryService.ParseRegistryHive(name));
        }
    }
</code></pre>
<h1 id="act-3-testing-the-difficult-mock-it-or">Act 3 – Testing the Difficult: Mock it, or . . .</h1>
<p>I’ve been putting it off long enough. What about the rest of the methods? You know, the ones that could <em>completely screw up my registry?</em></p>
<p>First, which methods do testable work? Some of them are just wrappers so that I can get back a better error message, for example:</p>
<pre><code class="language-csharp">        public static void SetRegistryKeyValue(string keyName, string valueName, string value, RegistryValueKind dataType = RegistryValueKind.String)
        {
            try
            {
                Registry.SetValue(keyName, valueName, value, dataType);
            }
            catch (Exception ex)
            {
                throw new Exception(&quot;Error setting registry value keyName '&quot; + keyName + &quot;', valueName '&quot; + valueName + &quot;, value '&quot; + value + &quot;'\r\n&quot; + ex.GetBaseException().Message);
            }
        }
</code></pre>
<p>Do I need to test this? Well, I’d <em>like</em> to test that I get back the right exception, so…hmm. OK, let’s see if anyone has mocked the registry.</p>
<ul>
<li><a href="https://msdn.microsoft.com/en-us/library/hh549175(v=vs.140).aspx">Microsoft Fake Framework</a> – Great if you have Visual Studio Enterprise and are, therefore, wealthy. (Here’s a <a href="http://stackoverflow.com/a/29701802/1628707">Stack Overflow</a> example.)</li>
<li><a href="https://github.com/jozefizso/SystemWrapper">SystemWrapper</a>, which wraps a lot of .Net assemblies. Here’s an <a href="http://www.rhyous.com/2011/11/04/unit-testing-registry-access-with-rhinomocks-and-systemwrapper/">article by a project contributor</a>, and uses RhinoMocks.</li>
<li>The following allow mocking classes without interfaces (but I don’t know if the class methods must be virtual): <a href="https://www.typemock.com/">“TypeMock</a> <em>(paid)</em>, <a href="http://www.telerik.com/products/mocking.aspx">JustMock</a> <em>(paid)</em>, or <a href="http://urasandesu.github.io/Prig/">Prig</a> <em>(free + open source)</em>.”</li>
</ul>
<p>In the last bullet, I quote from an excellent Stack Overflow response on the subject. In fact, here are two comments.</p>
<ul>
<li>Is it recommended to mock a concrete class? <a href="http://stackoverflow.com/a/12187583/1628707">Response by David Tchepak</a></li>
<li>Is it recommended to mock a concrete class? <a href="http://stackoverflow.com/a/15164143/1628707">Response by Michael Freidgeim</a></li>
</ul>
<p>The research tells me I have two choices:</p>
<ol>
<li>Mock the concrete Registry class</li>
<li>Use a wrapper around the Registry class</li>
</ol>
<p>I looked at the Prig example. Whew! That’s a lot of setup! And I’m not prepared to pay for TypeMock or JustMock, though I expect they’re excellent.</p>
<p>This means wrapping the Registry class. Before I try out SystemWrapper, I’m going to create my own wrapper. I want to understand what’s involved. (This is self-education, after all!) The methods I’m using are:</p>
<p>Registry.GetValue<br />
Registry.SetValue<br />
RegistryKey.GetValueKind<br />
RegistryKey.DeleteSubKey<br />
RegistryKey.DeleteValue<br />
RegistryKey.OpenBaseKey<br />
RegistryKey.OpenBaseKey.OpenSubKey</p>
<p>All right, boys! Wrap…That…Code!!!</p>
<p>I had to rethink my whole approach to my RegistryService class, which consumes the Microsoft.Win32.Registry. Originally I wrote it as a static class, since it didn’t need to be instantiated. But this class now could depend on different “registry providers.” I want to protect the class from being misused. A static SetRegistryProvider method won’t work, because of the danger that in production one caller sets it one way and another sets it differently. It’s the same as if a class could use more than one database back end; you wouldn’t make it static. The solution was to remove static, and make the class entirely instance-able.</p>
<p>Moving on, the Registry wrapper is pretty straight forward. The oddity is that I’m wrapping a static class in an instance.</p>
<pre><code class="language-csharp">    public interface IRegistryWrapper
    {
        object GetValue(string keyName, string valueName, object defaultValue);
        void SetValue(string keyName, string valueName, object value, RegistryValueKind valueKind);
    }

    public class RegistryWrapper : IRegistryWrapper
    {
        public object GetValue(string keyName, string valueName, object defaultValue)
        {
            return Registry.GetValue(keyName, valueName, defaultValue);
        }

        public void SetValue(string keyName, string valueName, object value, RegistryValueKind valueKind)
        {
            Registry.SetValue(keyName, valueName, value, valueKind);
        }
    }
</code></pre>
<p>The RegistryKey wrapper presented a challenge. The constructor for RegistryKey is private. You cannot create an instance of RegistryKey this way:</p>
<pre><code class="language-csharp">RegistryKey key = new RegistryKey(); //this won't compile
</code></pre>
<p>Instead, instances are created using the static method OpenBaseKey().</p>
<pre><code class="language-csharp">RegistryKey key = RegistryKey.OpenBaseKey(RegistryHive.CurrentUser, RegistryView.Registry64);
</code></pre>
<p>My abstraction needs to be clear, I want to create an interface, but interfaces can’t have static members.</p>
<p>A base key is <em>required</em> for RegistryKey to function, therefore it’s required for my wrapper to function. But the RegistryService class, which uses RegistryKey, encapsulates which base key will be used; each method could instantiate its own RegistryKey with different base keys. For example:</p>
<pre><code class="language-csharp">public void DeletePluginVersionValue(string id)
{
    //_registryKey was injected via the constructor
    RegistryKey basekey = RegistryKey.OpenBaseKey(RegistryHive.LocalMachine, RegistryView.Default);
    using (RegistryKey key = basekey.OpenSubKey(@&quot;SOFTWARE\EduAgent\RegistryPlugin&quot;, false))
    {
        key.DeleteValue(&quot;Value&quot;);
        key.Close();
    }
}
</code></pre>
<p>My abstracted class is going to work similarly.</p>
<pre><code class="language-csharp">public void DeletePluginVersionValue(string id)
{
    //_registryKey was injected via the constructor
    IRegistryKeyWrapper basekey = _registryKey.OpenBaseKey(RegistryHive.LocalMachine, RegistryView.Default);
    using (IRegistryKeyWrapper key = basekey.OpenSubKey(@&quot;SOFTWARE\EduAgent\RegistryPlugin&quot;,false))
    {
        key.DeleteValue(&quot;Value&quot;);
        key.Close();
    }
}
</code></pre>
<p>But for testing, I need to pass in a non-null class instance that implements an interface, but does <em>not</em> have a base class yet. I <em>can’t</em> do this:</p>
<pre><code class="language-csharp">    public interface IRegistryKeyWrapper: IDisposable
    {
        IRegistryKeyWrapper OpenSubKey(string name, bool writable);
        //originally static
        IRegistryKeyWrapper OpenBaseKey(RegistryHive hKey, RegistryView view);
    }

    public class RegistryKeyWrapper : IRegistryKeyWrapper
    {
        private RegistryKey _baseKey;
        private RegistryKeyWrapper(RegistryKey key)
        {
            _baseKey = key;
        }
        //etc.
</code></pre>
<p>Why not? Follow along.</p>
<p>The RegistryService constructor:</p>
<pre><code class="language-csharp">    public class RegistryService
    {
        private IRegistryWrapper _registry;
        private IRegistryKeyWrapper _registryKey;

        public RegistryService(IRegistryWrapper registry, IRegistryKeyWrapper key)
        {
            _registry = registry;
            _registryKey = key;
        }
</code></pre>
<p>Using the RegistryService:</p>
<pre><code class="language-csharp">//this won't compile; RegistryKeyWrapper requires base key!
RegistryService service = new RegistryService(new RegistryWrapper(), new RegistryKeyWrapper());
</code></pre>
<p>I <em>need</em> to be able to create a new RegistryKeyWrapper(), but my live registry wrapper right now requires an actual registry base key. The (unfortunate) solution is to allow the user to create an instance of the class that can’t work.</p>
<pre><code class="language-csharp">    public class RegistryKeyWrapper : IRegistryKeyWrapper
    {
        private RegistryKey _baseKey;

        /// 
        /// Note the class can't be used until instantiated using OpenBaseKey or setting to another RegistryKeyWrapper.
        /// This constructor is here to allow an instance to be passed via dependency injection.
        /// 
        public RegistryKeyWrapper() { }

        private RegistryKeyWrapper(RegistryKey key)
        {
            _baseKey = key;
        }
</code></pre>
<p>In the RegistryService example, above, if the user were to use _registryKey immediately, without setting it using OpeBaseKey, it would fail because the private variable _baseKey has not been set.</p>
<p>I wouldn’t call this ideal, but it does allow us to test the class.</p>
<p><strong>EDIT 8/31/16<br />
-------------------------------------------------------------</strong></p>
<p><strong>Not only is it not ideal, but it’s not even good. What I’m trying to do is wrap RegistryKey in a pass-through manner. But that’s a mistake, because it implements IDisposable and in my wrapper I <em>should not</em> implement IDisposable.</strong></p>
<p><strong>In a later post, I’ll explain how I rewrote my RegistryKey wrapper in a better way. It doesn’t affect the validity of the info in this post.</strong></p>
<p><strong>-------------------------------------------------------------</strong></p>
<p>First, I’ll fix up my previous tests for ParseRegistryHive that relied on Registry. In my unit test project I create the mock classes. At this point, I don’t even make the classes work, since ParseRegistryHive doesn’t depend on any methods.</p>
<pre><code class="language-csharp">    class RegistryMock : IRegistryWrapper
    {
        public object GetValue(string keyName, string valueName, object defaultValue)
        {
            throw new NotImplementedException();
        }

        public void SetValue(string keyName, string valueName, object value, RegistryValueKind valueKind)
        {
            throw new NotImplementedException();
        }
    }
</code></pre>
<p>And update a test to use the new service, passing in the mocks.</p>
<pre><code class="language-csharp">        IRegistryWrapper _registry = new RegistryMock();
        IRegistryKeyWrapper _registryKey = new RegistryKeyMock();
                
        [Theory]
        [InlineData(&quot;HKEY_CLASSES_ROOT&quot;)]
        [InlineData(&quot;HKEY_CURRENT_USER&quot;)]
        [InlineData(&quot;HKEY_LOCAL_MACHINE&quot;)]
        [InlineData(&quot;HKEY_USERS&quot;)]
        [InlineData(&quot;HKEY_CURRENT_CONFIG&quot;)]
        [InlineData(&quot;hkey_current_config&quot;)]
        public void NotThrowErrorWithValidHive(string name)
        {
            var service = new RegistryService(_registry, _registryKey);
            var hive = service.ParseRegistryHive(name);
        }
</code></pre>
<p>Now, create a test for the RegistryMock.</p>
<pre><code class="language-csharp">    public class RegistryService_GetRegistryKeyValue_Should
    {
        IRegistryWrapper _registry = new RegistryMock();
        IRegistryKeyWrapper _registryKey = new RegistryKeyMock();

        [Fact]
        public void ReturnNullConstantTextIfValueIsMissing()
        {
            var service = new RegistryService(_registry, _registryKey);
            var result = service.GetRegistryKeyValue(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;, &quot;Version&quot;);
            Assert.Equal(result, service.NoValue);
        }
    }
</code></pre>
<p>Which requires RegistryMock.GetValue to be implemented:</p>
<pre><code class="language-csharp">    class RegistryMock : IRegistryWrapper
    {
        public object GetValue(string keyName, string valueName, object defaultValue)
        {
            //this may become cumbersome, but for now specify some return values
            switch (keyName)
            {
                case @&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgent&quot;:
                    if (valueName == &quot;Version&quot;) return defaultValue;
                    break;
            }
            throw new Exception(&quot;Invalid keyName&quot;);
        }
</code></pre>
<p>Running the test, it passes.</p>
<p>Next up, using the RegistryKeyMock. Here’s the test:</p>
<pre><code class="language-csharp">    public class RegistryService_OpenSubKey64_Should
    {
        IRegistryWrapper _registry = new RegistryMock();
        IRegistryKeyWrapper _registryKey = new RegistryKeyMock();

        [Fact]
        public void ThrowExceptionWhenUsingInvalidKey()
        {
            var service = new RegistryService(_registry, _registryKey);
            var ex = Assert.Throws(() =&gt; service.OpenSubKey64(@&quot;HKEY_LOCAL_MACHINE\SOFTWARE\EduAgentMissing&quot;));
            Assert.Equal(&quot;Error opening subkey 'HKEY_LOCAL_MACHINE\\SOFTWARE\\EduAgentMissing'. Operation returned null.&quot;, ex.Message);
        }
    }
</code></pre>
<p>Here are the relevant methods I had to implement. This one was kind of tricky because I have to set properties that are read only. I’m making use of the latest C# language features to set the value of read only properties in the constructor. I also needed a helper method to return the string representation of a hive name.</p>
<pre><code class="language-csharp">    public class RegistryKeyMock : IRegistryKeyWrapper
    {
        public RegistryKeyMock() { }
        public RegistryKeyMock(string name, int subKeyCount, int valueCount, RegistryView view)
        {
            Name = name;
            SubKeyCount = subKeyCount;
            ValueCount = valueCount;
            View = view;
        }

        public string Name { get; }
        public int SubKeyCount { get; }
        public int ValueCount { get; }
        public RegistryView View { get; }

        public IRegistryKeyWrapper OpenBaseKey(RegistryHive hKey, RegistryView view)
        {
            return new RegistryKeyMock(HiveToString(hKey), 10, 10, view);
        }

        public IRegistryKeyWrapper OpenSubKey(string name, bool writable)
        {
            if (name == @&quot;SOFTWARE\EduAgentMissing&quot;)
                return null;
            return new RegistryKeyMock(Name + &quot;\\&quot; + name, SubKeyCount, ValueCount, View);
        }

        private string HiveToString(RegistryHive hive)
        {
            string key = &quot;HKEY_&quot;;
            if (hive == RegistryHive.ClassesRoot) return key + &quot;CLASSES_ROOT&quot;;
            if (hive == RegistryHive.CurrentConfig) return key + &quot;CURRENT_CONFIG&quot;;
            if (hive == RegistryHive.CurrentUser) return key + &quot;CURRENT_USER&quot;;
            if (hive == RegistryHive.LocalMachine) return key + &quot;LOCAL_MACHINE&quot;;
            if (hive == RegistryHive.Users) return key + &quot;USERS&quot;;
            return &quot;&quot;;
        }
    }
</code></pre>
<p>Test it, it passes, love those green lights!</p>
<h1 id="tag">Tag</h1>
<p>This was like a special made-for-TV movie of <em>Fantastic Journey</em>. With all the stuff I’ve done, what haven’t I? Well, there are two big ones:</p>
<ul>
<li>Use a mocking framework such as <a href="https://github.com/Moq/moq4">Moq</a> or <a href="https://www.hibernatingrhinos.com/oss/rhino-mocks">RhinoMocks</a></li>
<li>Use an Inversion of Control container such as <a href="http://www.ninject.org/">Ninject</a> or <a href="https://github.com/unitycontainer/unity">Unity</a>.</li>
</ul>
<p>But I’m leaving those for a future post. Otherwise, like our intrepid explorers, I’ll be canceled and never get back to my own time and place.</p>
<p><img src="http://epguides.com/FantasticJourney/cast.jpg" alt="" /></p>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></h2>
                <p class='post-info'><span class='posted-on'>2016-08-18 16:56</span></p>
                <div class='post-content'><p><img src="https://i.ytimg.com/vi/tfeeeaEmDtM/hqdefault.jpg" alt="" />I’ve been a software developer for twenty years, but am behind in some skills. This series chronicles my self-improvement.</p>
<p>There are some pretty high-tech tools out there, but nothing that matches the inspiration provided in the 70s TV show “<a href="https://en.wikipedia.org/wiki/Search_(TV_series)">Search</a>” (originally “Probe”). I don’t have Burgess Meredith, a Probe Scanner or a <a href="https://www.youtube.com/watch?v=Axb1EiJdbCg">catchy theme song</a> to help me out, so, like Hugh O’Brian, I’ll have to rely on my wits and <a href="https://en.wikipedia.org/wiki/Test-driven_development">Test Driven Development (TDD)</a>.</p>
<p>Previously, on CUOC: <a href="http://www.softwaremeadows.com/2016/07/catching-up-on-coding-syllabus.html">The Syllabus</a>.<br />
Next Episode: <a href="http://www.softwaremeadows.com/2016/08/catching-up-on-coding-tdd-part-2.html">TDD Part 2</a></p>
<p> </p>
<h1 id="teaser">Teaser</h1>
<p>I’m not truly new to TDD. I <em>wrote</em> a (not very good) unit testing framework for Visual Basic 6 back in 2000. I’ve used TDD in professional projects. But now it’s time to make it a habit. To do that, I need a crash coarse, then retrofit my EduAgent code (applying “Test Eventually Development”) before writing new code.</p>
<h1 id="act-1-the-elemental-education">Act 1 – The Elemental Education</h1>
<p>Let’s give primary credit where it’s due. I read James Bender’s blog <a href="http://www.telerik.com/blogs/30-days-tdd-day-one-what-is-tdd">30 Days of TDD</a>. Bender’s series is very good overall. He does—frustratingly--have sloppy grammar and punctuation errors in every post. But his information is otherwise clear and solid. In fact, his description of SOLID is one of the best I’ve read. Thanks, James!</p>
<p>But first things first: what problem was TDD trying to solve?</p>
<p>Programmers, being human, don’t like to test our work. Most of us find it as hard as writers self-editing or composers checking for wrong notes. We <em>like</em> QA departments because they find our (careless) mistakes for us. We <em>pretend</em> to hate QA, because we pretend we’re egotistical Greek gods incapable of flaw.</p>
<p>Unit testing frameworks allowed testing the public interface of our classes. But that wasn’t enough. Kent Beck encouraged an upside-down approach to writing code, where we write a failing test first, then make it pass. This naturally builds up a library of tests that can be run quickly, reducing the chance of new features breaking the application, and building developer confidence. It also turned out that creating easily testable methods led to generally more maintainable code. Thus, some people revised TDD to mean test-driven <em>design</em>.</p>
<p>What are the elements of TDD? What’s needed to build testable code?</p>
<h1 id="section"></h1>
<h2 id="elements">Elements</h2>
<ul>
<li>Test framework such as <a href="http://nunit.org/index.php?p=home">NUnit</a> and <a href="https://xunit.github.io/docs/getting-started-desktop.html">xUnit.net</a></li>
<li><a href="https://xunit.github.io/docs/getting-started-desktop.html#run-tests-visualstudio">Test runner</a>, for executing tests and viewing results.</li>
<li>Dependency Inversion (depend on abstractions) and Dependency Injection (decouple dependencies). Both are covered pretty well in <a href="http://www.codeproject.com/Articles/615139/An-Absolute-Beginners-Tutorial-on-Dependency-Inver">this article</a>.</li>
<li><a href="http://www.telerik.com/blogs/30-days-of-tdd-day-11-what-s-the-deal-with-mocking">Mocking</a> (control results from external resources, such as databases)</li>
<li><a href="http://www.telerik.com/blogs/30-days-of-tdd-day-nine-refactoring-basics">Refactoring</a> (improving code maintainability without changing the public interface)</li>
</ul>
<h1 id="act-2-some-code-a-test">Act 2 – Some Code, a Test</h1>
<p>Here’s a simple example of TDD, creating code that needs to be tested, and problems with it. I’m using xUnit.Net because I’ve always liked it. I won’t go into how to set up your environment; you can learn that at <a href="https://xunit.github.io/docs/getting-started-desktop.html">Getting Started with xUnit.net</a>. However, I do have three tips for using the VS Test Runner (which you open via Test &gt; Windows &gt; Test Explorer).</p>
<ul>
<li><p>Tear off the Test Explorer into its own window, so that you can easily resize and see all the tests.<br />
<a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image_3.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image_3.png" alt="image" title="image" /></a></p>
</li>
<li><p>Group the test results by class<br />
<a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image_5.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image_5.png" alt="image" title="image" /></a></p>
</li>
<li><p>In your unit test project, add an app.config file with the following setting. This causes the result to display only the method name instead of the fully qualified name.</p>
<pre><code class="language-csharp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
  &lt;appSettings&gt;
    &lt;add key=&quot;xunit.methodDisplay&quot; value=&quot;method&quot;/&gt;
  &lt;/appSettings&gt;
&lt;/configuration&gt;
</code></pre>
</li>
</ul>
<p>Our contrived application helps teachers grade coursework. We’re writing a class dealing with the coursework, and we’re consuming a third-party service—GradeMark—that returns a grade. One challenge, however, is we don’t control the grade that GradeMark returns given a set of scores. It depends on however the school has configured it. So, today 90% or higher could be an “A,” but tomorrow 93% or higher could be an “A.”</p>
<p>Our CourseWork class will have two methods. One that returns a percentage, and the other that returns a grade message. The grade in the message will come from the GradeMark “service,” and we’ll eventually have to mock that service.</p>
<p>First, in CourseWork, create a GetPercent function that doesn’t work. We want a failing test.</p>
<pre><code class="language-csharp">    public class CourseWork
    {
        public decimal GetPercent(decimal actual, decimal maximum)
        {
            throw new NotImplementedException();
        }
    }
</code></pre>
<p>In the unit tests project, create the test. Notice the naming convention I’m using along with nested classes; this will help make the test results readable. There are <a href="https://dzone.com/articles/7-popular-unit-test-naming">lots of naming conventions</a> out there. Consistency and clarity are the big deals.</p>
<p>Our first test checks that we get back a percent in a particular format. We want “a hundred percent” to return as 100.00.</p>
<pre><code class="language-csharp">    public class BasicTdd
    {
        public class CourseWork_GetPercent_Should
        {
            [Fact]
            public void Return100PercentAs100PointZero()
            {
                var cw = new CourseWork();
                decimal percent = cw.GetPercent(100, 100);
                Assert.Equal(100m, percent);
            }
        }
    }
</code></pre>
<p>Run it and it fails.</p>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image.png" alt="image" title="image" /></a></p>
<p>Write enough code for the test to pass.</p>
<pre><code class="language-csharp">        public decimal GetPercent(decimal actual, decimal maximum)
        {
            decimal result = (actual / maximum) * 100m;
            return result;
        }
</code></pre>
<p>Run the test and it passes.</p>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-001.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-001.png" alt="image" title="image" /></a></p>
<p>Our next test will check if the result is rounded. This does <em>not</em> depend on the first test; they could be run in reverse order.</p>
<pre><code class="language-csharp">    public class BasicTdd
    {
        public class CourseWork_GetPercent_Should
        {
            [Fact]
            public void RoundPercentToTwoDecimalPlaces()
            {
                var cw = new CourseWork();
                var percent = cw.GetPercent(1, 7);
                var roundedPercent = Math.Round(percent, 2);
                Assert.Equal(roundedPercent, percent);
            }
        }
    }
</code></pre>
<p>Run it, and it fails.</p>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-002.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-002.png" alt="image" title="image" /></a></p>
<p>Update the code to make it pass.</p>
<pre><code class="language-csharp">        public decimal GetPercent(decimal actual, decimal maximum)
        {
            decimal result = Math.Round((actual / maximum) * 100m,2);
            return result;
        }
</code></pre>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-003.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-003.png" alt="image" title="image" /></a></p>
<p>That’s enough to demonstrate a basic test. Now, on to something that will require mocking.</p>
<h1 id="act-3-mocu-mental-grades">Act 3 – Mocu-mental Grades</h1>
<p>Let’s create a class that represents our fictional third-party service, GradeMark. Remember, it returns a grade when supplied a percent, but we can’t depend on what that grade will be. For our dummy service, we won’t even use the percent parameter.</p>
<pre><code class="language-csharp">    public class GradeMarkService
    {
        public string GetGrade(decimal percent)
        {
            var rnd = new Random();
            int code = rnd.Next(65, 70);
            return ((char)code).ToString();
        }
    }
</code></pre>
<p>We’re just returning a random letter A-D (no failures in our courses!). Back in our CourseWork class, we’ll start a function that returns a grade, and write a test for it that will fail. Here’s the test.</p>
<pre><code class="language-csharp">        public class CourseWork_GetGradeMessage_Should
        {
            [Fact]
            public void ReturnTheCorrectlyFormattedMessage()
            {
                var cw = new CourseWork();
                string msg = cw.GetGradeMessage(4, 15); //these values don't matter
                string expected = &quot;The grade is B&quot;;
                Assert.Equal(expected, msg);
            }
        }
</code></pre>
<p>What we’re testing is getting the expected message text. We’re <em>not</em> testing if GetPercent works, and we’re <em>not</em> testing if the GradeMark service works. When we run the test, it fails, so we write this code to try to make it pass. Some people would say that we shouldn’t bother with the GradeMark service yet, but let’s assume we’re at that point.</p>
<pre><code class="language-csharp">        public string GetGradeMessage(decimal actual, decimal maximum)
        {
            var service = new GradeMarkService();
            return &quot;The grade is &quot; + service.GetGrade(GetPercent(actual, maximum));
        }
</code></pre>
<p>We got lucky; it failed. But, remember, we can’t guarantee what letter grade will be returned. It could have passed. Run the tests enough times and it <em>will</em> pass.</p>
<p><a href="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-004.png"><img src="https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1/images/image-004.png" alt="image" title="image" /></a></p>
<p>Our GetGradeMessage function has a dependency on the GradeMark service, and is tightly coupled to it. We need to loosely couple that dependency by injecting it. We could do that at the method level, like this:</p>
<pre><code class="language-csharp">        public string GetGradeMessage(decimal actual, decimal maximum, GradeMarkService gradeService)
        {
            return &quot;The grade is &quot; + gradeService.GetGrade(GetPercent(actual, maximum));
        }
</code></pre>
<p>But, typically, a service like this is consumed by the class. So, we’ll inject it in the class’s constructor.</p>
<pre><code class="language-csharp">    public class CourseWork
    {
        GradeMarkService _gradeService;

        public CourseWork(GradeMarkService gradeService)
        {
            _gradeService = gradeService;
        }

        public string GetGradeMessage(decimal actual, decimal maximum)
        {
            return &quot;The grade is &quot; + _gradeService.GetGrade(GetPercent(actual, maximum));
        }
</code></pre>
<p>Great, but that doesn’t really help us, does it? We still need a GradeMarkService to pass in during our test, <em>and</em> control the letter grade it returns. Using some mocking frameworks, it’s possible to mock a legacy object. But in this case, we’re hoping for one of two things from our vendor to make our lives easier.</p>
<p><strong>An Interface</strong></p>
<p>Ideally, our vendor has programmed to an interface, using the Dependency Inversion Principle. We’ll simulate that in our fictional service class.</p>
<pre><code class="language-csharp">    public interface IGrader
    {
        string GetGrade(decimal percent);
    }

    public class GradeMarkService: IGrader
    {
        public string GetGrade(decimal percent)
        {
            var rnd = new Random();
            int code = rnd.Next(65, 70);
            return ((char)code).ToString();
        }
    }
</code></pre>
<p>Next, we update our class to inject the <em>interface we’re testing</em>, instead of the concrete instance.</p>
<pre><code class="language-csharp">    public class CourseWork
    {   IGrader _gradeService;

        public CourseWork(IGrader gradeService)
        {
            _gradeService = gradeService;
        }
</code></pre>
<p>Our class is now ready for testing. We don’t need the GradeMarkService. We just need our own mock class implementing the required interface. Back in our test project, we’ll create that.</p>
<pre><code class="language-csharp">    public class GradeMarkServiceMock: IGrader
    {
        public string GetGrade(decimal percent)
        {
            return &quot;B&quot;;
        }
    }
</code></pre>
<p>And, update our tests to accept the mock object.</p>
<pre><code class="language-csharp">            [Fact]
            public void Return100PercentAs100PointZero()
            {
                var cw = new CourseWork(new GradeMarkServiceMock());
                decimal percent = cw.GetPercent(1, 1);
                Assert.Equal(100m, percent);
            }
            [Fact]
            public void RoundPercentToTwoDecimalPlaces()
            {
                var cw = new CourseWork(new GradeMarkServiceMock());
                var percent = cw.GetPercent(1, 7);
                var roundedPercent = Math.Round(percent, 2);
                Assert.Equal(roundedPercent, percent);
            }
        }

        public class CourseWork_GetGradeMessage_Should
        {
            [Fact]
            public void ReturnTheCorrectlyFormattedMessage()
            {
                var cw = new CourseWork(new GradeMarkServiceMock());
                string msg = cw.GetGradeMessage(4, 15); //these values don't matter
                string expected = &quot;The grade is B&quot;;
                Assert.Equal(expected, msg);
            }
        }
</code></pre>
<p>When we run our tests a few times, the GetGradeMessage test passes consistently.</p>
<p><strong>An overridable class</strong></p>
<p>Our vendor could also have made the GetGrade method overridable. In that case, we’d create a mock object, override GetGrade, and always return “B”. But with a significant object, there could be many problems doing that. It’s best if we can program against interfaces, because that way*  we don’t have to use the original classes at all*.</p>
<p>What’s a real-world example? What about a shipping service that our application uses to calculate shipping rates? Several problems could exist in consuming that service instead of mocking it:</p>
<ul>
<li>It could be very slow to use that service in our tests.</li>
<li>It could return inconsistent results that affect our tests.</li>
<li>We might get charged every time we use the service.</li>
</ul>
<p>Databases are another example. Testing against a database is difficult because you want the data to always start in a consistent state. Database tests are slow. They are better left for <em>integration tests.</em></p>
<h2 id="refactoring">Refactoring</h2>
<p>The last step in TDD is making the code better, and also making the <em>tests</em> better. For example, we get an instance of the CourseWork class repeatedly. We can declare that as a class field. xUnit creates a new instance of the class for each test, so it will will always be a new instance of CourseWork.</p>
<pre><code class="language-csharp">    public class BasicTdd
    {
        public class CourseWork_GetPercent_Should
        {
            public CourseWork _cw = new CourseWork(new GradeMarkServiceMock());

            [Fact]
            public void Return100PercentAs100PointZero()
            {
                decimal percent = _cw.GetPercent(1, 1);
                Assert.Equal(100m, percent);
            }
            [Fact]
            public void RoundPercentToTwoDecimalPlaces()
            {
                var percent = _cw.GetPercent(1, 7);
                var roundedPercent = Math.Round(percent, 2);
                Assert.Equal(roundedPercent, percent);
            }
        }

        public class CourseWork_GetGradeMessage_Should
        {
            public CourseWork _cw = new CourseWork(new GradeMarkServiceMock());

            [Fact]
            public void ReturnTheCorrectlyFormattedMessage()
            {
                string msg = _cw.GetGradeMessage(4, 15); //these values don't matter
                string expected = &quot;The grade is B&quot;;
                Assert.Equal(expected, msg);
            }
        }
    }
</code></pre>
<p>Of course, rerun the tests and make sure they pass!</p>
<h1 id="tag">Tag</h1>
<p>Test-driven development isn’t natural at first. But it’s got a rat-hits-food-lever pleasure I can’t deny. Kind of like having Probe Control’s Angel Tompkins whispering in my ear.</p>
<p><img src="http://www.tvparty.com/bgifs/05Angel.jpg" alt="" /></p>
<h1 id="references">References</h1>
<p><a href="http://www.telerik.com/blogs/30-days-tdd-day-one-what-is-tdd">30 Days of TDD</a></p>
<p><a href="https://xunit.github.io/docs/getting-started-desktop.html">Getting Started with xUnit.net</a></p>
<p><a href="http://stackoverflow.com/a/32402361/1628707">xUnit: display only method name</a></p>
<p><a href="https://xunit.github.io/docs/shared-context.html">xUnit: Shared Context Between Tests</a></p>
<p><a href="https://dzone.com/articles/7-popular-unit-test-naming">7 Popular Unit Test Naming Conventions</a></p>
<p><a href="http://osherove.com/blog/2005/4/3/naming-standards-for-unit-tests.html">Naming standards for unit tests</a></p>
<p><a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;ved=0ahUKEwiUz9fXv8vOAhXF4iYKHfpFBewQFggeMAA&amp;url=http%3A%2F%2Fwww.codeproject.com%2FArticles%2F615139%2FAn-Absolute-Beginners-Tutorial-on-Dependency-Inver&amp;usg=AFQjCNFs-TENpoHA01eOYXRVZkYqEEIC9w&amp;sig2=Qp3Zq6b199xguue2bGLDEg">An Absolute Beginner's Tutorial on Dependency Inversion Principle</a></p>
</div>
              </div>
               <div class='paging'><a href='index47.html'>Newer</a>&nbsp;&nbsp;&nbsp;<a href='index49.html'>Older</a></div>
      </section>
      <footer><p>All original content copyright (c) Charles L Flatt</p>
</footer>
    </div>
  </div>
  
  <script>
    function toggleNav() {
      var x = document.getElementById("nav");
      if (x.className === "nav") {
        x.className += " responsive";
      } else {
        x.className = "nav";
      }
    }</script>

  

</body>

</html>