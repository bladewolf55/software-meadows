<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117916694-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-117916694-1');
  </script> <script src='http://www.softwaremeadows.com/header-scripts/prism.js'></script>
 <link rel='stylesheet' href='http://www.softwaremeadows.com/css/default.css' />
<link rel='stylesheet' href='http://www.softwaremeadows.com/css/prism.css' />
<link rel='stylesheet' href='http://www.softwaremeadows.com/css/responsive.css' />


  <title>Home | Software Meadows</title>
</head>

<body>
    <div class="row">
      <div class="col-left">
        <nav id="nav" class="nav">
          <div id="menu">
            <ol>
<li><a href="http://www.softwaremeadows.com/">Home</a></li>
<li><a href="http://www.softwaremeadows.com/about">About</a></li>
</ol>

          </div>
          <div id="recent">
            <h2>Recent</h2>
            <a href='http://www.softwaremeadows.com/posts/my_ideal_markdown_editor_-_thoughts_and_reviews_part_1'>My Ideal Markdown Editor - Thoughts and Reviews Part 1</a><a href='http://www.softwaremeadows.com/posts/my_why_and_how_of_posh_git_contenxt_menu_transcripts_and_tf_exe'>My Why and How of posh-git: Context Menu, Transcripts, and TF.exe</a><a href='http://www.softwaremeadows.com/posts/how_to_secure-erase_regular_and_ssd_hard_drives_without_superstition'>How to Secure-Erase Regular and SSD Hard Drives Without Superstition</a><a href='http://www.softwaremeadows.com/posts/sql_permissions_for_data_folders'>SQL Permissions for Data Folders</a><a href='http://www.softwaremeadows.com/posts/grammar_for_developers_-_3_simple_rules_3_common_mistakes'>Grammar for Developers - 3 Simple Rules, 3 Common Mistakes</a>
          </div>
          <div id="history">
            <h2>History</h2>
            <ol class='tree'><li class='history-year'><label for='2018'>2018</label><input type='checkbox'  id='2018' /><ol><li class='history-month'><label for='2018-5'>May</label><input type='checkbox'  id='2018-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/my_ideal_markdown_editor_-_thoughts_and_reviews_part_1'>My Ideal Markdown Editor - Thoughts and Reviews Part 1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/my_why_and_how_of_posh_git_contenxt_menu_transcripts_and_tf_exe'>My Why and How of posh-git: Context Menu, Transcripts, and TF.exe</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how_to_secure-erase_regular_and_ssd_hard_drives_without_superstition'>How to Secure-Erase Regular and SSD Hard Drives Without Superstition</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/sql_permissions_for_data_folders'>SQL Permissions for Data Folders</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/grammar_for_developers_-_3_simple_rules_3_common_mistakes'>Grammar for Developers - 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/notes_on_improving_developer_team_practices_1'>Notes on Improving Developer Team Practices</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/using_git_locally_with_remote_tfvc'>Using Git Locally With Remote TFVC</a></li></ol></li><li class='history-month'><label for='2018-4'>April</label><input type='checkbox'  id='2018-4' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting'>Raw Code - Picture Renaming and Sorting</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1'>Becoming a Professional Blogger Part 1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid'>Entity Framework 6 Child Deletion and Foreign Keys - String Int GUID</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/linqpad_-_refresh_entity_after_submitchanges_to_avoid_cached_results'>LINQPad - Refresh Entity after SubmitChanges to Avoid Cached Results</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/create_blog_post_using_markdown_monster_command_addin'>Create Blog Post Using Markdown Monster's Command Addin</a></li></ol></li><li class='history-month'><label for='2018-3'>March</label><input type='checkbox'  id='2018-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/batch_image_resize_checking_min_max_in_both_dimensions'>Batch Image Resize Checking Min Max in Both Dimensions</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></li></ol></li><li class='history-month'><label for='2018-1'>January</label><input type='checkbox'  id='2018-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/new-blog-engine'>New Blog Engine</a></li></ol></li></ol></li><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-agent'>TFS Continuous Integration - Agent Installation and Visual Studio Licensing</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-clickonce'>TFS Continuous Integration - ClickOnce Apps</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-and-private'>TFS Continuous Integration and Private NuGet Package Sources</a></li></ol></li><li class='history-month'><label for='2017-2'>February</label><input type='checkbox'  id='2017-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_22'>TFS Continuous Integration Walk Through Part 5b - Multiple Solutions: Simple Project References</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_20'>TFS Continuous Integration Walk Through Part 5a - Multiple Solutions: Overview</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_24'>TFS Continuous Integration Walk Through Part 4b - Problems With Traits</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_6'>TFS Continuous Integration Walk Through Part 4a - Filtering Tests</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_63'>TFS Continuous Integration Walk Through Part 3 - Notifications</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_5'>TFS Continuous Integration Walk Through Part 2 - Create an Automated Build</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 1 - Installing TFS and Checking In a Test Project</a></li></ol></li><li class='history-month'><label for='2017-1'>January</label><input type='checkbox'  id='2017-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/what-else-programmers-do-text'>What Else Programmers Do: A Text Manipulation Example</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/what-does-this-code-do-extended'>What does this code do? Extended explanation</a></li></ol></li></ol></li><li class='history-year'><label for='2016'>2016</label><input type='checkbox'  id='2016' /><ol><li class='history-month'><label for='2016-12'>December</label><input type='checkbox'  id='2016-12' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/nexus-5-gps-lock-problem-and-two'>Nexus 5 GPS Lock Problem and Three--or More!--Solutions</a></li></ol></li><li class='history-month'><label for='2016-11'>November</label><input type='checkbox'  id='2016-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-bypass-new-microsoft-office'>How to Bypass the New Microsoft Office Startup and Save Screens</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/google-tasks-vs-reminders-in-desktop'>Google Tasks vs Reminders in Desktop and Phone</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-claims-based-identity-part-1_6'>Catching Up on Coding - Claims-Based Identity Part 1</a></li></ol></li><li class='history-month'><label for='2016-10'>October</label><input type='checkbox'  id='2016-10' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/creating-forms-authentication'>Creating Forms Authentication Membership Tables in LocalDB–Right and Wrong Ways</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-10-complaint-1-auto-update'>Windows 10 Complaint #1: Auto Update State Loss</a></li></ol></li><li class='history-month'><label for='2016-9'>September</label><input type='checkbox'  id='2016-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/disable-windows-10-photo-automatic'>Disable Windows 10 Photo Automatic Albums</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-laymans-explanation-of-mocking-and'>A Layman’s Explanation of Mocking and Dependency Injection</a></li></ol></li><li class='history-month'><label for='2016-8'>August</label><input type='checkbox'  id='2016-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></li></ol></li><li class='history-month'><label for='2016-7'>July</label><input type='checkbox'  id='2016-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/writing-to-current-users-registry-when'>Writing to the Current User(s) Registry When Running as System</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/catching-up-on-coding-syllabus'>Catching Up on Coding - The Syllabus</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/quickly-enable-mercurial-keyring-for'>Quickly Enable Mercurial Keyring for BitBucket</a></li></ol></li><li class='history-month'><label for='2016-6'>June</label><input type='checkbox'  id='2016-6' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/create-easily-debuggable-windows-service'>Create an Easily Debuggable Windows Service</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/underrated-work-skills'>(Underrated) Work Skills</a></li></ol></li><li class='history-month'><label for='2016-5'>May</label><input type='checkbox'  id='2016-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/vbnet-windows-project-to-c-conversion'>VB.Net Windows Project to C# Conversion Tools Quick Review</a></li></ol></li><li class='history-month'><label for='2016-2'>February</label><input type='checkbox'  id='2016-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/scroll-bars-in-blogger-tags'>Scroll bars in Blogger &lt;pre&gt; Tags</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/google-keep-changes-taking-to-forums'>Google Keep Changes: Taking to the Forums</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/backward-step-for-google-keep'>Backward Step for Google Keep</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/recover-virtualbox-snapshots'>Recover VirtualBox Snapshots</a></li></ol></li><li class='history-month'><label for='2016-1'>January</label><input type='checkbox'  id='2016-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/auto-updating-new-windows-7-installation'>Auto Updating a New Windows 7 Installation</a></li></ol></li></ol></li><li class='history-year'><label for='2015'>2015</label><input type='checkbox'  id='2015' /><ol><li class='history-month'><label for='2015-8'>August</label><input type='checkbox'  id='2015-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/shoretel-brilliantly-simple'>ShoreTel - Brilliantly Simple?</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/the-google-photos-management-problems'>The Google Photos Management Problem(s)</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/creating-long-lasting-clickonce'>Creating a Long-Lasting ClickOnce Certificate</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/more-encrypted-config-filesclickonce'>More Encrypted Config Files–ClickOnce Complications</a></li></ol></li><li class='history-month'><label for='2015-7'>July</label><input type='checkbox'  id='2015-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/encrypting-appconfig'>Encrypting app.config</a></li></ol></li><li class='history-month'><label for='2015-3'>March</label><input type='checkbox'  id='2015-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/better-google-sites-designthe-notched'>Better Google Sites Design–The Notched Page</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/removing-unremovable-bluetooth-device'>Removing Unremovable Bluetooth Device: FAIL!</a></li></ol></li></ol></li><li class='history-year'><label for='2014'>2014</label><input type='checkbox'  id='2014' /><ol><li class='history-month'><label for='2014-11'>November</label><input type='checkbox'  id='2014-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-remove-savernet-and-similar'>How to remove Savernet (and similar) Chrome extension</a></li></ol></li><li class='history-month'><label for='2014-9'>September</label><input type='checkbox'  id='2014-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/prevent-word-from-restoring-minimized'>Prevent Word from Restoring Minimized Documents</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/clever-phish'>Clever Phish</a></li></ol></li><li class='history-month'><label for='2014-8'>August</label><input type='checkbox'  id='2014-8' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/enable-synaptics-touchpad-2-finger-tap'>Enable Synaptics touchpad 2-finger tap context menu</a></li></ol></li><li class='history-month'><label for='2014-5'>May</label><input type='checkbox'  id='2014-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/installing-fcm-flow-cytrometry-library'>Installing fcm flow cytrometry library on Windows 8.1</a></li></ol></li><li class='history-month'><label for='2014-4'>April</label><input type='checkbox'  id='2014-4' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-update-1-driver-problem-dtmb'>Windows 8.1 Update 1 Driver Problem DTMB BDA TV USB</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-window-key-s-search-from'>Windows 8.1: Window Key + S = Search from Desktop</a></li></ol></li><li class='history-month'><label for='2014-3'>March</label><input type='checkbox'  id='2014-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/whs-2011-windows-update-one-or-more'>WHS 2011 Windows Update “One or more services are no running” alert</a></li></ol></li><li class='history-month'><label for='2014-2'>February</label><input type='checkbox'  id='2014-2' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem-continued'>Lenovo U530 Touch WiFi Problem Continued</a></li></ol></li><li class='history-month'><label for='2014-1'>January</label><input type='checkbox'  id='2014-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem'>Lenovo U530 Touch WiFi Problem</a></li></ol></li></ol></li><li class='history-year'><label for='2013'>2013</label><input type='checkbox'  id='2013' /><ol><li class='history-month'><label for='2013-12'>December</label><input type='checkbox'  id='2013-12' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/whs-connector-restart-error-in-windows'>WHS Connector Restart Error in Windows 8.0/8.1</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/how-to-remove-apps-from-google-play-my'>How to Remove Apps from Google Play My Apps Site</a></li></ol></li><li class='history-month'><label for='2013-11'>November</label><input type='checkbox'  id='2013-11' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/windows-81-hidden-opt-ins-opt-outs'>Windows 8.1 Hidden Opt Ins/ Opt Outs</a></li></ol></li><li class='history-month'><label for='2013-9'>September</label><input type='checkbox'  id='2013-9' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-epilogue'>Edward Farley and the Fantastic Library Epilogue</a></li></ol></li><li class='history-month'><label for='2013-7'>July</label><input type='checkbox'  id='2013-7' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-2-end'>A Week (or More!) of JoliCloud - Day 2: THE END</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-1'>A Week (or More!) of JoliCloud - Day 1</a></li></ol></li><li class='history-month'><label for='2013-5'>May</label><input type='checkbox'  id='2013-5' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-12'>Edward Farley and the Fantastic Library Part 12</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-1019'>Edward Farley and the Fantastic Library Part 11</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-10'>Edward Farley and the Fantastic Library Part 10</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-9'>Edward Farley and the Fantastic Library Part 9</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-8'>Edward Farley and the Fantastic Library Part 8</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-7'>Edward Farley and the Fantastic Library Part 7</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-6'>Edward Farley and the Fantastic Library Part 6</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-5'>Edward Farley and the Fantastic Library Part 5</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-4'>Edward Farley and the Fantastic Library Part 4</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-3'>Edward Farley and the Fantastic Library Part 3</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-2'>Edward Farley and the Fantastic Library Part 2</a></li><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/edward-farley-part-1'>Edward Farley and the Fantastic Library Part 1</a></li></ol></li><li class='history-month'><label for='2013-4'>April</label><input type='checkbox'  id='2013-4' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/clean-up-orphaned-sql-users'>Clean Up Orphaned SQL Users</a></li></ol></li><li class='history-month'><label for='2013-3'>March</label><input type='checkbox'  id='2013-3' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/t-sql-one-to-one-cant-be-done'>T-SQL One to One Can't Be Done</a></li></ol></li><li class='history-month'><label for='2013-1'>January</label><input type='checkbox'  id='2013-1' /><ol><li class='history-post'><a class='history-post' href='http://www.softwaremeadows.com/posts/test-post-with-code'>Migrating Google Drive</a></li></ol></li></ol></li></ol>
          </div>
          <a href="javascript:void(0);" class="icon" onclick="toggleNav()">&#9776;</a>
        </nav>
      </div>
      <div class="col-right">
        <header>
          <div id="site-image">
            <img src="http://www.softwaremeadows.com/images/header.png" alt="" />
          </div>
          <h1 id="site-name"></h1>
          <div id="site-subtitle">A pleasant walk through computing</div>
        </header>
        <section id="content">
          <h1 id="home">Home</h1>

        </section>
        <!-- posts only appear in home index -->
        <section id="posts">
          
              <div class='post'>
                <h2 class='post-title'><a href='http://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></h2>
                <p class='post-info'><span class='posted-on'>2018-03-19 12:03</span></p>
                <div class='post-content'><h1 id="deftconfig"><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/juggler-100x100.png" alt=""> DeftConfig</h1>
<blockquote>
<p>Web.config and app.config shouldn't be stored. They should be generated. DeftConfig helps with that.</p>
</blockquote>
<p><a href="https://www.nuget.org/packages/DeftConfig/">NuGet Package</a></p>
<p><a href="https://github.com/bladewolf55/DeftConfig">GitHub Repository</a></p>
<h2 id="briefly">Briefly</h2>
<p>The .Net configuration story has never been particularly good. It's improving significantly in .Net Core, but there's a lot of .Net Framework code that's built and going to be built.</p>
<p>The fundamental problems with .Net Framework config files are:</p>
<ol>
<li>They require a physical file. A configuration can't be created in memory.</li>
<li>They don't work well with multiple environments, even using XML Transformations as intended.</li>
<li>They don't lend themselves to managing sensitive settings such as passwords, especially in a Continuous Integration environment.</li>
</ol>
<p>DeftConfig makes it easier to use the "base config" approach to managing configuration files using XML Transformations. It follows a convention for how it finds the transformation file.</p>
<ol>
<li>Look for a file in the format <code>web(or app).base.[Configuration].config</code>. Example: web.base.Release.config</li>
<li>Check the user profile's <code>%APPDATA%\DeftConfig\{Project GUID}</code> folder</li>
<li>Check the project folder</li>
<li>If not found, use web/app.base.Sample.config</li>
</ol>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/deft-config-flow.png" alt=""></p>
<p>This approach allows for storing a production config, with sensitive settings, in a Windows Continuous Integration server's appropriate user profile rather than version control. The server folder can be restricted via permissions.</p>
<p>It also allows multiple developers to have their own, local Debug config; it also doesn't get stored in source control.</p>
<p>Finally, DeftConfig recommends maintaining a sample config that will help new developers understand what configurations need to be changed, and can provide a safe, default working experience.</p>
<p>The package is just two components:</p>
<ol>
<li>An MSBuild targets file that applies the transformation and outputs the .config file.</li>
<li>A utility to help configure the project, including adding an <code>.ignore</code> file for either Git or TFVC.</li>
</ol>
<blockquote>
<p><strong>Important</strong><br>
I don't guarantee DeftConfig will work in your environment. You need to take the right steps to protect your source code, including backups, version control, and testing.</p>
</blockquote>
<h2 id="goals">Goals</h2>
<p>DeftConfig achieves several goals. Web.config is used in the examples below, but DeftConfig applies equally to app.config.</p>
<ol>
<li>Don't store web.config or web.Debug/Release.config in source control.</li>
<li>Don't store web.Debug.config in source control, allow independent developer configurations.</li>
<li>Use web.base.config file for XmlTransform source, and apply web.base.[Configuration].config transform file.</li>
<li>Make Windows-based Continuous Integration easier and more secure by searching for transform files in a user profile folder first, then in the project file.</li>
<li>Make it easier for new developers to use non-destructive settings.</li>
</ol>
<h2 id="cons">Cons</h2>
<p>All isn't lemonade and corn dogs when using DeftConfig. There are a few challenges that you need to be aware of.</p>
<ol>
<li>NuGet packages often modify the web.config file (EntityFramework, for example). It will be critical for developers who add packages to copy any changes from the local web.config into web.base.config.</li>
<li>If you change <em>only</em> one of the config files, then do a standard build (F6), web.config won't be updated. You'll need to do a Rebuild. (This is not an issue with TFS Build server, which always does a rebuild).</li>
</ol>
<h2 id="installation">Installation</h2>
<ol>
<li>Install the NuGet package. This adds the DeftConfig.targets file, and an executable named DeftConfigInitializer is copied to the project root folder.</li>
<li>Run DeftConfigInitializer, which will
<ol>
<li>Create a user profile folder for config files, if desired.</li>
<li>Convert existing *.config files to use the *.base.config method.</li>
<li>Add a .gitignore or .tfignore file so that the standard *.config files are ignored by default.</li>
</ol>
</li>
<li>Delete DeftConfigInitializer, if desired.</li>
</ol>
<p>Typical project files before DeftConfig</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2019_49_52.png" alt=""></p>
<p>and after running DeftConfigInitializer</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2019_53_20.png" alt=""></p>
<p>The Debug and Release configs are still in the project folder, except they've been converted to "base" files.</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2019_55_47.png" alt=""></p>
<h2 id="files">Files</h2>
<p>Any settings that were previously in web.config are now in web.base.config.</p>
<p>Here are the recommended way of using the files, with an example. The original web.config had these appSettings. Notice that the production and dev credentials are being stored. Developers have been commenting/uncommenting.</p>
<pre><code class="language-xml">&lt;/appSettings&gt;
    &lt;add key="CustomizationVersion" value="HGC1234" /&gt;
    &lt;!--
    &lt;add key="WebServiceUser" value="dev-user"/&gt;
    &lt;add key="WebServicePassword" value="DevPass"/&gt;
    --&gt;
    &lt;add key="WebServiceUser" value="production-admin"/&gt;
    &lt;add key="WebServicePassword" value="Pr0ductionPassw0rd!"/&gt;
&lt;/appSettings&gt;
</code></pre>
<h3 id="web.base.config">web.base.config</h3>
<p>The base config should retain values that are <em>not</em> transformed, and shouldn't have values for settings that will be tranformed. This is also a good place to document the settings. Copy those credential appSettings elsewhere, we'll need them later.</p>
<pre><code class="language-xml">&lt;/appSettings&gt;
    &lt;!-- Don't change: It's specific to this client --&gt;
    &lt;add key="CustomizationVersion" value="HGC1234" /&gt;
    &lt;!-- Credentials for the 3rd party web service --&gt;
    &lt;add key="WebServiceUser" value=""/&gt;
    &lt;add key="WebServicePassword" value="" /&gt;
&lt;/appSettings&gt;
</code></pre>
<h3 id="web.base.sample.config">web.base.Sample.config</h3>
<p>The Sample config file <em>is</em> stored in source control. It acts as a default configuration. If a Configuration (Debug/Release) config file can't be found, the Sample will be used. These could be default values for a developer, or dummy values.</p>
<pre><code class="language-xml">&lt;/appSettings&gt;
    &lt;add key="WebServiceUser" value="user" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
    &lt;add key="WebServicePassword" value="pass" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
&lt;/appSettings&gt;
</code></pre>
<h3 id="web.base.debug.config">web.base.Debug.config</h3>
<p>The Debug file is for developer settings. Since it's not stored in source control, each developer can have her own settings.</p>
<pre><code class="language-xml">&lt;/appSettings&gt;
    &lt;add key="WebServiceUser" value="dev-user" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
    &lt;add key="WebServicePassword" value="DevPass" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
&lt;/appSettings&gt;
</code></pre>
<h3 id="web.base.release.config">web.base.Release.config</h3>
<p>Like the Debug file, the Release file is also not stored in source control. As shown below, if using a Windows-based continuous build system, it will be stored in the user profile of the automated build agent. This keeps sensitive credentials out of source control.</p>
<pre><code class="language-xml">&lt;/appSettings&gt;
    &lt;add key="WebServiceUser" value="production-admin" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
    &lt;add key="WebServicePassword" value="Pr0ductionPassw0rd!" xdt:Locater="Match(key)" xdt:Transform="Replace"/&gt;
&lt;/appSettings&gt;
</code></pre>
<h2 id="building-a-configuration">Building a Configuration</h2>
<p>As noted above, the safest way to build is to right-click the Solution and choose Rebuild. But in most cases you'll be able to just F6 or F5.</p>
<p>Which configuration is used is determined by the selected Configuration.</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2020_33_46.png" alt=""></p>
<p>Many development shops have a separate testing or staging environment. To configure that with DeftConfig, you'd simply add the configuration such as "Stage" using Configuration Manager, then manually create the web.base.Stage.config transform file (probably using copy/paste).</p>
<h2 id="where-and-how-transform-files-are-searched">Where and How Transform Files are Searched</h2>
<p>The initializer utility will optionally create a folder in the user's profile. The folder is named using the project's GUID, since the project name could change. The path is:</p>
<p><code>C:\Users\[user]\AppData\Roaming\DeftConfig\{PROJECT GUID}</code></p>
<blockquote>
<p>Strictly speaking, the path is <code>%AppData%\DeftConfig\{PROJECT GUID}</code></p>
</blockquote>
<p>The DeftConfig build target checks for a matching config file in the following order. The diagram assumes the Release configuration is being built for MyAppProject.</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/deft-config-file-order.png" alt=""></p>
<h2 id="why-isnt-web.config-removed-from-the-project">Why Isn't Web.config Removed From the Project?</h2>
<p>Only files that are part of the project (that is, they're in the .csproj or .vsproj file) will be copied when using the project's Publish feature.</p>
<pre><code class="language-xml">  &lt;ItemGroup&gt;
    &lt;Content Include="DeftConfigInitializer.exe" /&gt;
    &lt;Content Include="Web.config" /&gt;
    &lt;None Include="Web.base.config" /&gt;
    &lt;None Include="Web.base.Sample.config" /&gt;
  &lt;/ItemGroup&gt;
</code></pre>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2021_12_47.png" alt=""></p>
<p>However, just because there's an entry in the project file for web.config doesn't mean it <em>has</em> to be in the folder when you get the code from source control. It just has to be there when Publish is run.</p>
<p>This is why I recommend adding web.config to a Git or TFS ignore file in the project folder. Web.config will always be created as part of the build process, so it doesn't need to be stored in source control.</p>
<p><img src="http://www.softwaremeadows.com/posts/announcing_deftconfig/images/2018-03-15%2021_19_52.png" alt=""></p>
<p>DeftConfigInitializer will do this automatically if you choose.</p>
<p><strong>Using Git</strong></p>
<pre><code># Visual Studio 2015 Note: a pattern in the first line is ignored by Changes. Visual Studio Bug.
# DeftConfig - Ignore/allow certain config files when using *.base.[Build].config transform method

/[Ww]eb.config
/[Ww]eb.*.config
!/[Ww]eb.[Bb]ase.config
!/[Ww]eb.[Bb]ase.[Ss]ample.config

/[Aa]pp.config
/[Aa]pp.*.config
!/[Aa]pp.[Bb]ase.config
!/[Aa]pp.[Bb]ase.[Ss]ample.config
</code></pre>
<p><strong>Using TFVS</strong></p>
<pre><code>#TFVS Ignore

\Web.config
\Web.*.config
!\Web.base.config
!\Web.base.Sample.config

\App.config
\App.*.config
!\App.base.config
!\App.base.Sample.config
</code></pre>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></h2>
                <p class='post-info'><span class='posted-on'>2018-01-07 14:49</span></p>
                <div class='post-content'><p><img src="http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy/images/tfs-logo.png" alt=""> <img src="http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy/images/robocopy-command.gif" alt=""></p>
<br>
<p>Team Foundation Server 2015 Update 2 includes Release Management. However, I found myself in a position where a client hadn't upgraded yet, and during development I still wanted to publish ASP.NET MVC and WebApi projects to a test server. I did this through a combination of Build tasks running the msbuild publish command line, and Robocopy.</p>
<p>Also, while TFS Build includes steps for staging artifacts, an ASP.NET project doesn't simply move all files to a bin folder. Many files are taken directly from the project source folders, requiring me to use the MSBuild Publish command line switches.</p>
<h1 id="the-tfs-build-definition">The TFS Build Definition</h1>
<p>In my Build, I'm going to do the following steps:</p>
<ol>
<li>Get the source code</li>
<li>Get the NuGet packages</li>
<li>Build and Test &lt;= <strong>if anything fails up to this point, I don't want to publish</strong></li>
<li>Use msbuild to publish locally (to the Build agent workspace)</li>
<li>Use Robocopy to copy the files to another computer running IIS</li>
</ol>
<p>The first three steps are pretty standard, so I won't cover them. If you don't know how to set up a build, you'll need to read up on that. The last two are the fun ones.</p>
<p><img src="http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy/images/2018-01-07%2015_56_14.png" alt=""></p>
<h1 id="publishing-asp.net-from-command-line">Publishing ASP.NET from command line</h1>
<p>In Visual Studio, it's easy (and nice) to publish an ASP.NET project to the file system. But what if you want to publish in an ad-hoc manner? It can be done, but the info is hard-won.</p>
<pre><code>msbuild ProjectFile.csproj /p:Configuration=Release ^
                           /p:Platform=AnyCPU ^
                           /t:WebPublish ^
                           /p:WebPublishMethod=FileSystem ^
                           /p:DeleteExistingFiles=True ^
                           /p:publishUrl=c:\output
                           
Or if you are building the solution file:

msbuild Solution.sln /p:Configuration=Release ^ 
                     /p:DeployOnBuild=True ^
                     /p:DeployDefaultTarget=WebPublish ^
                     /p:WebPublishMethod=FileSystem ^
                     /p:DeleteExistingFiles=True ^
                     /p:publishUrl=c:\output
</code></pre>
<p>In my Build definition, I add a Visual Studio Build step. (I could probably also use an MS Build step, but I haven't tested that.)</p>
<p>In the Solution field, enter the path to the web <em>project</em> you're going to build. The MSBuild Arguments are shown below. Note the variables used for both the build configuration and the destination folder. I'm publishing locally first.</p>
<p><code>/p:Configuration=$(BuildConfiguration) /p:DeployOnBuild=True /p:DeployDefaultTarget=WebPublish /p:WebPublishMethod=FileSystem /p:publishUrl="$(build.artifactstagingdirectory)\deploy\web"</code></p>
<blockquote>
<p><strong>Note</strong><br>
If I was also publishing a WebApi project in the same definition, I'd have a separate build step, and the publishUrl might be <code>$(build.artifactstagingdirectory)\deploy\api</code></p>
</blockquote>
<p><img src="http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy/images/2018-01-07%2015_45_51.png" alt=""></p>
<h1 id="copy-the-site-to-its-destination-using-robocopy">Copy the site to its destination using Robocopy</h1>
<p>Why am I not using the publishUrl, above, to publish to the destination server? In many cases, I could, and that's fine. But what if I expect a destination file to be in use, and isn't normally updated? For example, I had a site using the NHunspell.dll. That file would often be in use, and wasn't changing. If I used publishUrl, the publish would always fail.</p>
<p>Microsoft's <a href="https://technet.microsoft.com/en-us/library/cc733145(v=ws.11).aspx">Robocopy</a> ("Robust Copy"), included in all Windows editions, will skip and retry files it can't copy. This will still show as an error, but I'll set the step to "continue on error". It's not a perfect solution, but fine for many environments.</p>
<p>Add a Command Line step to the definition.</p>
<ul>
<li>Tool = robocopy.exe</li>
<li>Arguments = <code>"$(build.artifactstagingdirectory)\deploy\web" "\\iis-server\wwwroot$\my-web-site" /e /r:2 /w:5</code></li>
</ul>
<p><img src="http://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy/images/2018-01-07%2015_55_48.png" alt=""></p>
<p>The Robocopy arguments say:</p>
<ol>
<li>Copy from the local deploy\web folder to the remote server folder</li>
<li><code>/e</code> = Copies subdirectories. Note that this option includes empty directories.</li>
<li><code>/r:2</code> = Retry busy files twice.</li>
<li><code>/w:5</code> = Wait five seconds between retry attempts.</li>
</ol>
<p>When the step runs, Robocopy outputs a nice report of what happened, very useful when viewing the build log.</p>
<h1 id="wrap-up">Wrap Up</h1>
<p>While not ideal, the above is a useful workaround for publishing ASP.NET build artifacts to a remote machine. It also shows the flexibility that can be obtained through using other tools.</p>
<h1 id="references">References</h1>
<p><a href="https://stackoverflow.com/a/20982171/1628707">How to use MsBuild MsDeployPublish to target local file system?</a></p>
<p><a href="https://www.benday.com/2016/09/08/an-asp-net-mvc-site-thats-easy-to-deploy-from-a-tfs-build/">An ASP.NET MVC Site That’s Easy to Deploy from a TFS Build</a></p>
<p><a href="https://technet.microsoft.com/en-us/library/cc733145(v=ws.11).aspx">Robocopy</a></p>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></h2>
                <p class='post-info'><span class='posted-on'>2018-01-04 18:30</span></p>
                <div class='post-content'><p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/simple-key.png" alt=""></p>
<p>This is a two-part post. Read <a href="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1">Part 1 here</a></p>
<p>It's important to protect business data. Employee access and use of data should be managed by the IT department. But a contractor is often entrusted with data on their own computers. We certainly don't want our laptop to be stolen and have to tell the client that source code or databases with sensitive data just got lost, and, no, it wasn't encrypted.</p>
<p>In Part 1, I discussed how I used VeraCrypt for my encryption. Below is how I solved problems relating to Google Backup and Sync, and Microsoft SQL Server.</p>
<h1 id="the-trouble-with-google-backup-and-sync-the-application-formerly-known-as-google-drive">The Trouble with Google Backup and Sync (the application formerly known as Google Drive)</h1>
<p>I use Google Drive's desktop application to synchronize client files as well as personal. I think that's reasonable, since I can and should expect Google to be secure. Now that I have my test.vc file mounted as F, it's outside of the local Google folder. How do I get it into Drive?</p>
<p>If you're still using the Drive application, one way is to use a symbolic link, which I won't go into here. I've done this for other folders, but didn't want or need to in this case. The reason is that Google has replaced the Drive app with <a href="https://support.google.com/drive/answer/2374987">Backup and Sync</a>. Backup and Sync allows backing up any folder on my computer, including other drive letters.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2013_53_44.png" alt=""></p>
<p>The computer is then available on the web version of Drive (but not the Android app, yet, why not???).</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2013_57_12.png" alt=""></p>
<p>Great! So, what's the problem? Well, Backup and Sync is by default configured to run on login, which makes sense. I like to configure VeraCrypt to run on login, too. The problem is, by the time I get my password entered and the file mounted, Backup and Sync is already reporting that the F drive is unavailable, do I want to stop syncing the F drive? (no)...and the only thing I can do is restart Backup and Sync.</p>
<p>There's a simple solution to this that I wish had worked out for me. It will for most people. A VeraCrypt drive can be configured to act as a Removable drive. And Backup and Sync will be notified if a removable drive comes back online.</p>
<p>Let's show that. In Backup and Sync, stop backing up the F drive. In VeraCrypt, select the F drive and Dismount.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_09_48.png" alt=""></p>
<p>Now, select test.fc and click Mount again, but before submitting the password click Mount Options.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_12_32.png" alt=""></p>
<p>In the options, check "Mount volume as removable medium" and finish mounting the volume.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_13_34.png" alt=""></p>
<p>The F drive will now show as a Removable drive, just as if you'd plugged in a USB external or flash drive.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_23_10.png" alt=""></p>
<p>You might also be prompted to start backing up the USB device. Choose Not Now.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_22_41.png" alt=""></p>
<p>Let's prove we can unmount and remount without restarting Backup and Sync.</p>
<p>In Backup and Sync Preferences, choose to backup the F drive. Let the drive finish syncing (this might take a while, the app likes to reprocess everything). Then, in VeraCrypt, dismount it. You'll get a warning message. Don't take any action.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2018_07_18.png" alt=""></p>
<p>Now remount the F drive, making sure you set it as removable in the options. Backup and Sync will see the drive is reconnected, and start syncing it.</p>
<p>This is great, and I thought I was finished. If you don't run SQL Server, you probably <em>are</em>, but....</p>
<h1 id="the-strangeness-of-sql-server-or-a-veracrypt-bug">The Strangeness of SQL Server (or a VeraCrypt Bug?)</h1>
<p>I develop using SQL Server Express. The SQL service runs automatically at start up and attempts to start any configured databases. See where this is leading?</p>
<p>If I put database files in my F drive, they won't be available to SQL Server on startup and the database will be marked as "Pending", meaning it can't be started. I'd have to restart the SQL service.</p>
<p>There's a solution, but first, what happens if I try to create a SQL database on my removable F drive? Create a "Data" folder first.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2014_59_56.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_00_36.png" alt=""></p>
<p>Research this error and everyone says it's a permissions problem. I labored for hours under that belief, trying various correct-but-not-successful permissions settings.</p>
<p>Close the error. Pause Backup and Sync. Dismount the F drive, remount it <em>without</em> making it removable. Try creating the Test database again.</p>
<p>Yep, it works fine. What gives? Maybe SQL Server doesn't like installing databases on removable media? That's not the case. It's supported, and I was able to create a database just fine on a USB drive I plugged in.</p>
<p>No, the problem appears to be with VeraCrypt and how it configures itself as a removable drive. I haven't looked into this, though.</p>
<p>This means I <em>can't</em> configure my VeraCrypt drive as removable, which screws up my Backup and Sync solution, above.</p>
<h1 id="fight-fight-schedule-tasks">Fight, Fight, Schedule Tasks!</h1>
<p>It seems like I can't have what I want, which is to start my computer, log in, mount my encrypted drive, and not have to fuss with either Backup and Sync or SQL Server. But I can.</p>
<p>Here's my solution.</p>
<ul>
<li>Set my encrypted volume back to regular (not removable).</li>
<li>Turn off both Backup and Sync and SQL Server from automatically starting</li>
<li>Use Windows Task Scheduler to delay-start them when I log in, giving me time to mount the encrypted container.</li>
</ul>
<h2 id="backup-and-sync-task">Backup and Sync Task</h2>
<p>In Backup and Sync's Preferences &gt; Settings, turn off "Open Backup and Sync on system startup".</p>
<p>Next, open Task Scheduler. Select the Task Scheduler Library, and choose Create Task. Here are the settings. Notice the "log on" trigger, and the one minute delayed start.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_35_20.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_36_34.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_37_34.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_37_57.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_38_19.png" alt=""></p>
<h2 id="sql-server-task">SQL Server Task</h2>
<p>Open Services, find the SQL Server instance you're running, and set the startup to Manual.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_40_56.png" alt=""></p>
<p>The biggest challenge I faced in creating the scheduled tasks was permissions. The task <em>should</em> have been able to run with my account and elevated privileges. It would, when I was logged in. But it failed on reboot. The solution was to use the local Administrator's group. I don't know why. Here are the settings. Triggers, Conditions and Settings are the same as above.</p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_42_44.png" alt=""></p>
<p><img src="http://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2/images/2018-01-04%2015_43_53.png" alt=""></p>
<h1 id="death-by-998-cuts">Death by 998 Cuts</h1>
<p>I've now removed two irritations in my daily work flow. It took a while, but is time well spent. I also learned some things. Hopefully this helps you, too.</p>
<h1 id="bonus">Bonus</h1>
<p>Save yourself some grief. Set up Backup and Sync to ignore .mdf and .ldf files. They can't be backed up while in use, and will always be throwing errors. If you really need the data, set up SQL backups.</p>
</div>
              </div>
               <div class='paging'><a href='index4.html'>Newer</a>&nbsp;&nbsp;&nbsp;<a href='index6.html'>Older</a></div>
        </section>
        <footer><p>Copyright (c) 2018 Charles L Flatt</p>
</footer>
      </div>
    </div>
    
    <script>
    function toggleNav() {
      var x = document.getElementById("nav");
      if (x.className === "nav") {
          x.className += " responsive";
      } else {
          x.className = "nav";
      }
  }</script>
  </body>

</html>