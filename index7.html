<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-117916694-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-117916694-1');
  </script>
  <script src='https://www.softwaremeadows.com/header-scripts/prism.js'></script>

  <link rel='stylesheet' href='https://www.softwaremeadows.com/css/default.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/kavadocs.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/prism.css' />
<link rel='stylesheet' href='https://www.softwaremeadows.com/css/responsive.css' />


  <title>Home | Software Meadows</title>
</head>

<body>
  <div class="row">
    <div class="col-left">
      <nav id="nav" class="nav">
        <div id="menu">
          <ol>
<li><a href="https://www.softwaremeadows.com/">Home</a></li>
<li>[DevOps]
<ol>
<li><a href="https://www.softwaremeadows.com/devops/accelerate_book_notes_and_quotes">'Accelerate' Book Notes and Quotes</a></li>
</ol>
</li>
<li><a href="https://www.softwaremeadows.com/about">About</a></li>
</ol>

        </div>
        <div id="recent">
          <h2>Recent</h2>
          <a href='https://www.softwaremeadows.com/posts/create_a_simple_photo_album_site_with_wix'>Create a Simple Photo Album Site With Wix</a><a href='https://www.softwaremeadows.com/posts/three_rules_for_successfully_starting_a_habit'>Three Rules for Successfully Starting a Habit</a><a href='https://www.softwaremeadows.com/posts/going_full_screen-_when_and_why'>Going Full Screen: When and Why</a><a href='https://www.softwaremeadows.com/posts/nuget_packagereference_in_visual_studio'>NuGet PackageReference in Visual Studio</a><a href='https://www.softwaremeadows.com/posts/accelerate_book_notes_and_quotes'>Accelerate Book Notes</a>
        </div>
        <div id="history">
          <h2>History</h2>
          <ol class='tree'><li class='history-year'><label for='2019'>2019</label><input type='checkbox'  id='2019' /><ol><li class='history-month'><label for='2019-1'>January</label><input type='checkbox'  id='2019-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_a_simple_photo_album_site_with_wix'>Create a Simple Photo Album Site With Wix</a></li></ol></li></ol></li><li class='history-year'><label for='2018'>2018</label><input type='checkbox'  id='2018' /><ol><li class='history-month'><label for='2018-11'>November</label><input type='checkbox'  id='2018-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/three_rules_for_successfully_starting_a_habit'>Three Rules for Successfully Starting a Habit</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/going_full_screen-_when_and_why'>Going Full Screen: When and Why</a></li></ol></li><li class='history-month'><label for='2018-10'>October</label><input type='checkbox'  id='2018-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nuget_packagereference_in_visual_studio'>NuGet PackageReference in Visual Studio</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/accelerate_book_notes_and_quotes'>Accelerate Book Notes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/getting_started_with_software_(and_business_and_life)_skills'>Getting Started With Software (and Business and Life) Skills</a></li></ol></li><li class='history-month'><label for='2018-9'>September</label><input type='checkbox'  id='2018-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shortest_user_story_intro_ever'>Shortest User Story Intro Ever</a></li></ol></li><li class='history-month'><label for='2018-8'>August</label><input type='checkbox'  id='2018-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a_simple__effective_meeting_agenda_system'>A Simple, Effective Meeting Agenda System</a></li></ol></li><li class='history-month'><label for='2018-7'>July</label><input type='checkbox'  id='2018-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/highly_opinionated_android_to_do_and_note_apps_comparison'>Highly Opinionated Android To Do and Note Apps Comparison</a></li></ol></li><li class='history-month'><label for='2018-6'>June</label><input type='checkbox'  id='2018-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_vs_code-_orange_icon_resurrection'>Tid Bits: VS Code: Orange Icon Resurrection</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tidbits_use_visual_studio_for_git_diff-merge'>Tid Bits: Use Visual Studio for Git Diff/Merge</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/3_chrome_extensions_for_performance__research__and_blogging'>3 Chrome Extensions for Performance, Research, and Blogging</a></li></ol></li><li class='history-month'><label for='2018-5'>May</label><input type='checkbox'  id='2018-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/chrome_browser_pinned_startup_tabs'>Chrome Browser Pinned Startup Tabs</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/solving_nancyfx_tokenizer_keychain_bin_invalid_read_type_request_115'>Solving NancyFx Tokenizer keyChain.bin Invalid Read Type Request '115'</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_ideal_markdown_editor_-_thoughts_and_reviews_part_1'>My Ideal Markdown Editor - Thoughts and Reviews Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/my_why_and_how_of_posh_git_contenxt_menu_transcripts_and_tf_exe'>My Why and How of posh-git: Context Menu, Transcripts, and TF.exe</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how_to_secure-erase_regular_and_ssd_hard_drives_without_superstition'>How to Secure-Erase Regular and SSD Hard Drives Without Superstition</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sql_permissions_for_data_folders'>SQL Permissions for Data Folders</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/grammar_for_developers_-_3_simple_rules_3_common_mistakes'>Grammar for Developers - 3 Simple Rules, 3 Common Mistakes</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/notes_on_improving_developer_team_practices_1'>Notes on Improving Developer Team Practices</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/using_git_locally_with_remote_tfvc'>Using Git Locally With Remote TFVC</a></li></ol></li><li class='history-month'><label for='2018-4'>April</label><input type='checkbox'  id='2018-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting'>Raw Code - Picture Renaming and Sorting</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1'>Becoming a Professional Blogger Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid'>Entity Framework 6 Child Deletion and Foreign Keys - String Int GUID</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the_50-10_time_box_revising_pomodoro_for_software_development'>The 50-10 Time Box - Revising Pomodoro for Software Development</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/linqpad_-_refresh_entity_after_submitchanges_to_avoid_cached_results'>LINQPad - Refresh Entity after SubmitChanges to Avoid Cached Results</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create_blog_post_using_markdown_monster_command_addin'>Create Blog Post Using Markdown Monster's Command Addin</a></li></ol></li><li class='history-month'><label for='2018-3'>March</label><input type='checkbox'  id='2018-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/batch_image_resize_checking_min_max_in_both_dimensions'>Batch Image Resize Checking Min Max in Both Dimensions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deepshadow'>Announcing DeepShadow</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/announcing_deftconfig'>Announcing DeftConfig</a></li></ol></li><li class='history-month'><label for='2018-1'>January</label><input type='checkbox'  id='2018-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs_2015_publish_asp_net_using_robocopy'>TFS 2015: Publish ASP.NET Using Robocopy</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_2'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/combining_veracrypt_google_backup_sync_sql_server_part_1'>Combining VeraCrypt, Google Backup & Sync, and Sql Server Part 1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/new-blog-engine'>New Blog Engine</a></li></ol></li></ol></li><li class='history-year'><label for='2017'>2017</label><input type='checkbox'  id='2017' /><ol><li class='history-month'><label for='2017-8'>August</label><input type='checkbox'  id='2017-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/dont-use-data-prefix-in-angularjs'>Don't use "data" prefix in AngularJS</a></li></ol></li><li class='history-month'><label for='2017-7'>July</label><input type='checkbox'  id='2017-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/angularjs-service-with-var-declarations'>AngularJS service with var declarations instead of this. assignments</a></li></ol></li><li class='history-month'><label for='2017-6'>June</label><input type='checkbox'  id='2017-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/factory-resetting-android-without'>Factory Resetting Android Without Losing Your Life (Metaphorically)</a></li></ol></li><li class='history-month'><label for='2017-5'>May</label><input type='checkbox'  id='2017-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-4'>IdentityServer3 with PKCE Part 4 - Persisting User Data</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-3'>IdentityServer3 with PKCE Part 3 - Persist IdentityServer Configuration</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-2'>IdentityServer3 with PKCE Part 2 - Protected Resource Server</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/identityserver3-with-pkce-part-1-simple'>IdentityServer3 with PKCE Part 1 - Simple OAuth2 Server</a></li></ol></li><li class='history-month'><label for='2017-3'>March</label><input type='checkbox'  id='2017-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 5c - Multiple Solutions: Dependencies</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/sane-database-schema-conventions'>Sane Database Schema Conventions</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-agent'>TFS Continuous Integration - Agent Installation and Visual Studio Licensing</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-clickonce'>TFS Continuous Integration - ClickOnce Apps</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-and-private'>TFS Continuous Integration and Private NuGet Package Sources</a></li></ol></li><li class='history-month'><label for='2017-2'>February</label><input type='checkbox'  id='2017-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_22'>TFS Continuous Integration Walk Through Part 5b - Multiple Solutions: Simple Project References</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_20'>TFS Continuous Integration Walk Through Part 5a - Multiple Solutions: Overview</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_24'>TFS Continuous Integration Walk Through Part 4b - Problems With Traits</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_6'>TFS Continuous Integration Walk Through Part 4a - Filtering Tests</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_63'>TFS Continuous Integration Walk Through Part 3 - Notifications</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through_5'>TFS Continuous Integration Walk Through Part 2 - Create an Automated Build</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/tfs-continuous-integration-walk-through'>TFS Continuous Integration Walk Through Part 1 - Installing TFS and Checking In a Test Project</a></li></ol></li><li class='history-month'><label for='2017-1'>January</label><input type='checkbox'  id='2017-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-else-programmers-do-text'>What Else Programmers Do: A Text Manipulation Example</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/what-does-this-code-do-extended'>What does this code do? Extended explanation</a></li></ol></li></ol></li><li class='history-year'><label for='2016'>2016</label><input type='checkbox'  id='2016' /><ol><li class='history-month'><label for='2016-12'>December</label><input type='checkbox'  id='2016-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/nexus-5-gps-lock-problem-and-two'>Nexus 5 GPS Lock Problem and Three--or More!--Solutions</a></li></ol></li><li class='history-month'><label for='2016-11'>November</label><input type='checkbox'  id='2016-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-bypass-new-microsoft-office'>How to Bypass the New Microsoft Office Startup and Save Screens</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-tasks-vs-reminders-in-desktop'>Google Tasks vs Reminders in Desktop and Phone</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-claims-based-identity-part-1_6'>Catching Up on Coding - Claims-Based Identity Part 1</a></li></ol></li><li class='history-month'><label for='2016-10'>October</label><input type='checkbox'  id='2016-10' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-forms-authentication'>Creating Forms Authentication Membership Tables in LocalDB–Right and Wrong Ways</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-10-complaint-1-auto-update'>Windows 10 Complaint #1: Auto Update State Loss</a></li></ol></li><li class='history-month'><label for='2016-9'>September</label><input type='checkbox'  id='2016-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/disable-windows-10-photo-automatic'>Disable Windows 10 Photo Automatic Albums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-laymans-explanation-of-mocking-and'>A Layman’s Explanation of Mocking and Dependency Injection</a></li></ol></li><li class='history-month'><label for='2016-8'>August</label><input type='checkbox'  id='2016-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-3'>Catching Up on Coding - TDD Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-2'>Catching Up on Coding - TDD Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-tdd-part-1'>Catching Up on Coding - TDD Part 1</a></li></ol></li><li class='history-month'><label for='2016-7'>July</label><input type='checkbox'  id='2016-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/writing-to-current-users-registry-when'>Writing to the Current User(s) Registry When Running as System</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/catching-up-on-coding-syllabus'>Catching Up on Coding - The Syllabus</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/quickly-enable-mercurial-keyring-for'>Quickly Enable Mercurial Keyring for BitBucket</a></li></ol></li><li class='history-month'><label for='2016-6'>June</label><input type='checkbox'  id='2016-6' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/create-easily-debuggable-windows-service'>Create an Easily Debuggable Windows Service</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/underrated-work-skills'>(Underrated) Work Skills</a></li></ol></li><li class='history-month'><label for='2016-5'>May</label><input type='checkbox'  id='2016-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/vbnet-windows-project-to-c-conversion'>VB.Net Windows Project to C# Conversion Tools Quick Review</a></li></ol></li><li class='history-month'><label for='2016-2'>February</label><input type='checkbox'  id='2016-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/scroll-bars-in-blogger-tags'>Scroll bars in Blogger &lt;pre&gt; Tags</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/google-keep-changes-taking-to-forums'>Google Keep Changes: Taking to the Forums</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/backward-step-for-google-keep'>Backward Step for Google Keep</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/recover-virtualbox-snapshots'>Recover VirtualBox Snapshots</a></li></ol></li><li class='history-month'><label for='2016-1'>January</label><input type='checkbox'  id='2016-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/auto-updating-new-windows-7-installation'>Auto Updating a New Windows 7 Installation</a></li></ol></li></ol></li><li class='history-year'><label for='2015'>2015</label><input type='checkbox'  id='2015' /><ol><li class='history-month'><label for='2015-8'>August</label><input type='checkbox'  id='2015-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/shoretel-brilliantly-simple'>ShoreTel - Brilliantly Simple?</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/the-google-photos-management-problems'>The Google Photos Management Problem(s)</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/creating-long-lasting-clickonce'>Creating a Long-Lasting ClickOnce Certificate</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/more-encrypted-config-filesclickonce'>More Encrypted Config Files–ClickOnce Complications</a></li></ol></li><li class='history-month'><label for='2015-7'>July</label><input type='checkbox'  id='2015-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/encrypting-appconfig'>Encrypting app.config</a></li></ol></li><li class='history-month'><label for='2015-3'>March</label><input type='checkbox'  id='2015-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/better-google-sites-designthe-notched'>Better Google Sites Design–The Notched Page</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/removing-unremovable-bluetooth-device'>Removing Unremovable Bluetooth Device: FAIL!</a></li></ol></li></ol></li><li class='history-year'><label for='2014'>2014</label><input type='checkbox'  id='2014' /><ol><li class='history-month'><label for='2014-11'>November</label><input type='checkbox'  id='2014-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-savernet-and-similar'>How to remove Savernet (and similar) Chrome extension</a></li></ol></li><li class='history-month'><label for='2014-9'>September</label><input type='checkbox'  id='2014-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/prevent-word-from-restoring-minimized'>Prevent Word from Restoring Minimized Documents</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clever-phish'>Clever Phish</a></li></ol></li><li class='history-month'><label for='2014-8'>August</label><input type='checkbox'  id='2014-8' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/enable-synaptics-touchpad-2-finger-tap'>Enable Synaptics touchpad 2-finger tap context menu</a></li></ol></li><li class='history-month'><label for='2014-5'>May</label><input type='checkbox'  id='2014-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/installing-fcm-flow-cytrometry-library'>Installing fcm flow cytrometry library on Windows 8.1</a></li></ol></li><li class='history-month'><label for='2014-4'>April</label><input type='checkbox'  id='2014-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-update-1-driver-problem-dtmb'>Windows 8.1 Update 1 Driver Problem DTMB BDA TV USB</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-window-key-s-search-from'>Windows 8.1: Window Key + S = Search from Desktop</a></li></ol></li><li class='history-month'><label for='2014-3'>March</label><input type='checkbox'  id='2014-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-2011-windows-update-one-or-more'>WHS 2011 Windows Update “One or more services are no running” alert</a></li></ol></li><li class='history-month'><label for='2014-2'>February</label><input type='checkbox'  id='2014-2' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem-continued'>Lenovo U530 Touch WiFi Problem Continued</a></li></ol></li><li class='history-month'><label for='2014-1'>January</label><input type='checkbox'  id='2014-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/lenovo-u530-touch-wifi-problem'>Lenovo U530 Touch WiFi Problem</a></li></ol></li></ol></li><li class='history-year'><label for='2013'>2013</label><input type='checkbox'  id='2013' /><ol><li class='history-month'><label for='2013-12'>December</label><input type='checkbox'  id='2013-12' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/whs-connector-restart-error-in-windows'>WHS Connector Restart Error in Windows 8.0/8.1</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/how-to-remove-apps-from-google-play-my'>How to Remove Apps from Google Play My Apps Site</a></li></ol></li><li class='history-month'><label for='2013-11'>November</label><input type='checkbox'  id='2013-11' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/windows-81-hidden-opt-ins-opt-outs'>Windows 8.1 Hidden Opt Ins/ Opt Outs</a></li></ol></li><li class='history-month'><label for='2013-9'>September</label><input type='checkbox'  id='2013-9' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-epilogue'>Edward Farley and the Fantastic Library Epilogue</a></li></ol></li><li class='history-month'><label for='2013-7'>July</label><input type='checkbox'  id='2013-7' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-2-end'>A Week (or More!) of JoliCloud - Day 2: THE END</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/a-week-or-more-of-jolicloud-day-1'>A Week (or More!) of JoliCloud - Day 1</a></li></ol></li><li class='history-month'><label for='2013-5'>May</label><input type='checkbox'  id='2013-5' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-12'>Edward Farley and the Fantastic Library Part 12</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1019'>Edward Farley and the Fantastic Library Part 11</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-10'>Edward Farley and the Fantastic Library Part 10</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-9'>Edward Farley and the Fantastic Library Part 9</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-8'>Edward Farley and the Fantastic Library Part 8</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-7'>Edward Farley and the Fantastic Library Part 7</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-6'>Edward Farley and the Fantastic Library Part 6</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-5'>Edward Farley and the Fantastic Library Part 5</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-4'>Edward Farley and the Fantastic Library Part 4</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-3'>Edward Farley and the Fantastic Library Part 3</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-2'>Edward Farley and the Fantastic Library Part 2</a></li><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/edward-farley-part-1'>Edward Farley and the Fantastic Library Part 1</a></li></ol></li><li class='history-month'><label for='2013-4'>April</label><input type='checkbox'  id='2013-4' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/clean-up-orphaned-sql-users'>Clean Up Orphaned SQL Users</a></li></ol></li><li class='history-month'><label for='2013-3'>March</label><input type='checkbox'  id='2013-3' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/t-sql-one-to-one-cant-be-done'>T-SQL One to One Can't Be Done</a></li></ol></li><li class='history-month'><label for='2013-1'>January</label><input type='checkbox'  id='2013-1' /><ol><li class='history-post'><a class='history-post' href='https://www.softwaremeadows.com/posts/test-post-with-code'>Migrating Google Drive</a></li></ol></li></ol></li></ol>
        </div>
        <a href="javascript:void(0);" class="icon" onclick="toggleNav()">&#9776;</a>
      </nav>
    </div>
    <div class="col-right">
      <header>
        <div id="site-image">
          <img src="https://www.softwaremeadows.com/images/header.png" alt="" />
        </div>
        <h1 id="site-name"></h1>
        <div id="site-subtitle">A pleasant walk through computing</div>
      </header>
      <section id="content">
        <hr />

        <p id="comment">
          Comment for me? Send an <a href="mailto:charles@tfhome.us?subject=Comment on Home | Software Meadows">email</a>. I might even update the post!
        </p>
        

      </section>
      <!-- posts only appear in home index -->
      <section id="posts">
        
              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting'>Raw Code - Picture Renaming and Sorting</a></h2>
                <p class='post-info'><span class='posted-on'>2018-04-30 10:26</span></p>
                <div class='post-content'><p><img src="https://www.softwaremeadows.com/posts/raw_code_-_picture_renaming_and_sorting/images/raw-code.png" alt="" /></p>
<p>A while back I needed to rename a bunch of pictures, prefixing them with numbers, so that they'd sort the way I wanted.</p>
<p>Here's the code I used. I ran this in <a href="http://www.linqpad.net/">LINQPad</a>, but you could use it in a console app with minor modifications. One nice thing I learned to do: get image datetime <em>without</em> loading the whole image.</p>
<p>Hope this is useful to you in some way!</p>
<pre><code class="language-csharp">void Main()
{
	string path = @&quot;C:\Users\charles\Pictures\Inbox\20160630&quot;;
	List&lt;FileChange&gt; list = new List&lt;UserQuery.FileChange&gt;();

    foreach (string fileName in Directory.GetFiles(path))
	{
		DateTime taken;
		try
		{
			taken = GetDateTakenFromImage(fileName);
		}
		catch
		{
			try
			{
				taken = GetDateTakenFromFilename(fileName);
			}
			catch
			{
				taken = File.GetLastWriteTime(fileName);
				if (File.GetCreationTime(fileName) &lt; taken) { taken = File.GetCreationTime(fileName); }
			}
		}
		FileChange item = new FileChange(fileName, &quot;&quot;, taken);
		//set new taken on to old.
		item.NewTakenOn = item.OldTakenOn;
		list.Add(item);
	}

	//sort and set new name
	int newNbr = 1;
	foreach (var item in list.OrderBy(l =&gt; l.OldTakenOn))
	{
		item.DestinationFileName = GetNewFileName(item.SourceFileName, newNbr);
		newNbr++;
	}
	
	DumpList(list.OrderBy(l =&gt; l.OldTakenOn).ToList());
	DumpList(list.OrderBy(l =&gt; l.NewTakenOn).ToList());
	
	//rename
	list.ForEach(a =&gt; File.Move(a.SourceFileName, a.DestinationFileName));
}

public static void DumpList(List&lt;FileChange&gt; list)
{
	var newList = list
	.Select(l =&gt; new { oldName = Path.GetFileName(l.SourceFileName), newName = Path.GetFileName(l.DestinationFileName), l.OldTakenOn, l.NewTakenOn });
	newList.Dump();
}

//http://stackoverflow.com/questions/180030/how-can-i-find-out-when-a-picture-was-actually-taken-in-c-sharp-running-on-vista
//we init this once so that if the function is repeatedly called
//it isn't stressing the garbage man
private static Regex r = new Regex(&quot;:&quot;);

//retrieves the datetime WITHOUT loading the whole image
public static DateTime GetDateTakenFromImage(string path)
{
	using (FileStream fs = new FileStream(path, FileMode.Open, FileAccess.Read))
	using (Image myImage = Image.FromStream(fs, false, false))
	{
		//if (!myImage.PropertyIdList.Any(a =&gt; a == 36867)){ return DateTime.Parse(&quot;1/1/1900&quot;);}
		PropertyItem propItem = myImage.GetPropertyItem(36867);
		string dateTaken = r.Replace(Encoding.UTF8.GetString(propItem.Value), &quot;-&quot;, 2);
		//string t = Encoding.UTF8.GetString(propItem.Value);
		return DateTime.Parse(dateTaken);
	}
}

public static DateTime GetDateTakenFromFilename(string path)
{
	var takenPartSplit = path.Substring(3, 15).Split('_');
	string datePart = takenPartSplit[0];
	string timePart = takenPartSplit[1];
	datePart = datePart.Substring(0, 4) + &quot;-&quot; + datePart.Substring(4, 2) + &quot;-&quot; + datePart.Substring(6, 2);
	timePart = timePart.Substring(0, 2) + &quot;:&quot; + timePart.Substring(2, 2) + &quot;:&quot; + timePart.Substring(4, 2);
	string datetime = datePart + &quot; &quot; + timePart;
	return DateTime.Parse(datetime);
}

public static string GetNewFileName(string path, int newNumber)
{
	string oldName = Path.GetFileName(path);
	string newName = oldName;
	newName = newNumber.ToString().PadLeft(3, '0') + &quot; &quot; + newName;
	return path.Replace(oldName, newName);
}

public class FileChange
{
	public string SourceFileName { get; set; }
	public string DestinationFileName { get; set; }
	public DateTime OldTakenOn { get; set; }
	public DateTime NewTakenOn { get; set; }

	public FileChange(string source, string destination, DateTime takenOn)
	{
		SourceFileName = source;
		DestinationFileName = destination;
		OldTakenOn = takenOn;
	}
}
</code></pre>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1'>Becoming a Professional Blogger Part 1</a></h2>
                <p class='post-info'><span class='posted-on'>2018-04-28 10:12</span></p>
                <div class='post-content'><p><img src="https://www.softwaremeadows.com/posts/becoming_a_professional_blogger_part_1/images/pro-blogger.png" alt="" /></p>
<p>After watching this <a href="https://www.youtube.com/watch?v=5MgBikgcWnY">TED Talk by Josh Kaufman</a>, I decided to take on a 20-hour challenge: to (start to) become a professional blogger.</p>
<p>This is part 1 of two entries. I'll follow up after July 1 to see whether I met my general goals.</p>
<p>The big reason I'm writing this post is...</p>
<blockquote>
<p>After posting, I'll have reached my twenty hours!</p>
</blockquote>
<p><em>Note: There are references below to a static site generator to be named. Stay tuned...I hope to release it in the next month or so.</em>*</p>
<h2 id="define-success">Define Success</h2>
<p>My initial thoughts:</p>
<ul>
<li>Publishing articles five days a week</li>
<li>Articles referenced by others</li>
<li>Writing articles for other sites</li>
<li>Ideally, earning some money</li>
</ul>
<p>After research:</p>
<ul>
<li>The classic definition is just like music: professionals get paid</li>
</ul>
<blockquote>
<p>By July 1, write 60 blog posts and have 5K unique pageviews per day</p>
</blockquote>
<h2 id="resources">Resources</h2>
<p>Definitions of professional blogger</p>
<ul>
<li><a href="https://john.do/professional-blogger/">The Definition of a 'Professional Blogger' or 'Full Time Blogger'</a></li>
<li><a href="http://performancing.com/what_s_a_professional_blogger/">What's a Professional Blogger</a></li>
<li><a href="https://heartifb.com/2013/04/15/7-signs-might-be-professional-blogger/">Seven Signs You Might Be a Professional Blogger</a></li>
</ul>
<p>Measuring Traffic</p>
<ul>
<li><a href="http://wordsbyevanporter.com/everything-about-pageviews/">Everything about Page Views</a></li>
<li><a href="https://www.busybudgeter.com/how-many-pageviews-do-you-need-to-make-money-blogging/">How Many PageViews Do YOu Need to Make Money Blogging?</a></li>
</ul>
<p>How To</p>
<ul>
<li><a href="https://money.usnews.com/money/articles/2009/05/19/how-to-earn-money-as-a-professional-blogger">How to Earn Money as a Professional Blogger</a></li>
<li><a href="https://www.shoutmeloud.com/how-to-become-a-full-time-professional-blogger.html">How To Become A Professional Blogger &amp; Be Your Own Boss</a></li>
<li><a href="https://www.wikihow.com/Be-a-Professional-Blogger">How to Be a Professional Blogger</a></li>
<li><a href="https://www.makealivingwriting.com/how-i-make-5k-blogging/">How I Make 5K Blogging</a></li>
</ul>
<p>SEO</p>
<ul>
<li><a href="https://www.shoutmeloud.com/google-penguin-update-recovery-tips.html">Goolge Penguin Update Recovery Tips</a></li>
</ul>
<p>PLATFORM</p>
<ul>
<li>[Site-Generator-To-Be-Announced] (or other?)</li>
<li>Comments?</li>
<li>Measure traffic, daily and per-post. Need to know which posts are most popular.</li>
</ul>
<h2 id="plan">Plan</h2>
<p>What do I really like?</p>
<ul>
<li>Methods, especially for self-improvement.</li>
<li>Certain tools, like Git.</li>
<li>Systematizing</li>
</ul>
<p><strong>Add Google Analytics to blog</strong></p>
<ul>
<li>Page views by date</li>
<li>Page views by post</li>
</ul>
<p><strong>Finish [Site-Generator-To-Be-Announced] enough to run as separate .exe</strong><br />
This is the first step to make the posting experience simpler. What I eventually really want is a UI that lets me:</p>
<ol>
<li>Quickly start a post for either Software Meadows or FlattLand</li>
<li>Quickly continue a post</li>
<li>Easily publish a post</li>
</ol>
<p><strong>Make [Site-Generator-To-Be-Announced] template(s) mobile-ready</strong><br />
Most people read on their phones. This is a must.</p>
<p><strong>Gather blog post ideas and keep them on desktop</strong><br />
So that they're readily available, and easy to add to. Also use Keep for ideas, and consolidate weekly.</p>
<p><strong>Write shorter posts</strong><br />
It's OK to write posts that are a few paragraphs. In fact, more people will read them.</p>
<h2 id="journal">Journal</h2>
<p>2018-03-22 11:41:19</p>
<p>Gathered some resources, started trying to define success and pare down my goals.</p>
<p>2018-03-26 14:50:55</p>
<p>More planning, including tasks of adding analytics, and what needs to improve in [Site-Generator-To-Be-Announced] and the web sites.</p>
<p>2018-03-27 14:10:18</p>
<p>I've pulled my backlog blog ideas. Now off to Keith's to review/organize.</p>
<p>2018-03-27 16:30:38</p>
<p>Finished blog post about image resizing to target dimensions.</p>
<p>2018-04-04 16:00:00
Publish FlattLand post &quot;Clean Keep using labels+archives&quot;</p>
<p>2018-04-14 14:44:26</p>
<p>I needed [Site-Generator-To-Be-Announced] to be a single Exe. FodyWeavers (strange name) was the solution. I'm not even sure what this does, but there's a extension called Costura that packages up all the assemblies into a single .exe. Nice and easy!</p>
<p><a href="https://github.com/Fody/Fody/">https://github.com/Fody/Fody/</a></p>
<p><a href="https://www.nuget.org/packages?q=Costura.Fody">https://www.nuget.org/packages?q=Costura.Fody</a></p>
<p>2018-04-14 15:44:06</p>
<p>[Site-Generator-To-Be-Announced] command line is working fine. I wanted to use the Markdown Monster scripting addin to automate managing posts (at least temporarily), but no good. I suppose I could use LINQPad....</p>
<p>2018-04-15 13:03:26</p>
<p>I have Markdown Monster set up using the C# addin to quickly create and publish blog posts. It's a good interim solution!</p>
<p>2018-04-20 20:00:00
Begin time boxing post</p>
<p>2018-04-21 10:38:05</p>
<p>It's been a busy morning. I  posted about my current time-boxing approach. Lots of research!</p>
<p>2018-04-21 21:22:46</p>
<p>Adding Google Analytics to a website? Easier than pie. Ten minutes from starting research to completion.</p>
<p>2018-04-27 15:33:54</p>
<p>About two hours of research into how to delete child entities in EF.</p>
<p>Writing a blog article now.</p>
<p>2018-04-27 18:58:47</p>
<p>Article is done. This weekend is about making the site mobile-friendly.</p>
<p>2018-04-28 06:22:09</p>
<p>Thank you, <a href="https://www.w3schools.com/css/css_rwd_intro.asp">w3schools.com</a>! You always seem to have the best simple introductions to a subject.</p>
<p>2018-04-28 08:13:13</p>
<p>It may not be the best, but it didn't take long to get my sites working for mobile (at least on my phone).</p>
<p>2018-04-28 10:10:47</p>
<p>Reviewing my ProBlogger progress. I'm about ten minutes from my 20 hours.</p>
<p>2018-04-28 10:31:08</p>
<p>Post part 1 of becoming a ProBlogger.</p>
</div>
              </div>
              

              <div class='post'>
                <h2 class='post-title'><a href='https://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid'>Entity Framework 6 Child Deletion and Foreign Keys - String Int GUID</a></h2>
                <p class='post-info'><span class='posted-on'>2018-04-27 14:52</span></p>
                <div class='post-content'><p><img src="https://www.softwaremeadows.com/posts/entity_framework_6_child_deletion_and_foreign_keys_string_int_guid/images/ef-delete-child.png" alt="" /></p>
<ul>
<li><a href="#the-problem">The Problem</a></li>
<li><a href="#the-solution-short-version-for-the-impatient">The Solution - Short Version for the Impatient</a></li>
<li><a href="#foreign-keys-that-are-manually-generated-andor-a-string-int-or-guid">Foreign Keys That Are Manually Generated, And/Or a String, Int or GUID</a>
<ul>
<li><a href="#test-schema">Test Schema</a></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#basic-dbcontext-class">Basic DbContext class</a></li>
<li><a href="#string-key-manually-generated">String Key (Manually Generated)</a></li>
<li><a href="#manually-generated-int-keys">Manually-generated Int keys</a></li>
<li><a href="#identity-int-keys">Identity Int keys</a></li>
<li><a href="#manually-generated-guid-keys">Manually-generated GUID keys</a></li>
<li><a href="#identity-guid-default-sequential-guid-keys">&quot;Identity&quot; GUID (Default Sequential GUID keys)</a></li>
</ul>
</li>
<li><a href="#lessons-learned">Lessons Learned</a></li>
<li><a href="#references">References</a>
<ul>
<li><a href="#other-background-information">Other Background Information</a></li>
</ul>
</li>
</ul>
<h1 id="the-problem">The Problem</h1>
<p>Here's a typical pattern for deleting a child entity we've all tried when using EF6.</p>
<pre><code class="language-csharp">public void DeleteItem(int orderId, int itemId)
{
  var db = MyDbContext();
  var order = db.Orders.Find(orderId);
  order.Items.Remove(order.Items.Find(itemId));
  db.SaveChanges();
}
</code></pre>
<p>Then we get one of these errors:</p>
<blockquote>
<p>Cannot insert the value NULL into column 'OrderId', table 'MyDbContext.dbo.Items'; column does not allow nulls. UPDATE fails.</p>
</blockquote>
<p>Or</p>
<blockquote>
<p>The operation failed: The relationship could not be changed because one or more of the foreign-key properties is non-nullable. When a change is made to a relationship, the related foreign-key property is set to a null value. If the foreign-key does not support null values, a new relationship must be defined, the foreign-key property must be assigned another non-null value, or the unrelated object must be deleted.</p>
</blockquote>
<p>This article explains why this happens and what to do about it. It also demonstrates configuring for five different key datatypes:</p>
<ul>
<li>String</li>
<li>Manually-generated Int</li>
<li>Identity Int</li>
<li>Manually-generated GUID</li>
<li>&quot;Identity&quot; GUID</li>
</ul>
<p>It's nigh-on impossible to find any EF examples of foreign key relationships that don't use a integer identity column for the primary key. Also, I haven't seen any author demonstrate the approach I'm taking, even though it's perfectly legitimate from an Entity Framework perspective. Simply put:</p>
<blockquote>
<p>We don't <em>have</em> to model the database exactly as it is.</p>
</blockquote>
<h1 id="the-solution-short-version-for-the-impatient">The Solution - Short Version for the Impatient</h1>
<p>Most SQL databases I've seen create a one-to-many relationship this way. All of these columns are not nullable.</p>
<pre><code class="language-txt">Order
-----
OrderId PK

Item
----
ItemId  PK
OrderId FK
</code></pre>
<p>This is technically called a <em>non-identifying relationship</em>. An item belongs to an order, but it's only required because OrderId is not null. OrderId <em>isn't</em> part of the item's primary key. The OrderId foreign key can change. The foreign key could be changed to nullable, and there could then be items that exist without an order.</p>
<p>Here's an <em>identifying relationship</em>. And item's uniqueness is bound to an order. The foreign key is also part of the primary key (it's a composite key). Thus, the foreign key can't change and the item <em>must</em> be part of an order.</p>
<pre><code class="language-txt">Order
-----
OrderId PK

Item
----
ItemId  PK
OrderId PK, FK
</code></pre>
<p>Entity Framework will automatically delete child entities that are part of an identifying relationship. If the relationshiop is non-identifying, EF will try to set the foreign key to null.</p>
<blockquote>
<p>I'm sure there's a reason for this behavior, but I don't understand it. If EF <em>knows</em> the foreign key can't be null, why not go ahead and delete the child entity?</p>
</blockquote>
<p>If your child table has a non-identifying relationship (which is common), you have two options:</p>
<ol>
<li>Change the table's foreign key to a composite key, as well as the entity's configuration in EF.</li>
<li><em>Only</em> change the entity's EF configuration.</li>
</ol>
<p>I like the second one. Here's how this looks.</p>
<p><strong>Again, the non-Identifying Item relationship in the table</strong></p>
<pre><code class="language-txt">Order
-----
OrderId PK

Item
----
ItemId  PK
OrderId FK
</code></pre>
<p><strong>Identifying Item relationship in Entify Framework</strong></p>
<pre><code class="language-csharp">protected override void OnModelCreating(DbModelBuilder modelBuilder)
{
    modelBuilder.Entity&lt;Item&gt;()
    .HasKey(a =&gt; new { a.ItemId, a.OrderId });
}
</code></pre>
<p>With this in place, using <code>Order.Items.Remove(item)</code> will result in Entity Framework deleting the item.</p>
<h1 id="foreign-keys-that-are-manually-generated-andor-a-string-int-or-guid">Foreign Keys That Are Manually Generated, And/Or a String, Int or GUID</h1>
<p>Let's keep assuming a non-identifying relationship with non-nullable foreign keys. How does the EF configuration change if we're dealing with string or GUID primary keys? What if the keys aren't auto-generated?</p>
<p>I wrote a console application to explore this. It turns out each flavor needs a little tweak because of EF conventions.</p>
<h2 id="test-schema">Test Schema</h2>
<p>Create a new database and run this script to create the tables.</p>
<pre><code class="language-sql">--String Keys
create table Customers (
	CustomerId varchar(10) not null primary key,
)

create table Addresses (
	AddressId varchar(10) not null primary key,
	CustomerId varchar(10) not null foreign key references Customers(CustomerId),
)

--Manually-generated Int keys
create table Orders (
	OrderId int not null primary key,
)

create table Items (
	ItemId int not null primary key,
	OrderId int not null foreign key references Orders(OrderId),
)

--Identity Int keys
create table Projects (
	ProjectId int not null identity primary key,
)

create table Tasks (
	TaskId int not null identity primary key,
	ProjectId int not null foreign key references Projects(ProjectId),
)

--Manually-generated GUID keys
create table Stores (
	StoreId uniqueidentifier not null primary key,
)

create table Employees (
	EmployeeId uniqueidentifier not null primary key,
	StoreId uniqueidentifier not null foreign key references Stores(StoreId),
)

--&quot;Identity&quot; Default Sequential GUID keys
create table Gardens (
	GardenId uniqueidentifier default newsequentialid() not null primary key,
)

create table Flowers (
	FlowerId uniqueidentifier default newsequentialid() not null primary key,
	GardenId uniqueidentifier not null foreign key references Gardens(GardenId),
)
</code></pre>
<h2 id="classes">Classes</h2>
<p>Here are the classes that map to the above tables.</p>
<pre><code class="language-csharp">//String Keys
public class Customer
{
    public string CustomerId { get; set; }
    public virtual ICollection&lt;Address&gt; Addresses { get; set; } = new HashSet&lt;Address&gt;();
}

public class Address
{
    public string AddressId { get; set; }
    public string CustomerId { get; set; }
    public Customer Customer { get; set; }
}

//Manually-generated Int keys
public class Order
{
    public int OrderId { get; set; }
    public virtual ICollection&lt;Item&gt; Items { get; set; } = new HashSet&lt;Item&gt;();
}

public class Item
{
    public int ItemId { get; set; }
    public int OrderId { get; set; }
    public Order Order { get; set; }
}

//Identity Int keys
public class Project
{
    public int ProjectId { get; set; }
    public virtual ICollection&lt;Task&gt; Tasks { get; set; } = new HashSet&lt;Task&gt;();
}

public class Task
{
    public int TaskId { get; set; }
    public int ProjectId { get; set; }
    public Project Project { get; set; }
}

//Manually-generated GUID keys
public class Store
{
    public Guid StoreId { get; set; }
    public ICollection&lt;Employee&gt; Employees { get; set; } = new HashSet&lt;Employee&gt;();
}

public class Employee
{
    public Guid EmployeeId { get; set; }
    public Guid StoreId { get; set; }
    public Store Store { get; set; }
}

//Identity GUID keys
public class Garden
{
    public Guid GardenId { get; set; }
    public ICollection&lt;Flower&gt; Flowers { get; set; } = new HashSet&lt;Flower&gt;();
}

public class Flower
{
    public Guid FlowerId { get; set; }
    public Guid GardenId { get; set; }
    public Garden Garden { get; set; }
}
</code></pre>
<h2 id="basic-dbcontext-class">Basic DbContext class</h2>
<p>My DbContext is named EfTestDb. The basic setup lets us view SQL statements.</p>
<blockquote>
<p>I've turned off lazy loading, because I'm finding that a typical enterprise practice. The configurations are the same if lazy loading is turned on.</p>
</blockquote>
<pre><code class="language-csharp">public class EfTestDb : DbContext
{
    public DbSet&lt;Customer&gt; Customers { get; set; }
    public DbSet&lt;Address&gt; Addresses { get; set; }
    public DbSet&lt;Order&gt; Orders { get; set; }
    public DbSet&lt;Item&gt; Items { get; set; }
    public DbSet&lt;Project&gt; Projects { get; set; }
    public DbSet&lt;Task&gt; Tasks { get; set; }
    public DbSet&lt;Store&gt; Stores { get; set; }
    public DbSet&lt;Employee&gt; Employees { get; set; }
    public DbSet&lt;Garden&gt; Gardens { get; set; }
    public DbSet&lt;Flower&gt; Flowers { get; set; }

    public EfTestDb()
    {
        Database.SetInitializer&lt;EfTestDb&gt;(null);
        Configuration.LazyLoadingEnabled = false;
        Configuration.ProxyCreationEnabled = false;

        //Show SQL in Output Debug window.
        this.Database.Log = s =&gt;
        {
            System.Diagnostics.Debug.Write(s);
            System.Diagnostics.Trace.Write(s);
            Console.WriteLine(s);
        };
    }
}
</code></pre>
<h2 id="string-key-manually-generated">String Key (Manually Generated)</h2>
<p>It's still pretty common to have primary keys that are &quot;intelligent&quot; strings such as &quot;blue-washer-20050225&quot; that are generated by the application.</p>
<p>Here's the EF configuration.</p>
<blockquote>
<p>I'm relying on EF conventions for key column naming, otherwise I'd need more configurations for .HasKey, .HasColumnName, etc.</p>
</blockquote>
<pre><code class="language-csharp">// # String Keys
modelBuilder.Entity&lt;Customer&gt;()
    .HasMany(a =&gt; a.Addresses);

modelBuilder.Entity&lt;Address&gt;()
    .HasKey(a =&gt; new { a.AddressId, a.CustomerId })
    .HasRequired(a =&gt; a.Customer);

</code></pre>
<p>This is the general pattern we'll see. The difference will be in how the keys and properties are defined.</p>
<p>Here's the testing code. I'm using DetachAllEntities to simulate saving a complex entity in one session, then deleting a child in another.</p>
<pre><code class="language-csharp">class Program
{
    static void Main(string[] args)
    {
        StringKey();
        ManualInt();
        IdentityInt();
        ManualGuid();
        IdentityGuid();

        Console.ReadLine();
    }

    static void DetachAllEntities(EfTestDb db)
    {
        foreach (var entry in db.ChangeTracker.Entries()) { entry.State = EntityState.Detached; }
    }

    static void StringKey()
    {
        using (var db = new EfTestDb())
        {
            //clean up
            db.Addresses.RemoveRange(db.Addresses);
            db.Customers.RemoveRange(db.Customers);
            db.SaveChanges();
            DetachAllEntities(db);

            //add complex entity
            var customer = new Customer()
            {
                CustomerId = &quot;a&quot;,
                Addresses = new HashSet&lt;Address&gt;()
                {
                    new Address() { AddressId = &quot;aa&quot; },
                    new Address() { AddressId = &quot;bb&quot; }
                }
            };

            db.Customers.Add(customer);
            db.SaveChanges();
            DetachAllEntities(db);

            //delete child
            customer = db.Customers.Include(a =&gt; a.Addresses).First();
            var address = customer.Addresses.First();
            customer.Addresses.Remove(address);
            db.SaveChanges();
        }
    }
    //... remaining test methods
}
</code></pre>
<h2 id="manually-generated-int-keys">Manually-Generated Int keys</h2>
<pre><code class="language-csharp">// # Manually-generated Int keys
modelBuilder.Entity&lt;Order&gt;()
    .HasMany(a =&gt; a.Items);
modelBuilder.Entity&lt;Order&gt;()
    // I don't know why this is required, except that 
    // maybe EF assumes an int key is going to be an identity column
    .Property(p =&gt; p.OrderId)
        .HasDatabaseGeneratedOption(System.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.None);

modelBuilder.Entity&lt;Item&gt;()
    .HasKey(a =&gt; new { a.ItemId, a.OrderId })
    .HasRequired(a =&gt; a.Order);

</code></pre>
<pre><code class="language-csharp">static void ManualInt()
{
    var db = new EfTestDb();

    //clean up
    db.Items.RemoveRange(db.Items);
    db.Orders.RemoveRange(db.Orders);
    db.SaveChanges();
    DetachAllEntities(db);

    //add complex entity
    var order = new Order()
    {
        OrderId = 1,
        Items = new List&lt;Item&gt;()
        {
            new Item() { ItemId = 11 },
            new Item() { ItemId = 22 }
        }
    };

    db.Orders.Add(order);
    db.SaveChanges();
    DetachAllEntities(db);

    //delete child
    order = db.Orders.Include(a =&gt; a.Items).First();
    var Item = order.Items.First();
    order.Items.Remove(Item);
    db.SaveChanges();
}
</code></pre>
<h2 id="identity-int-keys">Identity Int keys</h2>
<pre><code class="language-csharp">modelBuilder.Entity&lt;Task&gt;()
    .HasKey(a =&gt; new { a.TaskId, a.ProjectId });
modelBuilder.Entity&lt;Task&gt;()
    .Property(p =&gt; p.TaskId)
        // required because EF can't assume TaskId is an identity column since it's part of a composite key.
        .HasDatabaseGeneratedOption(System.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.Identity);
</code></pre>
<pre><code class="language-csharp">   static void IdentityInt()
    {
        var db = new EfTestDb();

        //clean up
        db.Tasks.RemoveRange(db.Tasks);
        db.Projects.RemoveRange(db.Projects);
        db.SaveChanges();
        DetachAllEntities(db);

        //add complex entity
        var Project = new Project()
        {
            Tasks = new List&lt;Task&gt;()
            {
                new Task(),
                new Task()
            }
        };

        db.Projects.Add(Project);
        db.SaveChanges();
        DetachAllEntities(db);

        //delete child
        Project = db.Projects.Include(a =&gt; a.Tasks).First();
        var Task = Project.Tasks.First();
        Project.Tasks.Remove(Task);
        db.SaveChanges();
    }
</code></pre>
<h2 id="manually-generated-guid-keys">Manually-Generated GUID keys</h2>
<pre><code class="language-csharp">modelBuilder.Entity&lt;Store&gt;()
    .HasMany(a =&gt; a.Employees);

modelBuilder.Entity&lt;Employee&gt;()
    .HasKey(a =&gt; new { a.EmployeeId, a.StoreId })
    .HasRequired(a =&gt; a.Store);
</code></pre>
<pre><code class="language-csharp">static void ManualGuid()
{
    var db = new EfTestDb();

    //clean up
    db.Employees.RemoveRange(db.Employees);
    db.Stores.RemoveRange(db.Stores);
    db.SaveChanges();
    DetachAllEntities(db);

    //add complex entity
    var Store = new Store()
    {
        StoreId = Guid.NewGuid(),
        Employees = new List&lt;Employee&gt;()
        {
            new Employee() { EmployeeId = Guid.NewGuid() },
            new Employee() { EmployeeId = Guid.NewGuid() }
        }
    };

    db.Stores.Add(Store);
    db.SaveChanges();
    DetachAllEntities(db);

    //delete child
    Store = db.Stores.Include(a =&gt; a.Employees).First();
    var Employee = Store.Employees.First();
    Store.Employees.Remove(Employee);
    db.SaveChanges();
}
</code></pre>
<h2 id="identity-guid-default-sequential-guid-keys">&quot;Identity&quot; GUID (Default Sequential GUID keys)</h2>
<pre><code class="language-csharp">modelBuilder.Entity&lt;Garden&gt;()
.Property(p =&gt; p.GardenId)
    .HasDatabaseGeneratedOption(System.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.Identity);
modelBuilder.Entity&lt;Garden&gt;()
    .HasMany(a =&gt; a.Flowers);

modelBuilder.Entity&lt;Flower&gt;()
.Property(p =&gt; p.FlowerId)
    .HasDatabaseGeneratedOption(System.ComponentModel.DataAnnotations.Schema.DatabaseGeneratedOption.Identity);
modelBuilder.Entity&lt;Flower&gt;()
    .HasKey(a =&gt; new { a.FlowerId, a.GardenId })
    .HasRequired(a =&gt; a.Garden);
</code></pre>
<pre><code class="language-csharp">static void IdentityGuid()
{
    var db = new EfTestDb();

    //clean up
    db.Flowers.RemoveRange(db.Flowers);
    db.Gardens.RemoveRange(db.Gardens);
    db.SaveChanges();
    DetachAllEntities(db);

    //add complex entity
    var Garden = new Garden()
    {
        Flowers = new List&lt;Flower&gt;()
        {
            new Flower(),
            new Flower()
        }
    };

    db.Gardens.Add(Garden);
    db.SaveChanges();
    DetachAllEntities(db);

    //delete child
    Garden = db.Gardens.Include(a =&gt; a.Flowers).First();
    var Flower = Garden.Flowers.First();
    Garden.Flowers.Remove(Flower);
    db.SaveChanges();
}
</code></pre>
<h1 id="lessons-learned">Lessons Learned</h1>
<ul>
<li>Non-identifying, but <em>required</em>, parent-child relationships are common.</li>
<li>The database doesn't have to be changed to allow Entity Framework to easily delete child records.</li>
<li>The most common key types can be modeled.</li>
</ul>
<h1 id="references">References</h1>
<ul>
<li><a href="https://stackoverflow.com/questions/23081096/entity-framework-6-guid-as-primary-key-cannot-insert-the-value-null-into-column">Entity Framework 6 GUID as primary key: Cannot insert the value NULL into column 'Id', table 'FileStore'; column does not allow nulls</a></li>
<li><a href="https://www.mssqltips.com/sqlservertip/1600/auto-generated-sql-server-keys-with-the-uniqueidentifier-or-identity/">Auto generated SQL Server keys with the uniqueidentifier or IDENTITY</a></li>
<li><a href="https://stackoverflow.com/questions/762937/whats-the-difference-between-identifying-and-non-identifying-relationships/762994#762994">What's the difference between identifying and non-identifying relationships?</a></li>
<li><a href="https://stackoverflow.com/questions/11033348/is-it-possible-to-remove-child-from-collection-and-resolve-issues-on-savechanges">Is it possible to remove child from collection and resolve issues on SaveChanges?</a></li>
<li><a href="https://stackoverflow.com/questions/11536963/delete-item-in-database-when-removed-from-collection-ef-4-3">Delete item in database when removed from collection (EF 4.3)</a></li>
<li><a href="https://stackoverflow.com/questions/24523121/how-to-add-a-composite-unique-key-using-ef-6-fluent-api">How to add a composite unique key using EF 6 Fluent Api?</a></li>
<li><a href="http://www.entityframeworktutorial.net/code-first/configure-property-mappings-using-fluent-api.aspx">Property Mappings using Fluent API:</a></li>
</ul>
<h2 id="other-background-information">Other Background Information</h2>
<ul>
<li><a href="https://stackoverflow.com/questions/19325473/ef6-0-the-relationship-could-not-be-changed-because-one-or-more-of-the-foreign">EF6.0 “The relationship could not be changed because one or more of the foreign-key properties is non-nullable”</a></li>
</ul>
</div>
              </div>
               <div class='paging'><a href='index6.html'>Newer</a>&nbsp;&nbsp;&nbsp;<a href='index8.html'>Older</a></div>
      </section>
      <footer><p>Copyright (c) 2018 Charles L Flatt</p>
</footer>
    </div>
  </div>
  
  <script>
    function toggleNav() {
      var x = document.getElementById("nav");
      if (x.className === "nav") {
        x.className += " responsive";
      } else {
        x.className = "nav";
      }
    }</script>

  

</body>

</html>